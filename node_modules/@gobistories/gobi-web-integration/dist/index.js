/*! @gobistories/gobi-web-integration@6.13.6 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.gobi=t():e.gobi=t()}(window,function(){return r={},i.m=n=[function(e,t,n){"use strict";e.exports=n(178)},function(n,e,t){!function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")()}.call(this,t(19))},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,Ke,qe){"use strict";qe.r(Ke),function(e){qe.d(Ke,"ServerStyleSheet",function(){return ze}),qe.d(Ke,"StyleSheetConsumer",function(){return ae}),qe.d(Ke,"StyleSheetContext",function(){return oe}),qe.d(Ke,"StyleSheetManager",function(){return de}),qe.d(Ke,"ThemeConsumer",function(){return Le}),qe.d(Ke,"ThemeContext",function(){return k}),qe.d(Ke,"ThemeProvider",function(){return De}),qe.d(Ke,"__PRIVATE__",function(){return We}),qe.d(Ke,"createGlobalStyle",function(){return Ue}),qe.d(Ke,"css",function(){return Ee}),qe.d(Ke,"isStyledComponent",function(){return P}),qe.d(Ke,"keyframes",function(){return Be}),qe.d(Ke,"useTheme",function(){return Ge}),qe.d(Ke,"version",function(){return n}),qe.d(Ke,"withTheme",function(){return Ve});var o=qe(48),_=qe(0),d=qe.n(_),t=qe(127),a=qe.n(t),g=qe(128),u=qe(129),T=qe(77),t=qe(76),v=qe.n(t);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},l=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(o.typeOf)(e)},y=Object.freeze([]),S=Object.freeze({});function x(e){return"function"==typeof e}function O(e){return e.displayName||e.name||"Component"}function P(e){return e&&"string"==typeof e.styledComponentId}var m=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",n="5.3.3",b="undefined"!=typeof window&&"HTMLElement"in window,t=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==e.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&e.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.SC_DISABLE_SPEEDY&&""!==e.env.SC_DISABLE_SPEEDY&&("false"!==e.env.SC_DISABLE_SPEEDY&&e.env.SC_DISABLE_SPEEDY)),c={};function h(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(0<n.length?" Args: "+n.join(", "):""))}function r(e){if(A.has(e))return A.get(e);for(;C.has(R);)R++;var t=R++;return A.set(e,t),C.set(t,e),t}function s(e){var t=document.head,r=e||t,e=document.createElement("style"),t=void 0!==(t=function(){for(var e=r.childNodes,t=e.length;0<=t;t--){var n=e[t];if(n&&1===n.nodeType&&n.hasAttribute(m))return n}}())?t.nextSibling:null,n=(e.setAttribute(m,"active"),e.setAttribute("data-styled-version","5.3.3"),F());return n&&e.setAttribute("nonce",n),r.insertBefore(e,t),e}function f(e){return String.fromCharCode(e+(25<e?39:97))}(e=$.prototype).indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;i<=e;)(i<<=1)<0&&h(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},e.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],e=this.indexOfGroup(e),r=e+n,i=e;i<r;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t};var w=$,A=new Map,C=new Map,R=1,L=function(e,t){R<=t&&(R=t+1),A.set(e,t),C.set(t,e)},D="style["+m+'][data-styled-version="5.3.3"]',I=new RegExp("^"+m+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),M=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},F=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},j=((e=q.prototype).insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.getRule=function(e){e=this.sheet.cssRules[e];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},q),N=((e=K.prototype).insertRule=function(e,t){return e<=this.length&&0<=e&&(t=document.createTextNode(t),e=this.nodes[e],this.element.insertBefore(t,e||null),this.length++,!0)},e.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},K),U=((e=H.prototype).insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.getRule=function(e){return e<this.length?this.rules[e]:""},H),B=b,z={isServer:!b,useCSSOMInjection:!t},V=(W.registerId=r,(e=W.prototype).reconstructWithOptions=function(e,t){return void 0===t&&(t=!0),new W(E({},this.options,{},e),this.gs,t&&this.names||void 0)},e.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.getTag=function(){return this.tag||(this.tag=(e=(n=this.options).isServer,t=n.useCSSOMInjection,n=n.target,e=new(e?U:t?j:N)(n),new w(e)));var e,t,n},e.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.registerName=function(e,t){var n;r(e),this.names.has(e)?this.names.get(e).add(t):((n=new Set).add(t),this.names.set(e,n))},e.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(r(e),n)},e.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.clearRules=function(e){this.getTag().clearGroup(r(e)),this.clearNames(e)},e.clearTag=function(){this.tag=void 0},e.toString=function(){for(var e=this,t=e.getTag(),n=t.length,r="",i=0;i<n;i++){u=i;var o,a,s,u=C.get(u);void 0!==u&&(o=e.names.get(u),a=t.getGroup(i),o&&a&&o.size&&(u=m+".g"+i+'[id="'+u+'"]',s="",void 0!==o&&o.forEach(function(e){0<e.length&&(s+=e+",")}),r+=a+u+'{content:"'+s+'"}/*!sc*/\n'))}return r},W),G=/(a)(d)/gi;function W(e,t,c){if(void 0===e&&(e=S),void 0===t&&(t={}),this.options=E({},z,{},e),this.gs=t,this.names=new Map(c),this.server=!!e.isServer,!this.server&&b&&B){B=!1;for(var f=this,d=document.querySelectorAll(D),n=0,h=d.length;n<h;n++){var r=d[n];if(r&&"active"!==r.getAttribute(m)){{v=void 0;i=void 0;o=void 0;y=void 0;l=void 0;a=void 0;s=void 0;u=void 0;var p=f;var g=r;for(var v=(g.textContent||"").split("/*!sc*/\n"),i=[],o=0,y=v.length;o<y;o++){var a,s,u,l=v[o].trim();l&&((a=l.match(I))?(s=0|parseInt(a[1],10),u=a[2],0!=s&&(L(u,s),M(p,u,a[3]),p.getTag().insertRules(s,i)),i.length=0):i.push(l))}}r.parentNode&&r.parentNode.removeChild(r)}}}else;}function H(e){this.rules=[],this.length=0}function K(e){e=this.element=s(e);this.nodes=e.childNodes,this.length=0}function q(e){e=this.element=s(e);e.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}h(17)}(e),this.length=0}function $(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}function Y(e){for(var t="",n=Math.abs(e);52<n;n=n/52|0)t=f(n%52)+t;return(f(n%52)+t).replace(G,"$1-$2")}function X(e){return Q(5381,e)}var Q=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e};function Z(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(x(n)&&!P(n))return!1}return!0}var J=X("5.3.3"),ee=(re.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)this.staticRulesId&&t.hasNameForId(r,this.staticRulesId)?i.push(this.staticRulesId):(o=p(this.rules,e,t,n).join(""),a=Y(Q(this.baseHash,o)>>>0),t.hasNameForId(r,a)||(o=n(o,"."+a,void 0,r),t.insertRules(r,a,o)),i.push(a),this.staticRulesId=a);else{for(var o,a,c=this.rules.length,f=Q(this.baseHash,n.hash),s="",u=0;u<c;u++){var l=this.rules[u];"string"==typeof l?s+=l:l&&(l=p(l,e,t,n),l=Array.isArray(l)?l.join(""):l,f=Q(f,l+u),s+=l)}s&&(o=Y(f>>>0),t.hasNameForId(r,o)||(a=n(s,"."+o,void 0,r),t.insertRules(r,o,a)),i.push(o))}return i.join(" ")},re),te=/^\s*\/\/.*$/gm,ne=[":","[",".","#"];function re(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Z(e),this.componentId=t,this.baseHash=Q(J,t),this.baseStyle=n,V.registerId(t)}function ie(e){var i,o,a,s,e=void 0===e?S:e,t=e.options,t=void 0===t?S:t,e=e.plugins,e=void 0===e?y:e,u=new g.a(t),n=[];c=function(e){n.push(e)};function l(e,t,n){return 0===t&&-1!==ne.indexOf(n[o.length])||n.match(s)?e:"."+i}var c;function f(e){if(e)try{c(e+"}")}catch(e){}}function r(e,t,n,r){void 0===r&&(r="&");e=e.replace(te,""),e=t&&n?n+" "+t+" { "+e+" }":e;return i=r,o=t,a=new RegExp("\\"+o+"\\b","g"),s=new RegExp("(\\"+o+"\\b){2,}"),u(n||!t?"":t,e)}return u.use([].concat(e,[function(e,t,n){2===e&&n.length&&0<n[0].lastIndexOf(o)&&(n[0]=n[0].replace(a,l))},function(e,t,n,r,i,o,l,a,s,u){switch(e){case 1:if(0===s&&64===t.charCodeAt(0))return c(t+";"),"";break;case 2:if(0===a)return t+"/*|*/";break;case 3:switch(a){case 102:case 112:return c(n[0]+t),"";default:return t+(0===u?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(f)}},function(e){if(-2===e)return e=n,n=[],e}])),r.hash=e.length?e.reduce(function(e,t){return t.name||h(15),Q(e,t.name)},5381).toString():"",r}var oe=d.a.createContext(),ae=oe.Consumer,se=d.a.createContext(),ue=(se.Consumer,new V),le=ie();function ce(){return Object(_.useContext)(oe)||ue}function fe(){return Object(_.useContext)(se)||le}function de(t){var e=Object(_.useState)(t.stylisPlugins),n=e[0],r=e[1],i=ce(),e=Object(_.useMemo)(function(){var e=i;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),e=t.disableCSSOMInjection?e.reconstructWithOptions({useCSSOMInjection:!1}):e},[t.disableCSSOMInjection,t.sheet,t.target]),o=Object(_.useMemo)(function(){return ie({options:{prefix:!t.disableVendorPrefixes},plugins:n})},[t.disableVendorPrefixes,n]);return Object(_.useEffect)(function(){a()(n,t.stylisPlugins)||r(t.stylisPlugins)},[t.stylisPlugins]),d.a.createElement(oe.Provider,{value:e},d.a.createElement(se.Provider,{value:o},t.children))}me.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash};var he=me,pe=/([A-Z])/,ge=/([A-Z])/g,ve=/^ms-/,ye=function(e){return"-"+e.toLowerCase()};function me(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=le);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return h(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}function be(e){return pe.test(e)?e.replace(ge,ye).replace(ve,"-ms-"):e}var we=function(e){return null==e||!1===e||""===e};function p(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=p(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return we(e)?"":P(e)?"."+e.styledComponentId:x(e)?"function"!=typeof e||e.prototype&&e.prototype.isReactComponent||!t?e:p(e(t),t,n,r):e instanceof he?n?(e.inject(n,r),e.getName(r)):e:l(e)?function e(t,n){var r,i,o,a=[];for(o in t)t.hasOwnProperty(o)&&!we(t[o])&&(Array.isArray(t[o])&&t[o].isCss||x(t[o])?a.push(be(o)+":",t[o],";"):l(t[o])?a.push.apply(a,e(t[o],o)):a.push(be(o)+": "+(r=o,null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u.a?String(i).trim():i+"px")+";"));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString()}var _e=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ee(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(e)||l(e)?_e(p(i(y,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:_e(p(i(e,n)))}new Set;var Se=function(e,t,n){return void 0===n&&(n=S),e.theme!==n.theme&&e.theme||t||n.theme},ke=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Te=/(^-|-$)/g;function xe(e){return e.replace(ke,"-").replace(Te,"")}var Oe=function(e){return Y(X(e)>>>0)};function Pe(e){return"string"==typeof e&&!0}var Ae=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ce=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Re(e){for(var t=arguments.length,l=new Array(1<t?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];for(var r,i,o,a=0,c=l;a<c.length;a++){var s=c[a];if(Ae(s))for(var u in s)Ce(u)&&(r=e,i=s[u],u=u,o=void 0,o=r[u],Ae(i)&&Ae(o)?Re(o,i):r[u]=i)}return e}var k=d.a.createContext(),Le=k.Consumer;function De(n){var r=Object(_.useContext)(k),e=Object(_.useMemo)(function(){return e=n.theme,t=r,e?x(e)?e(t):Array.isArray(e)||"object"!=typeof e?h(8):t?E({},t,{},e):e:h(14);var e,t},[n.theme,r]);return n.children?d.a.createElement(k.Provider,{value:e},n.children):null}var Ie={};function Me(r,i,o){var t=P(r),l=!Pe(r),e=i.attrs,e=void 0===e?y:e,n=i.componentId,n=void 0===n?function(e,t){e="string"!=typeof e?"sc":xe(e),Ie[e]=(Ie[e]||0)+1,e=e+"-"+Oe("5.3.3"+e+Ie[e]);return t?t+"-"+e:e}(i.displayName,i.parentComponentId):n,a=i.displayName,a=void 0===a?Pe(r)?"styled."+r:"Styled("+O(r)+")":a,n=i.displayName&&i.componentId?xe(i.displayName)+"-"+i.componentId:i.componentId||n,s=t&&r.attrs?Array.prototype.concat(r.attrs,e).filter(Boolean):e,u=i.shouldForwardProp;t&&r.shouldForwardProp&&(u=i.shouldForwardProp?function(e,t,n){return r.shouldForwardProp(e,t,n)&&i.shouldForwardProp(e,t,n)}:r.shouldForwardProp);function c(e,c){var f,d,o,a,t,n=w,r=(u=b).attrs,i=u.componentStyle,s=u.defaultProps,h=u.foldedComponentIds,p=u.shouldForwardProp,g=u.styledComponentId,u=u.target,r=(s=Se(e,Object(_.useContext)(k),s)||S,r=r,o=E({},e,{theme:s=void 0===s?S:s}),a={},r.forEach(function(e){var t,n,r,i=e;for(t in i=x(i)?i(o):i)o[t]=a[t]="className"===t?(n=a[t],r=i[t],n&&r?n+" "+r:n||r):i[t]}),(s=[o,a])[1]),n=(i=i,n=n,s=s[0],f=ce(),d=fe(),n?i.generateAndInjectStyles(S,f,d):i.generateAndInjectStyles(s,f,d)),i=c,v=r.$as||e.$as||r.as||e.as||u,y=Pe(v),m=r!==e?E({},e,{},r):e,l={};for(t in m)"$"!==t[0]&&"as"!==t&&("forwardedAs"===t?l.as=m[t]:(p?p(t,T.a,v):!y||Object(T.a)(t))&&(l[t]=m[t]));return e.style&&r.style!==e.style&&(l.style=E({},e.style,{},r.style)),l.className=Array.prototype.concat(h,g,n!==g?n:null,e.className,r.className).filter(Boolean).join(" "),l.ref=i,Object(_.createElement)(v,l)}var b,f=new ee(o,n,t?r.componentStyle:void 0),w=f.isStatic&&0===e.length;return c.displayName=a,(b=d.a.forwardRef(c)).attrs=s,b.componentStyle=f,b.displayName=a,b.shouldForwardProp=u,b.foldedComponentIds=t?Array.prototype.concat(r.foldedComponentIds,r.styledComponentId):y,b.styledComponentId=n,b.target=t?r.target:r,b.withComponent=function(e){var t=i.componentId,n=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(i,["componentId"]),t=t&&t+"-"+(Pe(e)?e:xe(O(e)));return Me(e,E({},n,{attrs:s,componentId:t}),o)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=t?Re({},r.defaultProps,e):e}}),b.toString=function(){return"."+b.styledComponentId},l&&v()(b,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}function Fe(e){return function t(n,r,i){if(void 0===i&&(i=S),!Object(o.isValidElementType)(r))return h(1,String(r));function e(){return n(r,i,Ee.apply(void 0,arguments))}return e.withConfig=function(e){return t(n,r,E({},i,{},e))},e.attrs=function(e){return t(n,r,E({},i,{attrs:Array.prototype.concat(i.attrs,e).filter(Boolean)}))},e}(Me,e)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Fe[e]=Fe(e)}),(t=Ne.prototype).createStyles=function(e,t,n,r){t=r(p(this.rules,t,n,r).join(""),""),r=this.componentId+e;n.insertRules(r,r,t)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){2<e&&V.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)};var je=Ne;function Ne(e,t){this.rules=e,this.componentId=t,this.isStatic=Z(e),V.registerId(this.componentId+1)}function Ue(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var e=Ee.apply(void 0,[e].concat(n)),o="sc-global-"+Oe(JSON.stringify(e)),a=new je(e,o);function s(e){var t=ce(),n=fe(),r=Object(_.useContext)(k),i=Object(_.useRef)(t.allocateGSInstance(o)).current;return t.server&&u(i,e,t,r,n),Object(_.useLayoutEffect)(function(){if(!t.server)return u(i,e,t,r,n),function(){return a.removeStyles(i,t)}},[i,e,t,r,n]),null}function u(e,t,n,r,i){a.isStatic?a.renderStyles(e,c,n,i):(t=E({},t,{theme:Se(t,r,s.defaultProps)}),a.renderStyles(e,t,n,i))}return d.a.memo(s)}function Be(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var e=Ee.apply(void 0,[e].concat(n)).join(""),i=Oe(e);return new he(i,e)}(e=He.prototype).collectStyles=function(e){return this.sealed?h(2):d.a.createElement(de,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return h(3)};var ze=He,Ve=function(i){var e=d.a.forwardRef(function(e,t){var n=Object(_.useContext)(k),r=i.defaultProps,n=Se(e,n,r);return d.a.createElement(i,E({},e,{theme:n,ref:t}))});return v()(e,i),e.displayName="WithTheme("+O(i)+")",e},Ge=function(){return Object(_.useContext)(k)},We={StyleSheet:V,masterSheet:ue};function He(){var n=this;this._emitSheetCSS=function(){var e=n.instance.toString();if(!e)return"";var t=F();return"<style "+[t&&'nonce="'+t+'"',m+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return n.sealed?h(2):n._emitSheetCSS()},this.getStyleElement=function(){if(n.sealed)return h(2);(e={})[m]="",e["data-styled-version"]="5.3.3",e.dangerouslySetInnerHTML={__html:n.instance.toString()};var e,t=F();return t&&(e.nonce=t),[d.a.createElement("style",E({},e,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new V({isServer:!0}),this.sealed=!1}Ke.default=Fe}.call(this,qe(105))},function(e,t,n){var n=n(32),r=Function.prototype,i=r.bind,o=r.call,a=n&&i.bind(o,o);e.exports=n?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e,c,t){var n=t(1),r=t(54),i=t(8),f=t(57),o=t(52),a=t(79),s=r("wks"),u=n.Symbol,l=u&&u.for,d=a?u:u&&u.withoutSetter||f;e.exports=function(e){var t;return i(s,e)&&(o||"string"==typeof s[e])||(t="Symbol."+e,o&&i(u,e)?s[e]=u[e]:s[e]=(a&&l?l:d)(t)),s[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(n,"__esModule",{value:!0}),n.optionsContext=n.useOptions=n.OPTIONS_DEFAULT_VALUE=void 0,t(0)),o=r(t(66)),a=t(104),r=Object.keys(a.EventNames).reduce(function(e,t){return e[a.EventNames[t]]=function(){},e},{});n.OPTIONS_DEFAULT_VALUE={container:"#gobi-here",color:"#15d6ea",bubbleSize:"96px",animatedBubble:!1,verticalOrientation:!1,wrap:!1,isFullHeightMobile:!0,showPlayIcon:!1,align:"center",autoSegue:!1,stories:void 0,showEmptyStories:!1,openInPlayerPage:!1,fullScreenPlayer:!1,closeModalOnStoryEnd:!1,noShade:!1,zIndex:1e5,disableShadowDom:!0,on:{loaded:function(){},close:function(){}},playerOptions:{container:void 0,storyId:void 0,autoStart:!1,autoStartWithSound:!1,loop:!1,roundedCorners:!0,shadow:!0,width:612,height:1088,checkViewPort:!0,playButton:!0,savePosition:!1,on:r,useMediaProxy:!1,apiBaseUrl:"https://api.gobistories.co"}},n.useOptions=function(e){var t=[];return e.playerOptions&&e.playerOptions.storyId&&t.push({id:e.playerOptions.storyId}),o.default.all([{},n.OPTIONS_DEFAULT_VALUE,{stories:t},e])},n.optionsContext=i.createContext(n.OPTIONS_DEFAULT_VALUE)},function(e,t,n){var r=n(4),i=n(27),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},function(e,t,n){n=n(6);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(1),i=n(15),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},function(e,t,n){"use strict";function r(){return!!(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv:11\./))}Object.defineProperty(t,"__esModule",{value:!0}),t.shadowDomSupported=t.isTouchDevice=t.is3dSupport=t.isIos=t.isMobile=t.isIE=void 0,t.isIE=r,t.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent),t.is3dSupport="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,t.isTouchDevice=!!("undefined"!=typeof window&&"ontouchstart"in window),t.shadowDomSupported=function(){return!r()&&(!window.navigator.userAgent.match(/Version\/15\.0.*?Safari\//)&&!!document.head.attachShadow)}},function(e,t,n){var r=n(23),n=n(239);r({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},function(e,t,n){var n=n(32),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},function(c,e,t){var n=t(1),r=t(9),f=t(81),d=t(82),i=t(10),o=t(33),h=n.TypeError,a=Object.defineProperty,p=Object.getOwnPropertyDescriptor,s="enumerable",u="configurable",l="writable";e.f=r?d?function(e,t,n){var r;return i(e),t=o(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&l in n&&!n[l]&&((r=p(e,t))&&r[l]&&(e[t]=n.value,n={configurable:(u in n?n:r)[u],enumerable:(s in n?n:r)[s],writable:!1})),a(e,t,n)}:a:function(e,t,n){if(i(e),t=o(t),i(n),f)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw h("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(2);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalContext=t.useGlobal=t.GLOBAL_DEFAULT_VALUE=void 0;var y=n(0),m=n(7),b=n(185),w=n(46);t.GLOBAL_DEFAULT_VALUE={stories:[],emptyStories:[],currentStoryIndex:0,setStoryIndex:function(){},closingAnimationActive:!1,popupOpen:!1,setPopupOpen:function(){},loadVideoPlayer:!1,setLoadVideoPlayer:function(){},setMutedByUser:function(){},mutedByUser:!1},t.useGlobal=function(){var e=y.useContext(m.optionsContext),t=e.playerOptions,n=e.stories,r=y.useContext(w.fontsContext).setFontStylesheetUrls,e=y.useState(null),i=e[0],c=e[1],e=y.useState(null),f=e[0],d=e[1],e=y.useState(0),h=e[0],e=e[1],o=y.useState(!1),p=o[0],a=o[1],o=y.useState(!1),s=o[0],u=o[1],o=y.useState(!1),g=o[0],o=o[1],l=y.useState(!1),v=l[0],l=l[1];return y.useEffect(function(){b.loadStories(n,t.useMediaProxy,t.apiBaseUrl).then(function(e){var t=e.filter(function(e){return!(null!==(e=null==e?void 0:e.chapters)&&void 0!==e&&e.length)}).map(function(e){return{viewKey:(null==e?void 0:e.viewKey)||"Invalid Story ID"}}),e=e.filter(function(e){return!(null===(e=null==e?void 0:e.chapters)||void 0===e||!e.length)});d(t),c(e),r(w.resolveFontStylesheets(e))})},[t.apiBaseUrl,t.useMediaProxy,n,r]),{stories:i,emptyStories:f,currentStoryIndex:h,setStoryIndex:e,setMutedByUser:l,mutedByUser:v,setClosingAnimationActive:u,handleClosingAnimationFinished:function(){s&&(a(!1),u(!1))},closingAnimationActive:s,popupOpen:p,setPopupOpen:a,loadVideoPlayer:g,setLoadVideoPlayer:o}},t.globalContext=y.createContext(t.GLOBAL_DEFAULT_VALUE)},function(e,t,n){var r=n(1),i=n(2);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},function(e,t,n){var r=n(50),i=n(78);e.exports=function(e){return r(i(e))}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=!1},function(e,i,t){var u=t(1),l=t(2),c=t(8),f=t(37),d=t(56),n=t(38),r=t(39),h=t(83).CONFIGURABLE,o=r.get,p=r.enforce,g=String(String).split("String");(e.exports=function(e,t,n,r){var i,o=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,r=r&&void 0!==r.name?r.name:t;l(n)&&("Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!c(n,"name")||h&&n.name!==r)&&f(n,"name",r),(i=p(n)).source||(i.source=g.join("string"==typeof r?r:""))),e!==u?(o?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:f(e,t,n)):a?e[t]=n:d(t,n)})(Function.prototype,"toString",function(){return l(this)&&o(this).source||n(this)})},function(c,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStartTime=function(e){return a(e,d)},e.parseEndTime=function(e){return a(e,h)},e.randomString=function(){return Math.random().toString(36).substr(2,5)},e.queryString=function(t){return Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&")},e.getSDK=function(i,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){return!0},s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:n.default,t=u(o);if(t&&e(t))return Promise.resolve(t);return new Promise(function(e,t){var n,r;l[i]?l[i].push({resolve:e,reject:t}):(l[i]=[{resolve:e,reject:t}],n=function(t){l[i].forEach(function(e){return e.resolve(t)})},a&&(r=window[a],window[a]=function(){r&&r(),n(u(o))}),s(i,function(t){t?(l[i].forEach(function(e){return e.reject(t)}),l[i]=null):a||n(u(o))}))})},e.getConfig=function(e,t){return(0,r.default)(t.config,e.config)},e.omit=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var l=(o=[]).concat.apply(o,n),i={},o=Object.keys(e),a=0,s=o;a<s.length;a++){var u=s[a];-1===l.indexOf(u)&&(i[u]=e[u])}return i},e.callPlayer=function(e){{var t;if(!this.player||!this.player[e])return t="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c – "),this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.player)[e].apply(t,r)},e.isMediaStream=function(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream},e.isBlobUrl=function(e){return/^blob:/.test(e)},e.supportsWebKitPresentationMode=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&t};var n=i(t(207)),r=i(t(66));function i(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=/[?&#](?:start|t)=([0-9hms]+)/,h=/[?&#]end=([0-9hms]+)/,s=/(\d+)(h|m|s)/g,p=/^\d+$/;function a(e,t){if(!(e instanceof Array)){e=e.match(t);if(e){t=e[1];if(t.match(s)){for(var n=t,r=0,i=s.exec(n);null!==i;){var o=f(i,3),a=o[1],o=o[2];"h"===o&&(r+=60*parseInt(a,10)*60),"m"===o&&(r+=60*parseInt(a,10)),"s"===o&&(r+=parseInt(a,10)),i=s.exec(n)}return r}if(p.test(t))return parseInt(t)}}}function u(e){return window[e]||(window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null)}var l={}},function(e,n,t){var l=t(1),c=t(31).f,f=t(37),d=t(21),h=t(56),p=t(135),g=t(87);e.exports=function(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat,u=a?l:s?l[o]||h(o,{}):(l[o]||{}).prototype;if(u)for(n in t){if(r=t[n],i=e.noTargetGet?(i=c(u,n))&&i.value:u[n],!g(a?n:o+(s?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;p(r,i)}(e.sham||i&&i.sham)&&f(r,"sham",!0),d(u,n,r,e)}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var n=n(4),r=n({}.toString),i=n("".slice);e.exports=function(e){return i(r(e),8,-1)}},function(e,t,n){var r=n(1),i=n(2),o=n(36),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},function(e,t,n){var r=n(1),i=n(78),o=r.Object;e.exports=function(e){return o(i(e))}},function(e,t){e.exports={}},function(e,t,n){"use strict";(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=n(179)},function(r,e,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},H=(Object.defineProperty(e,"__esModule",{value:!0}),e.videoContext=e.useVideo=e.VIDEO_DEFAULT_VALUE=void 0,t(0)),K=t(126),q=n(t(223)),$=t(7),Y=t(16),X=t(104),Z=n(t(226)),Q=t(11),J=t(227);e.VIDEO_DEFAULT_VALUE={reactPlayerRef:null,story:null,play:!1,muted:!1,ready:!1,preloader:!0,hasStartedAtLeastOnce:!1,loading:!1,focused:!1,videoProgress:null,currentChapter:null,currentChapterIndex:0,setPlay:function(){},setMuted:function(){},setFocused:function(){},setPreloader:function(){},goToPreviousChapter:function(){},goToNextChapter:function(){},onKeyDown:function(){}},e.useVideo=function(r,c){var e=H.useContext($.optionsContext),f=e.autoSegue,i=e.playerOptions,d=!i.container,e=H.useContext(Y.globalContext),h=e.stories,p=e.currentStoryIndex,g=e.setStoryIndex,v=e.closingAnimationActive,y=e.setClosingAnimationActive,m=e.loadVideoPlayer,b=e.mutedByUser,w=e.setMutedByUser,o=q.default(c.chapters,i.apiBaseUrl+"/api/analytics",c.title,c.viewKey),a=c.chapters,e=H.useState(i.autoStart||i.autoStartWithSound||m),_=e[0],t=e[1],m=K.useDebounce(_,30)[0],e=H.useState(!1),E=e[0],S=e[1],e=H.useState(!1),k=e[0],T=e[1],e=H.useState(!0),x=e[0],O=e[1],e=H.useState(!1),P=e[0],A=e[1],e=H.useState(!1),C=e[0],R=e[1],e=H.useState(a[0]),L=e[0],D=e[1],e=H.useState(0),s=e[0],I=e[1],e=Z.default(r),M=e.isIphoneInlineVideo,F=e.timeupdate,e=H.useState(!1),j=e[0],N=e[1],u=H.useMemo(function(){return new J.VideoProgress},[]),n=H.useCallback(function(e,t){function n(e,t){return e.apply(r,t)}switch(e){case X.EventNames.loaded:o.init();break;case X.EventNames.play:o.play();break;case X.EventNames.pause:o.pause();break;case X.EventNames.ended:o.ended();break;case X.EventNames.newIteration:u.seconds?o.chapterChange(s):o.newIteration();break;case X.EventNames.backToChapter:o.backToChapter(u.seconds);break;case X.EventNames.skipChapter:o.skipChapter(u.seconds);break;case X.EventNames.close:o.closed(u.seconds)}e===X.EventNames.error?n(i.on[e],t):n(i.on[e],[s])},[s,i,r,o,u]),U=H.useCallback(function(){return 0===s},[s]),B=H.useCallback(function(){return s+1===a.length},[s,a]),l=H.useCallback(function(e){var t=e<0?a.length-1:e%a.length;return M?F(function(){r.current.seekTo(a[t].begin+.2,"seconds")}):(r.current.seekTo(a[t].begin+.2,"seconds"),null)},[a,M,r,F]),z=H.useCallback(function(e){e=e?-1:1;return!(!f||!h[p+e])&&(g(p+e),!0)},[f,p,g,h]),V=H.useCallback(function(){B()&&(i.loop?(n(X.EventNames.newIteration),l(0)):(n(X.EventNames.ended),t(!1))),z()||(!d||i.loop&&!f?(l(0),T(!1),t(i.loop),n(X.EventNames.loaded)):y(!0))},[z,n,l,B,f,d,i,y,t]),G=H.useCallback(function(){n(X.EventNames.backToChapter),U()?z(!0)||(n(X.EventNames.newIteration),l(0)):l(s-1)},[z,n,l,U,s]),W=H.useCallback(function(){n(X.EventNames.skipChapter),B()?Q.isIos?r.current.seekTo(1,"fraction"):V():l(s+1),t(!0)},[n,l,B,s,V,t,r]),e=(H.useEffect(function(){v&&n(X.EventNames.close)},[v,n]),H.useCallback(function(e){if(d||j)switch(e.code||e.key){case"Q":case"q":case"KeyQ":case"Escape":case"Esc":if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)break;d&&(y(!0),e.preventDefault());break;case"L":case"l":case"KeyL":case"ArrowRight":case"Right":if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)break;W(),e.preventDefault();break;case"J":case"j":case"KeyJ":case"ArrowLeft":case"Left":if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)break;G(),e.preventDefault();break;case"K":case"k":case"KeyK":case" ":case"Space":case"Spacebar":if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)break;t(!_),e.preventDefault();break;case"M":case"m":case"KeyM":if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)break;S(!E),w(!E),e.preventDefault()}},[d,j,_,E,y,S,w,W,G]));return{reactPlayerRef:r,story:c,play:m,muted:E,ready:P,hasStartedAtLeastOnce:k,loading:C,currentChapter:L,currentChapterIndex:s,preloader:x,focused:j,videoProgress:u,setPlay:t,setMuted:S,setPreloader:O,handleError:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(X.EventNames.error,e)},handleLinkClicked:function(e){o.linkClick(e),window.open(e)},handleProgress:function(e){var t=function(e){for(var t=0,n=a.length;t<n;t+=1)if(e<a[t].end)return t;return n-1}(e.playedSeconds);u.update(e.playedSeconds),R(!1),O(!1),t!==s&&(D(a[t]),I(t),1===Math.abs(t-s)&&o.chapterChange(t))},handlePlay:function(){n(X.EventNames.play),t(!0),T(!0),i.autoStartWithSound&&P&&!b&&S(!1)},handlePause:function(){n(X.EventNames.pause)},handleStart:function(){M&&R(!0),N(!0),T(!0)},handleEnded:V,handleReady:function(){P||(n(X.EventNames.loaded),Q.isIE()||r.current.seekTo(a[0].begin,"seconds"),(i.autoStart&&!i.autoStartWithSound||b)&&S(!0),A(!0))},handleBuffer:function(){R(!0)},handleBufferEnd:function(){R(!1)},goToPreviousChapter:G,goToNextChapter:W,setFocused:N,onKeyDown:e}},e.videoContext=H.createContext(e.VIDEO_DEFAULT_VALUE)},function(c,e,t){var n=t(9),r=t(13),i=t(49),o=t(24),a=t(18),s=t(33),u=t(8),f=t(81),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(e,t){if(e=a(e),t=s(t),f)try{return l(e,t)}catch(e){}if(u(e,t))return o(!r(i.f,e,t),e[t])}},function(e,t,n){n=n(6);e.exports=!n(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},function(e,t,n){var r=n(132),i=n(51);e.exports=function(e){e=r(e,"string");return i(e)?e:e+""}},function(e,t,n){n=n(4);e.exports=n({}.isPrototypeOf)},function(e,t,n){n=n(17);e.exports=n("navigator","userAgent")||""},function(e,t,n){var r=n(1).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},function(e,t,n){var r=n(9),i=n(14),o=n(24);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(4),i=n(2),n=n(55),o=r(Function.toString);i(n.inspectSource)||(n.inspectSource=function(e){return o(e)}),e.exports=n.inspectSource},function(c,f,e){var n,d,r,h,t,i,o,a,p=e(134),s=e(1),u=e(4),g=e(15),v=e(37),l=e(8),y=e(55),m=e(40),e=e(41),b="Object already initialized",w=s.TypeError,s=s.WeakMap;o=p||y.state?(n=y.state||(y.state=new s),d=u(n.get),r=u(n.has),h=u(n.set),t=function(e,t){if(r(n,e))throw new w(b);return t.facade=e,h(n,e,t),t},i=function(e){return d(n,e)||{}},function(e){return r(n,e)}):(e[a=m("state")]=!0,t=function(e,t){if(l(e,a))throw new w(b);return t.facade=e,v(e,a,t),t},i=function(e){return l(e,a)?e[a]:{}},function(e){return l(e,a)}),c.exports={set:t,get:i,has:o,enforce:function(e){return o(e)?i(e):t(e,{})},getterFor:function(n){return function(e){var t;if(!g(e)||(t=i(e)).type!==n)throw w("Incompatible receiver, "+n+" required");return t}}}},function(e,t,n){var r=n(54),i=n(57),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(138);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(4),i=n(26),o=n(32),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,n,t){function r(){}function f(e){e.write(l("")),e.close();var t=e.parentWindow.Object;return e=null,t}var i,d=t(10),h=t(92),o=t(60),p=t(41),g=t(93),v=t(58),t=t(40),a="prototype",s="script",u=t("IE_PROTO"),l=function(e){return"<"+s+">"+e+"</"+s+">"},c=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}c="undefined"==typeof document||document.domain&&i?f(i):(e=v("iframe"),t="java"+s+":",e.style.display="none",g.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(l("document.F=Object")),t.close(),t.F);for(var e,t,n=o.length;n--;)delete c[a][o[n]];return c()};p[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r[a]=d(e),n=new r,r[a]=null,n[u]=e):n=c(),void 0===t?n:h.f(n,t)}},function(e,t,n){var r=n(14).f,i=n(8),o=n(5)("toStringTag");e.exports=function(e,t,n){(e=e&&!n?e.prototype:e)&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)},o=(Object.defineProperty(t,"__esModule",{value:!0}),n(187)),a=(Object.defineProperty(t,"FontLoader",{enumerable:!0,get:function(){return o.FontLoader}}),n(67));Object.defineProperty(t,"fontsContext",{enumerable:!0,get:function(){return a.fontsContext}}),i(n(188),t)},function(c,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canPlay=e.FLV_EXTENSIONS=e.DASH_EXTENSIONS=e.HLS_EXTENSIONS=e.VIDEO_EXTENSIONS=e.AUDIO_EXTENSIONS=e.MATCH_URL_KALTURA=e.MATCH_URL_VIDYARD=e.MATCH_URL_MIXCLOUD=e.MATCH_URL_DAILYMOTION=e.MATCH_URL_TWITCH_CHANNEL=e.MATCH_URL_TWITCH_VIDEO=e.MATCH_URL_WISTIA=e.MATCH_URL_STREAMABLE=e.MATCH_URL_FACEBOOK_WATCH=e.MATCH_URL_FACEBOOK=e.MATCH_URL_VIMEO=e.MATCH_URL_SOUNDCLOUD=e.MATCH_URL_YOUTUBE=void 0;var i=f(22);function d(e,t){var n,r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if(e instanceof Array){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"==typeof r&&o(r))return!0;if(o(r.src))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}return!(!(0,i.isMediaStream)(e)&&!(0,i.isBlobUrl)(e))||(a.test(e)||u.test(e)||l.test(e)||S.test(e)||k.test(e))}var t=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,n=(e.MATCH_URL_YOUTUBE=t,/(?:soundcloud\.com|snd\.sc)\/[^.]+$/),r=(e.MATCH_URL_SOUNDCLOUD=n,/vimeo\.com\/.+/),h=(e.MATCH_URL_VIMEO=r,/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/),p=(e.MATCH_URL_FACEBOOK=h,/^https?:\/\/fb\.watch\/.+$/),g=(e.MATCH_URL_FACEBOOK_WATCH=p,/streamable\.com\/([a-z0-9]+)$/),v=(e.MATCH_URL_STREAMABLE=g,/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/),y=(e.MATCH_URL_WISTIA=v,/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/),m=(e.MATCH_URL_TWITCH_VIDEO=y,/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/),b=(e.MATCH_URL_TWITCH_CHANNEL=m,/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/),w=(e.MATCH_URL_DAILYMOTION=b,/mixcloud\.com\/([^/]+\/[^/]+)/),_=(e.MATCH_URL_MIXCLOUD=w,/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/),E=(e.MATCH_URL_VIDYARD=_,/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/),a=(e.MATCH_URL_KALTURA=E,/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i),u=(e.AUDIO_EXTENSIONS=a,/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i),l=(e.VIDEO_EXTENSIONS=u,/\.(m3u8)($|\?)/i),S=(e.HLS_EXTENSIONS=l,/\.(mpd)($|\?)/i),k=(e.DASH_EXTENSIONS=S,/\.(flv)($|\?)/i);e.FLV_EXTENSIONS=k;e.canPlay={youtube:function(e){return e instanceof Array?e.every(function(e){return t.test(e)}):t.test(e)},soundcloud:function(e){return n.test(e)&&!a.test(e)},vimeo:function(e){return r.test(e)&&!u.test(e)&&!l.test(e)},facebook:function(e){return h.test(e)||p.test(e)},streamable:function(e){return g.test(e)},wistia:function(e){return v.test(e)},twitch:function(e){return y.test(e)||m.test(e)},dailymotion:function(e){return b.test(e)},mixcloud:function(e){return w.test(e)},vidyard:function(e){return _.test(e)},kaltura:function(e){return E.test(e)},file:o}},function(e,t,n){"use strict";e.exports=n(191)},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){e=i(this,e);return!!e&&e.enumerable}:r},function(e,t,n){var r=n(1),i=n(4),o=n(6),a=n(25),s=r.Object,u=i("".split);e.exports=o(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return"String"==a(e)?u(e,""):s(e)}:s},function(e,t,n){var r=n(1),i=n(17),o=n(2),a=n(34),n=n(79),s=r.Object;e.exports=n?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,s(e))}},function(e,t,n){var r=n(80),n=n(6);e.exports=!!Object.getOwnPropertySymbols&&!n(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},function(e,t,n){var r=n(26);e.exports=function(e,t){e=e[t];return null==e?void 0:r(e)}},function(e,t,n){var r=n(20),i=n(55);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.0",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){var r=n(1),n=n(56),i="__core-js_shared__",r=r[i]||n(i,{});e.exports=r},function(e,t,n){var r=n(1),i=Object.defineProperty;e.exports=function(t,n){try{i(r,t,{value:n,configurable:!0,writable:!0})}catch(e){r[t]=n}return n}},function(e,t,n){var n=n(4),r=0,i=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+i,36)}},function(e,t,n){var r=n(1),n=n(15),i=r.document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(84),i=n(60).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,l,t){var n=t(1),r=t(141),i=t(2),o=t(25),a=t(5)("toStringTag"),s=n.Object,u="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=s(e),a))?t:u?o(e):"Object"==(t=o(e))&&i(e.callee)?"Arguments":t}},function(e,t,n){var r=n(84),i=n(60);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(25),n=n(1);e.exports="process"==r(n.process)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))l.call(n,o)&&(r[o]=n[o]);if(u)for(var a=u(n),s=0;s<a.length;s++)c.call(n,a[s])&&(r[a[s]]=n[a[s]])}return r}},function(e,r,c){"use strict";function i(e){return!(!(t=e)||"object"!=typeof t||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t))||"[object Date]"===e||function(e){return e.$$typeof===n}(t)));var t}var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l(Array.isArray(e)?[]:{},e,t):e}function o(e,t,n){return e.concat(t).map(function(e){return s(e,n)})}function t(e){return Object.keys(e).concat((t=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]));var t}function u(e,t){try{return t in e}catch(e){return!1}}function a(r,i,o){var a={};return o.isMergeableObject(r)&&t(r).forEach(function(e){a[e]=s(r[e],o)}),t(i).forEach(function(e){var t,n;(!u(t=r,n=e)||Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))&&(u(r,e)&&o.isMergeableObject(i[e])?a[e]=(t=e,((n=o).customMerge&&"function"==typeof(n=n.customMerge(t))?n:l)(r[e],i[e],o)):a[e]=s(i[e],o))}),a}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=s;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):a(e,t,n):s(t,n)}l.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return l(e,t,n)},{})},e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fontsContext=t.useFonts=void 0;var r=n(0);t.useFonts=function(){var e=r.useState([]);return{fontStylesheetUrls:e[0],setFontStylesheetUrls:e[1]}},t.fontsContext=r.createContext({fontStylesheetUrls:[],setFontStylesheetUrls:function(e){}})},function(e,E,S){"use strict";!function(t){Object.defineProperty(E,"__esModule",{value:!0});var p=S(0),s=S(192),r=S(3),u=S(29),e=S(69);function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=n(p),i=n(e),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=o(function(e){function s(e,t,n){if(t!==Object(t)||"[object Date]"==u.call(t)||"[object RegExp]"==u.call(t)||"[object Boolean]"==u.call(t)||"function"==typeof t)return t;var r,i,o=0;if("[object Array]"==u.call(t))for(r=[],i=t.length;o<i;o++)r.push(s(e,t[o],n));else for(var a in r={},t)Object.prototype.hasOwnProperty.call(t,a)&&(r[e(a,n)]=s(e,t[a],n));return r}function n(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}function r(e){return(e=n(e)).substr(0,1).toUpperCase()+e.substr(1)}function i(e,t){return n=(t=t||{}).separator||"_",t=t.split||/(?=[A-Z])/,e.split(t).join(n).toLowerCase();var n}function o(n,e){var r=e&&"process"in e?e.process:e;return"function"!=typeof r?n:function(e,t){return r(e,n,t)}}var t,u,a;t=l,u=Object.prototype.toString,a={camelize:n,decamelize:i,pascalize:r,depascalize:i,camelizeKeys:function(e,t){return s(o(n,t),e)},decamelizeKeys:function(e,t){return s(o(i,t),e,t)},pascalizeKeys:function(e,t){return s(o(r,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}},e.exports?e.exports=a:t.humps=a}).decamelize,y=o(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}e.exports=t}),m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},b=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r},w=p.createContext(null);function v(e){var t=e.root,e=e.children;return u.createPortal(e,t)}function d(h){var e=p.forwardRef(function(e,i){var t,n,o=e.mode,c=e.delegatesFocus,a=e.styleSheets,s=e.ssr,f=e.children,e=b(e,["mode","delegatesFocus","styleSheets","ssr","children"]),u=(t=i,n=p.useRef(t&&t.current),p.useEffect(function(){t&&(t.current=n.current)},[t]),n),r=p.useState(null),r=m(r,2),l=r[0],d=r[1],r="node_".concat(o).concat(c);return p.useEffect(function(){if(u.current)try{var e;if("function"==typeof i&&i(u.current),s)return e=u.current.shadowRoot,void d(e);var t=u.current.attachShadow({mode:o,delegatesFocus:c});0<a.length&&(t.adoptedStyleSheets=a),d(t)}catch(e){var n=(t={error:e,styleSheets:a,root:l}).error,r=t.styleSheets,t=t.root;if("NotSupportedError"!==n.name)throw n;0<r.length&&(t.adoptedStyleSheets=r)}},[i,u,a]),g.default.createElement(g.default.Fragment,null,g.default.createElement(h.tag,y({key:r,ref:u},e),(l||s)&&g.default.createElement(w.Provider,{value:l},s?g.default.createElement("template",{shadowroot:"open"},h.render({root:l,ssr:s,children:f})):g.default.createElement(v,{root:l},h.render({root:l,ssr:s,children:f})))))});return e.propTypes={mode:i.default.oneOf(["open","closed"]),delegatesFocus:i.default.bool,styleSheets:i.default.arrayOf(i.default.instanceOf(t.CSSStyleSheet)),ssr:i.default.bool,children:i.default.node},e.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},e}v.propTypes={root:i.default.object.isRequired,children:i.default.node},v.defaultProps={children:null};var a=new Map;function h(e,t,n){var e=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:"core",i=2<arguments.length&&void 0!==n?n:function(e){return e.children};return new Proxy(e,{get:function(e,t){var t=f(t,{separator:"-"}),n="".concat(r,"-").concat(t);return a.has(n)||a.set(n,d({tag:t,render:i})),a.get(n)}})}function _(e){var t=new r.ServerStyleSheet;return s.renderToString(g.default.createElement(r.StyleSheetManager,{sheet:t.instance},g.default.createElement(g.default.Fragment,null,e))),t.getStyleElement()}h();e=h({},"styled-components",function(e){var t=e.root,n=e.ssr,e=e.children;return n?g.default.createElement(g.default.Fragment,null,_(e),e):g.default.createElement(r.StyleSheetManager,{target:t},g.default.createElement(g.default.Fragment,null,e))});E.default=e,E.getStyleSheets=_}.call(this,S(19))},function(e,t,n){e.exports=n(194)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={colors:{red:"red"},media:{mobile:"@media screen and (max-width: 768px)",desktop:"@media screen and (min-width: 769px)"},zIndex:{asset:1,textSticker:30,sticker:100,clickNext:300,tapBack:310,linkSticker:350,controls:400,logo:500,popup:600,top:700}}},function(s,e,t){"use strict";t.r(e),t.d(e,"InView",function(){return n}),t.d(e,"default",function(){return n}),t.d(e,"defaultFallbackInView",function(){return u}),t.d(e,"observe",function(){return p}),t.d(e,"useInView",function(){return f});var h=t(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=new Map,r=new WeakMap,a=0,g=void 0;function u(e){g=e}function v(n){return Object.keys(n).sort().filter(function(e){return void 0!==n[e]}).map(function(e){return e+"_"+("root"===e?(t=n.root)?(r.has(t)||(a+=1,r.set(t,a.toString())),r.get(t)):"0":n[e]);var t}).toString()}function p(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=g),void 0===window.IntersectionObserver&&void 0!==r)return a=e.getBoundingClientRect(),t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),function(){};r=v(i=n),(a=d.get(r))||(o=new Map,c=(n=new IntersectionObserver(function(e){e.forEach(function(t){var e,n=t.isIntersecting&&c.some(function(e){return t.intersectionRatio>=e});i.trackVisibility&&void 0===t.isVisible&&(t.isVisible=n),null!=(e=o.get(t.target))&&e.forEach(function(e){e(n,t)})})},i)).thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),d.set(r,a={id:r,observer:n,elements:o}));var i,o,c,a,r=a,f=r.id,s=r.observer,u=r.elements,l=u.get(e)||[];return u.has(e)||u.set(e,l),l.push(t),s.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(u.delete(e),s.unobserve(e)),0===u.size&&(s.disconnect(),d.delete(f))}}var l=["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function c(e){return"function"!=typeof e.children}var n=function(t){var e;function n(e){var n=t.call(this,e)||this;return n.node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),c(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!e.initialInView,entry:void 0},n}e=t,(r=n).prototype=Object.create(e.prototype),o(r.prototype.constructor=r,e);var r=n.prototype;return r.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},r.componentWillUnmount=function(){this.unobserve(),this.node=null},r.observeNode=function(){var e,t,n,r,i,o;this.node&&!this.props.skip&&(e=(o=this.props).threshold,t=o.root,n=o.rootMargin,r=o.trackVisibility,i=o.delay,o=o.fallbackInView,this._unobserveCb=p(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i},o))},r.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},r.render=function(){if(!c(this.props))return e=(t=this.state).inView,t=t.entry,this.props.children({inView:e,entry:t,ref:this.handleNode});var e=this.props,t=e.children,n=e.as,r=e.tag,e=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,l);return h.createElement(n||r||"div",i({ref:this.handleNode},e),t)},n}(h.Component);function f(e){var e=void 0===e?{}:e,t=e.threshold,n=e.delay,r=e.trackVisibility,i=e.rootMargin,o=e.root,a=e.triggerOnce,s=e.skip,c=e.initialInView,f=e.fallbackInView,u=h.useRef(),e=h.useState({inView:!!c}),l=e[0],d=e[1],e=h.useCallback(function(e){void 0!==u.current&&(u.current(),u.current=void 0),s||e&&(u.current=p(e,function(e,t){d({inView:e,entry:t}),t.isIntersecting&&a&&u.current&&(u.current(),u.current=void 0)},{root:o,rootMargin:i,threshold:t,trackVisibility:r,delay:n},f))},[Array.isArray(t)?t.toString():t,o,i,a,s,r,f,n]),e=(Object(h.useEffect)(function(){u.current||!l.entry||a||s||d({inView:!!c})}),[e,l.inView,l.entry]);return e.ref=e[0],e.inView=e[1],e.entry=e[2],e}n.displayName="InView",n.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},function(e,l,t){var n=t(270),r=t(272),i=t(120),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=n(e);var t=a.test(e);return t||s.test(e)?u(e.slice(2),t?2:8):o.test(e)?NaN:+e}},function(e,t,n){n=n(122).Symbol;e.exports=n},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.SvgPlayWrapper=t.Gloria=t.AvatarContainer=t.Title=t.StoryContainer=t.EmptyContainer=t.Container=void 0,i(n(3)));t.Container=i.default.div(r(["\n  position: relative;\n  display: inline-block;\n  padding: 5%;\n  border: 0 solid #15d6ea;\n  cursor: pointer;\n  box-sizing: border-box;\n  transition: opacity 0.2s ease, border-width 0.2s ease, transform 0.2s ease;\n  margin: ",";\n  transform: scale(1);\n\n  width: ",";\n  height: ",";\n\n  ","\n\n  &:hover {\n    transform: scale(1.2);\n    opacity: 1;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"],["\n  position: relative;\n  display: inline-block;\n  padding: 5%;\n  border: 0 solid #15d6ea;\n  cursor: pointer;\n  box-sizing: border-box;\n  transition: opacity 0.2s ease, border-width 0.2s ease, transform 0.2s ease;\n  margin: ",";\n  transform: scale(1);\n\n  width: ",";\n  height: ",";\n\n  ","\n\n  &:hover {\n    transform: scale(1.2);\n    opacity: 1;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]),function(e){return.1*e.size+"px"},function(e){return e.size+"px"},function(e){return e.size+"px"},function(e){return e.noWrap&&"\n    white-space: nowrap;\n    overflow-x: auto;\n  "}),t.EmptyContainer=i.default.div(r(["\n  cursor: default;\n\n  .svgGloria {\n    &__active {\n      animation: bubbleBorderDraw 800ms ease-in-out 100ms 1 normal forwards;\n    }\n\n    &:hover {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n"],["\n  cursor: default;\n\n  .svgGloria {\n    &__active {\n      animation: bubbleBorderDraw 800ms ease-in-out 100ms 1 normal forwards;\n    }\n\n    &:hover {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n"])),t.StoryContainer=i.default.div(r(["\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n\n  text-align: center;\n  font-family: 'Open Sans', sans-serif;\n  white-space: normal;\n  justify-content: center;\n  box-sizing: content-box;\n"],["\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n\n  text-align: center;\n  font-family: 'Open Sans', sans-serif;\n  white-space: normal;\n  justify-content: center;\n  box-sizing: content-box;\n"])),t.Title=i.default.span(r(["\n  display: block;\n  width: ",";\n  font-size: ",";\n  color: ",";\n  font-family: ",";\n  font-weight: ",";\n  box-sizing: border-box;\n  white-space: pre-line;\n  text-align: center;\n  padding: 0 5px;\n"],["\n  display: block;\n  width: ",";\n  font-size: ",";\n  color: ",";\n  font-family: ",";\n  font-weight: ",";\n  box-sizing: border-box;\n  white-space: pre-line;\n  text-align: center;\n  padding: 0 5px;\n"]),function(e){return e.textWidth},function(e){return null!==(e=e.fontSize)&&void 0!==e?e:"11px"},function(e){return null!==(e=e.fontColor)&&void 0!==e?e:"black"},function(e){return e.fontFamily},function(e){return e.fontWeight}),t.AvatarContainer=i.default.div(r(["\n  transform: translate3d(0, 0, 0);\n  padding-top: 100%;\n  border-radius: 50%;\n  transition: box-shadow 0.4s ease;\n  box-shadow: 0 7px 12px -5px rgba(0, 0, 0, 0.6);\n  overflow: hidden;\n  position: relative;\n  img,\n  video {\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n    position: absolute;\n    width: 100%;\n    height: auto;\n  }\n"],["\n  transform: translate3d(0, 0, 0);\n  padding-top: 100%;\n  border-radius: 50%;\n  transition: box-shadow 0.4s ease;\n  box-shadow: 0 7px 12px -5px rgba(0, 0, 0, 0.6);\n  overflow: hidden;\n  position: relative;\n  img,\n  video {\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n    position: absolute;\n    width: 100%;\n    height: auto;\n  }\n"])),t.Gloria=i.default.div(r(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.3s ease;\n\n  stroke-dashoffset: 358;\n  stroke-dasharray: 358;\n\n  stroke: ",";\n  stroke-dashoffset: ",";\n  stroke-dasharray: ",";\n\n  svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transform: rotate(-90deg);\n    circle {\n      stroke-width: 3;\n    }\n  }\n\n  ","\n\n  ","\n\n\n  &:hover {\n    opacity: ",";\n  }\n\n  @keyframes bubbleBorderDraw {\n    from {\n    }\n\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.3s ease;\n\n  stroke-dashoffset: 358;\n  stroke-dasharray: 358;\n\n  stroke: ",";\n  stroke-dashoffset: ",";\n  stroke-dasharray: ",";\n\n  svg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transform: rotate(-90deg);\n    circle {\n      stroke-width: 3;\n    }\n  }\n\n  ","\n\n  ","\n\n\n  &:hover {\n    opacity: ",";\n  }\n\n  @keyframes bubbleBorderDraw {\n    from {\n    }\n\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n"]),function(e){return e.stroke},function(e){return e.strokeDashoffset},function(e){return e.strokeDasharray},function(e){return!e.active&&"\n    stroke-dashoffset: 0 !important;\n    stroke-dasharray: 0 !important;\n  "},function(e){return e.active&&"\n    animation: bubbleBorderDraw 800ms ease-in-out 100ms 1 normal forwards;  \n  "},function(e){return e.disabled?1:0}),t.SvgPlayWrapper=i.default.div(r(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: none;\n\n  svg {\n    width: 34%;\n    height: 34%;\n    opacity: 0.8;\n  }\n\n  img {\n    width: 34%;\n    height: 34%;\n    opacity: 0.8;\n  }\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: none;\n\n  svg {\n    width: 34%;\n    height: 34%;\n    opacity: 0.8;\n  }\n\n  img {\n    width: 34%;\n    height: 34%;\n    opacity: 0.8;\n  }\n"]))},function(e,t,n){"use strict";
/*! npm.im/intervalometer */
function r(t,n,e,r){var i,o;function a(e){i=n(a,r),t(e-(o||e)),o=e}return{start:function(){i||a(0)},stop:function(){e(i),i=null,o=0}}}function i(e){return r(e,requestAnimationFrame,cancelAnimationFrame)}function o(e,t){return r(e,setTimeout,clearTimeout,t)}n.r(t),n.d(t,"intervalometer",function(){return r}),n.d(t,"frameIntervalometer",function(){return i}),n.d(t,"timerIntervalometer",function(){return o})},function(e,a,t){"use strict";var n=t(48),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function d(e){return n.isMemo(e)?i:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=i;var g=Object.defineProperty,v=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){!p||(i=m(n))&&i!==p&&e(t,i,r);for(var i,o=v(n),a=(h&&(o=o.concat(h(n))),d(t)),s=d(n),u=0;u<o.length;++u){var l=o[u];if(!(f[l]||r&&r[l]||s&&s[l]||a&&a[l])){var c=y(n,l);try{g(t,l,c)}catch(e){}}}}return t}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(t){var n={};return function(e){return void 0===n[e]&&(n[e]=t(e)),n[e]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=i},function(e,t,n){var r=n(1).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},function(e,t,n){n=n(52);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r,i,o=n(1),n=n(35),a=o.process,o=o.Deno,a=a&&a.versions||o&&o.version,o=a&&a.v8;!(i=o?0<(r=o.split("."))[0]&&r[0]<4?1:+(r[0]+r[1]):i)&&n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},function(e,t,n){var r=n(9),i=n(6),o=n(58);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(9),n=n(6);e.exports=r&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},function(e,t,n){var r=n(9),n=n(8),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,n=n(i,"name"),a=n&&"something"===function(){}.name,r=n&&(!r||o(i,"name").configurable);e.exports={EXISTS:n,PROPER:a,CONFIGURABLE:r}},function(e,t,n){var r=n(4),a=n(8),s=n(18),u=n(137).indexOf,l=n(41),c=r([].push);e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)!a(l,n)&&a(r,n)&&c(o,n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||c(o,n));return o}},function(e,t,n){var r=n(86),i=Math.max,o=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):o(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){e=+e;return e!=e||0==e?0:(0<e?r:n)(e)}},function(e,c,t){function n(e,t){return(e=s[a(e)])==l||e!=u&&(i(t)?r(t):!!t)}var r=t(6),i=t(2),o=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=n.data={},u=n.NATIVE="N",l=n.POLYFILL="P";e.exports=n},function(e,i,t){function n(d){var h=1==d,p=2==d,g=3==d,v=4==d,y=6==d,m=7==d,b=5==d||y;return function(e,t,n,c){for(var r,i,o=E(e),a=_(o),f=w(t,n),s=S(a),u=0,t=c||k,l=h?t(e,s):p||m?t(e,0):void 0;u<s;u++)if((b||u in a)&&(i=f(r=a[u],u,o),d))if(h)l[u]=i;else if(i)switch(d){case 3:return!0;case 5:return r;case 6:return u;case 2:T(l,r)}else switch(d){case 4:return!1;case 7:T(l,r)}return y?-1:g||v?v:l}}var w=t(43),r=t(4),_=t(50),E=t(27),S=t(42),k=t(139),T=r([].push);e.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},function(e,t,n){var r=n(25);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,c,t){function n(){}function r(e){if(!s(e))return!1;try{return u(n,p,e),!0}catch(e){return!1}}function i(e){if(!s(e))return!1;switch(f(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!g(l,h(e))}catch(e){return!0}}var o=t(4),a=t(6),s=t(2),f=t(62),d=t(17),h=t(38),p=[],u=d("Reflect","construct"),l=/^\s*(?:class|function)\b/,g=o(l.exec),v=!l.exec(n);i.sham=!0,e.exports=!u||a(function(){var e;return r(r.call)||!r(Object)||!r(function(){e=!0})||e})?i:r},function(e,t,n){var r=n(5),i=n(44),n=n(14),o=r("unscopables"),a=Array.prototype;null==a[o]&&n.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},function(e,t,n){var r=n(9),i=n(82),s=n(14),u=n(10),l=n(18),c=n(63);t.f=r&&!i?Object.defineProperties:function(e,t){u(e);for(var n,r=l(t),i=c(t),o=i.length,a=0;a<o;)s.f(e,n=i[a++],r[n]);return e}},function(e,t,n){n=n(17);e.exports=n("document","documentElement")},function(e,c,t){"use strict";var n,r,i=t(6),o=t(2),a=t(44),s=t(95),f=t(21),u=t(5),t=t(20),l=u("iterator"),u=!1;[].keys&&("next"in(r=[].keys())?(s=s(s(r)))!==Object.prototype&&(n=s):u=!0),null==n||i(function(){var e={};return n[l].call(e)!==e})?n={}:t&&(n=a(n)),o(n[l])||f(n,l,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:u}},function(e,c,t){var n=t(1),r=t(8),i=t(2),o=t(27),a=t(40),t=t(145),s=a("IE_PROTO"),u=n.Object,l=u.prototype;e.exports=t?u.getPrototypeOf:function(e){e=o(e);if(r(e,s))return e[s];var t=e.constructor;return i(t)&&e instanceof t?t.prototype:e instanceof u?l:null}},function(e,t,n){var i=n(4),o=n(10),a=n(146);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return o(e),a(t),r?n(e,t):e.__proto__=t,e}}():void 0)},function(e,t,n){var r=n(62),i=n(53),o=n(28),a=n(5)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},function(c,f,e){var t,r,n=e(1),d=e(99),h=e(43),p=e(2),g=e(8),v=e(6),y=e(93),m=e(100),b=e(58),w=e(159),i=e(101),e=e(64),o=n.setImmediate,a=n.clearImmediate,_=n.process,s=n.Dispatch,E=n.Function,S=n.MessageChannel,k=n.String,u=0,l={},T="onreadystatechange";try{t=n.location}catch(e){}function x(e){return function(){A(e)}}function O(e){A(e.data)}function P(e){n.postMessage(k(e),t.protocol+"//"+t.host)}var A=function(e){var t;g(l,e)&&(t=l[e],delete l[e],t())};o&&a||(o=function(e){w(arguments.length,1);var t=p(e)?e:E(e),n=m(arguments,1);return l[++u]=function(){d(t,void 0,n)},r(u),u},a=function(e){delete l[e]},e?r=function(e){_.nextTick(x(e))}:s&&s.now?r=function(e){s.now(x(e))}:S&&!i?(i=(e=new S).port2,e.port1.onmessage=O,r=h(i.postMessage,i)):n.addEventListener&&p(n.postMessage)&&!n.importScripts&&t&&"file:"!==t.protocol&&!v(P)?(r=P,n.addEventListener("message",O,!1)):r=T in b("script")?function(e){y.appendChild(b("script"))[T]=function(){y.removeChild(this),A(e)}}:function(e){setTimeout(x(e),0)}),c.exports={set:o,clear:a}},function(e,t,n){var n=n(32),r=Function.prototype,i=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(i):function(){return o.apply(i,arguments)})},function(e,t,n){n=n(4);e.exports=n([].slice)},function(e,t,n){n=n(35);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}var i=n(26);e.exports.f=function(e){return new r(e)}},function(e,t,n){n=n(5);t.f=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventNames=void 0,(t=t.EventNames||(t.EventNames={})).play="videoPlay",t.pause="videoPause",t.ended="videoComplete",t.close="close",t.backToChapter="clickPrevious",t.skipChapter="clickNext",t.newIteration="newIteration",t.error="error",t.loaded="loaded"},function(e,c){var n,r,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}function f(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var a,s=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?s=a.concat(s):l=-1,s.length&&h())}function h(){if(!u){for(var e=f(d),t=(u=!0,s.length);t;){for(a=s,s=[];++l<t;)a&&a[l].run();l=-1,t=s.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function t(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new p(e,t)),1!==s.length||u||f(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=t,e.addListener=t,e.once=t,e.off=t,e.removeListener=t,e.removeAllListeners=t,e.emit=t,e.prependListener=t,e.prependOnceListener=t,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(203)));t.default=r.default},function(e,L,D){!function(A,C){var R;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(){var zo,Vo="Expected a function",Xo="__lodash_hash_undefined__",Qo="__lodash_placeholder__",Zo=128,Jo=9007199254740991,ea=NaN,ta=4294967295,na=[["ary",Zo],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ra="[object Arguments]",ia="[object Array]",oa="[object Boolean]",aa="[object Date]",sa="[object Error]",ua="[object Function]",la="[object GeneratorFunction]",ca="[object Map]",fa="[object Number]",da="[object Object]",ha="[object Promise]",pa="[object RegExp]",ga="[object Set]",va="[object String]",ya="[object Symbol]",ma="[object WeakMap]",ba="[object ArrayBuffer]",wa="[object DataView]",_a="[object Float32Array]",Ea="[object Float64Array]",Sa="[object Int8Array]",ka="[object Int16Array]",Ta="[object Int32Array]",xa="[object Uint8Array]",Oa="[object Uint8ClampedArray]",Pa="[object Uint16Array]",Aa="[object Uint32Array]",Ca=/\b__p \+= '';/g,Ra=/\b(__p \+=) '' \+/g,La=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Da=/&(?:amp|lt|gt|quot|#39);/g,Ia=/[&<>"']/g,Ma=RegExp(Da.source),Fa=RegExp(Ia.source),ja=/<%-([\s\S]+?)%>/g,Na=/<%([\s\S]+?)%>/g,Ua=/<%=([\s\S]+?)%>/g,Ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,za=/^\w*$/,Va=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ga=/[\\^$.*+?()[\]{}|]/g,Wa=RegExp(Ga.source),Ha=/^\s+/,n=/\s/,Ka=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qa=/\{\n\/\* \[wrapped with (.+)\] \*/,$a=/,? & /,Ya=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xa=/[()=,{}\[\]\/\s]/,Qa=/\\(\\)?/g,Za=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ja=/\w*$/,es=/^[-+]0x[0-9a-f]+$/i,ts=/^0b[01]+$/i,ns=/^\[object .+?Constructor\]$/,rs=/^0o[0-7]+$/i,is=/^(?:0|[1-9]\d*)$/,os=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,as=/($^)/,ss=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",r="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",i="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\ufe0e\\ufe0f",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="['’]",e="["+t+"]",c="["+u+"]",f="["+r+"]",d="["+i+"]",h="["+o+"]",u="[^"+t+u+"\\d+"+i+o+a+"]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",a="["+a+"]",v="\\u200d",y="(?:"+h+"|"+u+")",u="(?:"+a+"|"+u+")",m="(?:['’](?:d|ll|m|re|s|t|ve))?",b="(?:['’](?:D|LL|M|RE|S|T|VE))?",w="(?:"+f+"|"+i+")"+"?",_="["+s+"]?",_=_+w+("(?:"+v+"(?:"+[o,p,g].join("|")+")"+_+w+")*"),w="(?:"+[d,p,g].join("|")+")"+_,d="(?:"+[o+f+"?",f,p,g,e].join("|")+")",us=RegExp(l,"g"),ls=RegExp(f,"g"),E=RegExp(i+"(?="+i+")|"+d+_,"g"),cs=RegExp([a+"?"+h+"+"+m+"(?="+[c,a,"$"].join("|")+")",u+"+"+b+"(?="+[c,a+y,"$"].join("|")+")",a+"?"+y+"+"+m,a+"+"+b,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",w].join("|"),"g"),S=RegExp("["+v+t+r+s+"]"),fs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ds=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hs=-1,Go={},Wo=(Go[_a]=Go[Ea]=Go[Sa]=Go[ka]=Go[Ta]=Go[xa]=Go[Oa]=Go[Pa]=Go[Aa]=!0,Go[ra]=Go[ia]=Go[ba]=Go[oa]=Go[wa]=Go[aa]=Go[sa]=Go[ua]=Go[ca]=Go[fa]=Go[da]=Go[pa]=Go[ga]=Go[va]=Go[ma]=!1,{}),k=(Wo[ra]=Wo[ia]=Wo[ba]=Wo[wa]=Wo[oa]=Wo[aa]=Wo[_a]=Wo[Ea]=Wo[Sa]=Wo[ka]=Wo[Ta]=Wo[ca]=Wo[fa]=Wo[da]=Wo[pa]=Wo[ga]=Wo[va]=Wo[ya]=Wo[xa]=Wo[Oa]=Wo[Pa]=Wo[Aa]=!0,Wo[sa]=Wo[ua]=Wo[ma]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),ps=parseFloat,gs=parseInt,o="object"==typeof A&&A&&A.Object===Object&&A,p="object"==typeof self&&self&&self.Object===Object&&self,Ho=o||p||Function("return this")(),g=L&&!L.nodeType&&L,T=g&&"object"==typeof C&&C&&!C.nodeType&&C,vs=T&&T.exports===g,x=vs&&o.process,e=function(){try{var e=T&&T.require&&T.require("util").types;return e?e:x&&x.binding&&x.binding("util")}catch(e){}}(),ys=e&&e.isArrayBuffer,ms=e&&e.isDate,bs=e&&e.isMap,ws=e&&e.isRegExp,_s=e&&e.isSet,Es=e&&e.isTypedArray;function Ko(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ss(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function qo(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ks(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ts(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xs(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Os(e,t){return!!(null==e?0:e.length)&&-1<Ms(e,t,0)}function Ps(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function $o(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function As(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Cs(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Rs(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ls(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var O=Us("length");function Ds(e,r,t){var i;return t(e,function(e,t,n){if(r(e,t,n))return i=t,!1}),i}function Is(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ms(e,t,n){if(t!=t)return Is(e,js,n);for(var r=e,i=t,o=n-1,a=r.length;++o<a;)if(r[o]===i)return o;return-1}function Fs(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function js(e){return e!=e}function Ns(e,t){var n=null==e?0:e.length;return n?zs(e,t)/n:ea}function Us(t){return function(e){return null==e?zo:e[t]}}function P(t){return function(e){return null==t?zo:t[e]}}function Bs(e,r,i,o,t){return t(e,function(e,t,n){i=o?(o=!1,e):r(i,e,t,n)}),i}function zs(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==zo&&(n=n===zo?o:n+o)}return n}function Vs(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gs(e){return e&&e.slice(0,iu(e)+1).replace(Ha,"")}function Yo(t){return function(e){return t(e)}}function Ws(t,e){return $o(e,function(e){return t[e]})}function Hs(e,t){return e.has(t)}function Ks(e,t){for(var n=-1,r=e.length;++n<r&&-1<Ms(t,e[n],0););return n}function qs(e,t){for(var n=e.length;n--&&-1<Ms(t,e[n],0););return n}var $s=P({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ys=P({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xs(e){return"\\"+k[e]}function Qs(e){return S.test(e)}function Zs(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function Js(t,n){return function(e){return t(n(e))}}function eu(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Qo||(e[n]=Qo,o[i++]=n)}return o}function tu(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function nu(e){return(Qs(e)?function(e){var t=E.lastIndex=0;for(;E.test(e);)++t;return t}:O)(e)}function ru(e){return Qs(e)?e.match(E)||[]:e.split("")}function iu(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}var ou=P({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var au=function t(e){var E=(e=null==e?Ho:au.defaults(Ho.Object(),e,au.pick(Ho,ds))).Array,n=e.Date,d=e.Error,h=e.Function,i=e.Math,g=e.Object,m=e.RegExp,c=e.String,b=e.TypeError,o=E.prototype,r=h.prototype,w=g.prototype,u=e["__core-js_shared__"],l=r.toString,F=w.hasOwnProperty,_=0,S=(r=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",k=w.toString,T=l.call(g),x=Ho._,O=m("^"+l.call(F).replace(Ga,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),r=vs?e.Buffer:zo,P=e.Symbol,N=e.Uint8Array,A=r?r.allocUnsafe:zo,C=Js(g.getPrototypeOf,g),R=g.create,L=w.propertyIsEnumerable,D=o.splice,I=P?P.isConcatSpreadable:zo,M=P?P.iterator:zo,U=P?P.toStringTag:zo,B=function(){try{var e=Un(g,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=e.clearTimeout!==Ho.clearTimeout&&e.clearTimeout,V=n&&n.now!==Ho.Date.now&&n.now,G=e.setTimeout!==Ho.setTimeout&&e.setTimeout,W=i.ceil,H=i.floor,K=g.getOwnPropertySymbols,r=r?r.isBuffer:zo,q=e.isFinite,$=o.join,Y=Js(g.keys,g),X=i.max,Q=i.min,Z=n.now,J=e.parseInt,ee=i.random,te=o.reverse,n=Un(e,"DataView"),ne=Un(e,"Map"),re=Un(e,"Promise"),ie=Un(e,"Set"),e=Un(e,"WeakMap"),oe=Un(g,"create"),ae=e&&new e,se={},ue=dr(n),le=dr(ne),ce=dr(re),fe=dr(ie),de=dr(e),P=P?P.prototype:zo,he=P?P.valueOf:zo,pe=P?P.toString:zo;function p(e){if(mi(e)&&!j(e)&&!(e instanceof v)){if(e instanceof me)return e;if(F.call(e,"__wrapped__"))return hr(e)}return new me(e)}var ge=function(e){if(!yi(e))return{};if(R)return R(e);ve.prototype=e;e=new ve;return ve.prototype=zo,e};function ve(){}function ye(){}function me(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=zo}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ta,this.__views__=[]}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _e;++t<n;)this.add(e[t])}function Se(e){e=this.__data__=new we(e);this.size=e.size}function ke(e,t){var n,r=j(e),i=!r&&ui(e),o=!r&&!i&&di(e),a=!r&&!i&&!o&&xi(e),s=r||i||o||a,u=s?Vs(e.length,c):[],l=u.length;for(n in e)!t&&!F.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Kn(n,l))||u.push(n);return u}function Te(e){var t=e.length;return t?e[Et(0,t-1)]:zo}function xe(e,t){return ur(tn(e),Me(t,0,e.length))}function Oe(e){return ur(tn(e))}function Pe(e,t,n){(n===zo||oi(e[t],n))&&(n!==zo||t in e)||De(e,t,n)}function Ae(e,t,n){var r=e[t];F.call(e,t)&&oi(r,n)&&(n!==zo||t in e)||De(e,t,n)}function Ce(e,t){for(var n=e.length;n--;)if(oi(e[n][0],t))return n;return-1}function Re(e,r,i,o){return Be(e,function(e,t,n){r(o,e,i(e),n)}),o}function Le(e,t){return e&&nn(t,Ki(t),e)}function De(e,t,n){"__proto__"==t&&B?B(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ie(e,t){for(var n=-1,r=t.length,i=E(r),o=null==e;++n<r;)i[n]=o?zo:zi(e,t[n]);return i}function Me(e,t,n){return e==e&&(n!==zo&&(e=e<=n?e:n),t!==zo&&(e=t<=e?e:t)),e}function Fe(n,r,i,c,e,o){var a,f=1&r,d=2&r,h=4&r;if((a=i?e?i(n,c,e,o):i(n):a)!==zo)return a;if(!yi(n))return n;var t,c=j(n);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&F.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!f)return tn(n,a)}else{var s=Vn(n),u=s==ua||s==la;if(di(n))return Yt(n,f);if(s==da||s==ra||u&&!e){if(a=d||u?{}:Wn(n),!f)return d?(l=u=n,l=(t=a)&&nn(l,qi(l),t),nn(u,zn(u),l)):(u=Le(a,t=n),nn(t,Bn(t),u))}else{if(!Wo[s])return e?n:{};a=function(e,t,n){var r=e.constructor;switch(t){case ba:return Xt(e);case oa:case aa:return new r(+e);case wa:return function(e,t){t=t?Xt(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case _a:case Ea:case Sa:case ka:case Ta:case xa:case Oa:case Pa:case Aa:return Qt(e,n);case ca:return new r;case fa:case va:return new r(e);case pa:return function(e){var t=new e.constructor(e.source,Ja.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ga:return new r;case ya:return function(e){return he?g(he.call(e)):{}}(e)}}(n,s,f)}}var l=(o=o||new Se).get(n);if(l)return l;o.set(n,a),Si(n)?n.forEach(function(e){a.add(Fe(e,r,i,e,n,o))}):bi(n)&&n.forEach(function(e,t){a.set(t,Fe(e,r,i,t,n,o))});var p=c?zo:(h?d?Dn:Ln:d?qi:Ki)(n);return qo(p||n,function(e,t){p&&(e=n[t=e]),Ae(a,t,Fe(e,r,i,t,n,o))}),a}function je(e,t,n){var r=n.length;if(null==e)return!r;for(e=g(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===zo&&!(i in e)||!o(a))return!1}return!0}function Ne(e,t,n){if("function"!=typeof e)throw new b(Vo);return ir(function(){e.apply(zo,n)},t)}function Ue(e,t,n,r){var i=-1,o=Os,a=!0,c=e.length,s=[],f=t.length;if(!c)return s;n&&(t=$o(t,Yo(n))),r?(o=Ps,a=!1):200<=t.length&&(o=Hs,a=!1,t=new Ee(t));e:for(;++i<c;){var u=e[i],l=null==n?u:n(u),u=r||0!==u?u:0;if(a&&l==l){for(var d=f;d--;)if(t[d]===l)continue e;s.push(u)}else o(t,l,r)||s.push(u)}return s}p.templateSettings={escape:ja,evaluate:Na,interpolate:Ua,variable:"",imports:{_:p}},(p.prototype=ye.prototype).constructor=p,(me.prototype=ge(ye.prototype)).constructor=me,(v.prototype=ge(ye.prototype)).constructor=v,be.prototype.clear=function(){this.__data__=oe?oe(null):{},this.size=0},be.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},be.prototype.get=function(e){var t,n=this.__data__;return oe?(t=n[e])===Xo?zo:t:F.call(n,e)?n[e]:zo},be.prototype.has=function(e){var t=this.__data__;return oe?t[e]!==zo:F.call(t,e)},be.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=oe&&t===zo?Xo:t,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__;return!((e=Ce(t,e))<0)&&(e==t.length-1?t.pop():D.call(t,e,1),--this.size,!0)},we.prototype.get=function(e){var t=this.__data__;return(e=Ce(t,e))<0?zo:t[e][1]},we.prototype.has=function(e){return-1<Ce(this.__data__,e)},we.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},_e.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(ne||we),string:new be}},_e.prototype.delete=function(e){return e=jn(this,e).delete(e),this.size-=e?1:0,e},_e.prototype.get=function(e){return jn(this,e).get(e)},_e.prototype.has=function(e){return jn(this,e).has(e)},_e.prototype.set=function(e,t){var n=jn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,Xo),this},Ee.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new we,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var r=n.__data__;if(!ne||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _e(r)}return n.set(e,t),this.size=n.size,this};var Be=an($e),ze=an(Ye,!0);function Ve(e,r){var i=!0;return Be(e,function(e,t,n){return i=!!r(e,t,n)}),i}function Ge(e,t,n){for(var r=-1,i=e.length;++r<i;){var o,a,s=e[r],u=t(s);null!=u&&(o===zo?u==u&&!Ti(u):n(u,o))&&(o=u,a=s)}return a}function We(e,r){var i=[];return Be(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function He(e,t,n,r,i){var o=-1,a=e.length;for(n=n||Hn,i=i||[];++o<a;){var s=e[o];0<t&&n(s)?1<t?He(s,t-1,n,r,i):As(i,s):r||(i[i.length]=s)}return i}var Ke=sn(),qe=sn(!0);function $e(e,t){return e&&Ke(e,t,Ki)}function Ye(e,t){return e&&qe(e,t,Ki)}function Xe(t,e){return xs(e,function(e){return pi(t[e])})}function Qe(e,t){for(var n=0,r=(t=Ht(t,e)).length;null!=e&&n<r;)e=e[fr(t[n++])];return n&&n==r?e:zo}function Ze(e,t,n){t=t(e);return j(e)?t:As(t,n(e))}function Je(e){{if(null==e)return e===zo?"[object Undefined]":"[object Null]";if(U&&U in g(e)){var t=e,n=F.call(t,U),r=t[U];try{t[U]=zo;var i=!0}catch(e){}var o=k.call(t);return i&&(n?t[U]=r:delete t[U]),o}return k.call(e)}}function et(e,t){return t<e}function tt(e,t){return null!=e&&F.call(e,t)}function nt(e,t){return null!=e&&t in g(e)}function rt(e,t,n){for(var c=n?Ps:Os,f=e[0].length,r=e.length,i=r,d=E(r),h=1/0,o=[];i--;){var a=e[i];i&&t&&(a=$o(a,Yo(t))),h=Q(a.length,h),d[i]=!n&&(t||120<=f&&120<=a.length)?new Ee(i&&a):zo}var a=e[0],p=-1,s=d[0];e:for(;++p<f&&o.length<h;){var u=a[p],l=t?t(u):u,u=n||0!==u?u:0;if(!(s?Hs(s,l):c(o,l,n))){for(i=r;--i;){var g=d[i];if(!(g?Hs(g,l):c(e[i],l,n)))continue e}s&&s.push(l),o.push(u)}}return o}function it(e,t,n){t=null==(e=tr(e,t=Ht(t,e)))?e:e[fr(mr(t))];return null==t?zo:Ko(t,e,n)}function ot(e){return mi(e)&&Je(e)==ra}function at(e,t,c,f,n){{if(e===t)return!0;if(null==e||null==t||!mi(e)&&!mi(t))return e!=e&&t!=t;var d=at,r=j(e),h=j(t),i=r?ia:Vn(e),h=h?ia:Vn(t),p=(i=i==ra?da:i)==da,g=(h=h==ra?da:h)==da,h;if((h=i==h)&&di(e)){if(!di(t))return!1;p=!(r=!0)}if(h&&!p){n=n||new Se;if(r||xi(e))return Cn(e,t,c,f,d,n);else{var o=e;var a=t;var v=i;var y=c;var m=f;var b=d;var w=n;switch(v){case wa:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case ba:return o.byteLength==a.byteLength&&b(new N(o),new N(a))?!0:!1;case oa:case aa:case fa:return oi(+o,+a);case sa:return o.name==a.name&&o.message==a.message;case pa:case va:return o==a+"";case ca:var _=Zs;case ga:var E=1&y;if(_=_||tu,o.size!=a.size&&!E)return!1;E=w.get(o);if(E)return E==a;y|=2,w.set(o,a);E=Cn(_(o),_(a),y,m,b,w);return w.delete(o),E;case ya:if(he)return he.call(o)==he.call(a)}return!1;return}}if(!(1&c)){r=p&&F.call(e,"__wrapped__"),i=g&&F.call(t,"__wrapped__");if(r||i)return p=r?e.value():e,g=i?t.value():t,n=n||new Se,d(p,g,c,f,n)}if(h){n=n||new Se;var s=e,u=t,S=c,k=f,T=d,l=n,x=1&S,O=Ln(s),P=O.length,r=Ln(u).length;if(P!=r&&!x)return!1;for(var A=P;A--;){var C=O[A];if(!(x?C in u:F.call(u,C)))return!1}r=l.get(s),i=l.get(u);if(r&&i)return r==u&&i==s;for(var R=!0,L=(l.set(s,u),l.set(u,s),x);++A<P;){C=O[A];var D,I=s[C],M=u[C];if(!((D=k?x?k(M,I,C,u,s,l):k(I,M,C,s,u,l):D)===zo?I===M||T(I,M,S,k,l):D)){R=!1;break}L=L||"constructor"==C}return R&&!L&&(r=s.constructor,i=u.constructor,r!=i&&"constructor"in s&&"constructor"in u&&!("function"==typeof r&&r instanceof r&&"function"==typeof i&&i instanceof i)&&(R=!1)),l.delete(s),l.delete(u),R}return!1}}function st(e,c,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=g(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){var s=(a=t[r])[0],u=e[s],f=a[1];if(o&&a[2]){if(u===zo&&!(s in e))return!1}else{var l,d=new Se;if(!((l=n?n(u,f,s,e,c,d):l)===zo?at(f,u,3,n,d):l))return!1}}return!0}function ut(e){return!(!yi(e)||(t=e,S&&S in t))&&(pi(e)?O:ns).test(dr(e));var t}function lt(e){return"function"==typeof e?e:null==e?bo:"object"==typeof e?j(e)?gt(e[0],e[1]):pt(e):Po(e)}function ct(e){if(!Qn(e))return Y(e);var t,n=[];for(t in g(e))F.call(e,t)&&"constructor"!=t&&n.push(t);return n}function ft(e){if(!yi(e)){var t=e,n=[];if(null!=t)for(var r in g(t))n.push(r);return n}var i,o=Qn(e),a=[];for(i in e)("constructor"!=i||!o&&F.call(e,i))&&a.push(i);return a}function dt(e,t){return e<t}function ht(e,r){var i=-1,o=ci(e)?E(e.length):[];return Be(e,function(e,t,n){o[++i]=r(e,t,n)}),o}function pt(t){var n=Nn(t);return 1==n.length&&n[0][2]?Jn(n[0][0],n[0][1]):function(e){return e===t||st(e,t,n)}}function gt(n,r){return $n(n)&&Zn(r)?Jn(fr(n),r):function(e){var t=zi(e,n);return t===zo&&t===r?Vi(e,n):at(r,t,3)}}function vt(g,v,y,m,b){g!==v&&Ke(v,function(c,e){var t,n,r,f,d,i,o,a,h,p,s,u,l;b=b||new Se,yi(c)?(n=v,f=y,d=vt,i=m,o=b,s=nr(t=g,r=e),u=nr(n,r),(l=o.get(u))?Pe(t,r,l):(l=i?i(s,u,r+"",t,n,o):zo,(n=l===zo)&&(a=j(u),h=!a&&di(u),p=!a&&!h&&xi(u),l=u,a||h||p?l=j(s)?s:fi(s)?tn(s):h?Yt(u,!(n=!1)):p?Qt(u,!(n=!1)):[]:_i(u)||ui(u)?ui(l=s)?l=Di(s):yi(s)&&!pi(s)||(l=Wn(u)):n=!1),n&&(o.set(u,l),d(l,u,f,i,o),o.delete(u)),Pe(t,r,l))):(a=m?m(nr(g,e),c,e+"",g,v,b):zo,Pe(g,e,a=a===zo?c:a))},qi)}function yt(e,t){var n=e.length;if(n)return Kn(t+=t<0?n:0,n)?e[t]:zo}function mt(e,r,c){r=r.length?$o(r,function(t){return j(t)?function(e){return Qe(e,1===t.length?t[0]:t)}:t}):[bo];var i=-1;r=$o(r,Yo(s()));var t=ht(e,function(t,e,n){return{criteria:$o(r,function(e){return e(t)}),index:++i,value:t}}),e=function(e,t){for(var n=c,r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Zt(i[r],o[r]);if(u){if(s<=r)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index},n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function bt(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Qe(e,a);n(s,a)&&xt(o,Ht(a,e),s)}return o}function wt(e,t,n,r){var i=r?Fs:Ms,o=-1,a=t.length,s=e;for(e===t&&(t=tn(t)),n&&(s=$o(e,Yo(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;-1<(u=i(s,c,u,r));)s!==e&&D.call(s,u,1),D.call(e,u,1);return e}function _t(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i,o=t[n];n!=r&&o===i||(Kn(i=o)?D.call(e,o,1):jt(e,o))}return e}function Et(e,t){return e+H(ee()*(t-e+1))}function St(e,t){var n="";if(!e||t<1||Jo<t)return n;for(;t%2&&(n+=e),(t=H(t/2))&&(e+=e),t;);return n}function a(e,t){return or(er(e,t,bo),e+"")}function kt(e){return Te(to(e))}function Tt(e,t){e=to(e);return ur(e,Me(t,0,e.length))}function xt(e,t,n,r){if(!yi(e))return e;for(var i=-1,o=(t=Ht(t,e)).length,c=o-1,a=e;null!=a&&++i<o;){var s,u=fr(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;i!=c&&(s=a[u],(l=r?r(s,u,a):zo)===zo&&(l=yi(s)?s:Kn(t[i+1])?[]:{})),Ae(a,u,l),a=a[u]}return e}var Ot=ae?function(e,t){return ae.set(e,t),e}:bo,P=B?function(e,t){return B(e,"toString",{configurable:!0,enumerable:!1,value:vo(t),writable:!0})}:bo;function Pt(e){return ur(to(e))}function At(e,t,n){for(var r=-1,i=e.length,o=((n=i<n?i:n)<0&&(n+=i),i=n<(t=t<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0,E(i));++r<i;)o[r]=e[r+t];return o}function Ct(e,r){var i;return Be(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function Rt(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ti(a)&&(n?a<=t:a<t)?r=1+o:i=o}return i}return Lt(e,t,bo,n)}function Lt(e,t,c,n){var r=0,i=null==e?0:e.length;if(0===i)return 0;for(var f=(t=c(t))!=t,d=null===t,h=Ti(t),p=t===zo;r<i;){var o=H((r+i)/2),a=c(e[o]),s=a!==zo,u=null===a,l=a==a,g=Ti(a),l=f?n||l:p?l&&(n||s):d?l&&s&&(n||!u):h?l&&s&&!u&&(n||!g):!u&&!g&&(n?a<=t:a<t);l?r=o+1:i=o}return Q(i,4294967294)}function Dt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a,s=e[n],u=t?t(s):s;n&&oi(u,a)||(a=u,o[i++]=0===s?0:s)}return o}function It(e){return"number"==typeof e?e:Ti(e)?ea:+e}function Mt(e){if("string"==typeof e)return e;if(j(e))return $o(e,Mt)+"";if(Ti(e))return pe?pe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ft(e,t,n){var r=-1,i=Os,c=e.length,o=!0,a=[],s=a;if(n)o=!1,i=Ps;else if(200<=c){var f=t?null:kn(e);if(f)return tu(f);o=!1,i=Hs,s=new Ee}else s=t?[]:a;e:for(;++r<c;){var u=e[r],l=t?t(u):u,u=n||0!==u?u:0;if(o&&l==l){for(var d=s.length;d--;)if(s[d]===l)continue e;t&&s.push(l),a.push(u)}else i(s,l,n)||(s!==a&&s.push(l),a.push(u))}return a}function jt(e,t){return null==(e=tr(e,t=Ht(t,e)))||delete e[fr(mr(t))]}function Nt(e,t,n,r){return xt(e,t,n(Qe(e,t)),r)}function Ut(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?At(e,r?0:o,r?o+1:i):At(e,r?o+1:0,r?i:o)}function Bt(e,t){var n=e;return Cs(t,function(e,t){return t.func.apply(t.thisArg,As([e],t.args))},n=e instanceof v?e.value():n)}function zt(e,t,n){var r=e.length;if(r<2)return r?Ft(e[0]):[];for(var i=-1,o=E(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Ue(o[i]||a,e[s],t,n));return Ft(He(o,1),t,n)}function Vt(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:zo;n(a,e[r],s)}return a}function Gt(e){return fi(e)?e:[]}function Wt(e){return"function"==typeof e?e:bo}function Ht(e,t){return j(e)?e:$n(e,t)?[e]:cr(f(e))}var Kt=a;function qt(e,t,n){var r=e.length;return n=n===zo?r:n,!t&&r<=n?e:At(e,t,n)}var $t=z||function(e){return Ho.clearTimeout(e)};function Yt(e,t){if(t)return e.slice();t=e.length,t=A?A(t):new e.constructor(t);return e.copy(t),t}function Xt(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}function Qt(e,t){t=t?Xt(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Zt(e,t){if(e!==t){var n=e!==zo,r=null===e,i=e==e,o=Ti(e),a=t!==zo,s=null===t,u=t==t,l=Ti(t);if(!s&&!l&&!o&&t<e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Jt(e,t,n,c){for(var r=-1,i=e.length,o=n.length,a=-1,s=t.length,u=X(i-o,0),l=E(s+u),f=!c;++a<s;)l[a]=t[a];for(;++r<o;)(f||r<i)&&(l[n[r]]=e[r]);for(;u--;)l[a++]=e[r++];return l}function en(e,t,n,c){for(var r=-1,i=e.length,o=-1,a=n.length,s=-1,u=t.length,f=X(i-a,0),l=E(f+u),d=!c;++r<f;)l[r]=e[r];for(var h=r;++s<u;)l[h+s]=t[s];for(;++o<a;)(d||r<i)&&(l[h+n[o]]=e[r++]);return l}function tn(e,t){var n=-1,r=e.length;for(t=t||E(r);++n<r;)t[n]=e[n];return t}function nn(e,t,n,r){for(var i=!n,o=(n=n||{},-1),a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):zo;(i?De:Ae)(n,s,u=u===zo?e[s]:u)}return n}function rn(i,o){return function(e,t){var n=j(e)?Ss:Re,r=o?o():{};return n(e,i,s(t,2),r)}}function on(s){return a(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:zo,o=2<r?t[2]:zo,i=3<s.length&&"function"==typeof i?(r--,i):zo;for(o&&qn(t[0],t[1],o)&&(i=r<3?zo:i,r=1),e=g(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}function an(o,a){return function(e,t){if(null==e)return e;if(!ci(e))return o(e,t);for(var n=e.length,r=a?n:-1,i=g(e);(a?r--:++r<n)&&!1!==t(i[r],r,i););return e}}function sn(u){return function(e,t,n){for(var r=-1,i=g(e),o=n(e),a=o.length;a--;){var s=o[u?a:++r];if(!1===t(i[s],s,i))break}return e}}function un(r){return function(e){var t=Qs(e=f(e))?ru(e):zo,n=t?t[0]:e.charAt(0),t=t?qt(t,1).join(""):e.slice(1);return n[r]()+t}}function ln(t){return function(e){return Cs(ho(io(e).replace(us,"")),t,"")}}function cn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ge(r.prototype),n=r.apply(t,e);return yi(n)?n:t}}function fn(o,a,s){var u=cn(o);return function e(){for(var t=arguments.length,n=E(t),r=t,i=Fn(e);r--;)n[r]=arguments[r];i=t<3&&n[0]!==i&&n[t-1]!==i?[]:eu(n,i);return(t-=i.length)<s?En(o,a,pn,e.placeholder,zo,n,i,zo,zo,s-t):Ko(this&&this!==Ho&&this instanceof e?u:o,this,n)}}function dn(o){return function(e,t,n){var r,i=g(e),t=(ci(e)||(r=s(t,3),e=Ki(e),t=function(e){return r(i[e],e,i)}),o(e,t,n));return-1<t?i[r?e[t]:t]:zo}}function hn(u){return Rn(function(i){var o=i.length,e=o,t=me.prototype.thru;for(u&&i.reverse();e--;){var n=i[e];if("function"!=typeof n)throw new b(Vo);t&&!s&&"wrapper"==Mn(n)&&(s=new me([],!0))}for(e=s?e:o;++e<o;)var r=Mn(n=i[e]),a="wrapper"==r?In(n):zo,s=a&&Yn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Mn(a[0])].apply(s,a[3]):1==n.length&&Yn(n)?s[r]():s.thru(n);return function(){var e=arguments,t=e[0];if(s&&1==e.length&&j(t))return s.plant(t).value();for(var n=0,r=o?i[n].apply(this,e):t;++n<o;)r=i[n].call(this,r);return r}})}function pn(a,s,u,l,v,c,y,f,d,h){var m=s&Zo,b=1&s,p=2&s,g=24&s,w=512&s,_=p?zo:cn(a);return function e(){for(var t=E(o=arguments.length),n=o;n--;)t[n]=arguments[n];if(g&&(i=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(t,r=Fn(e))),l&&(t=Jt(t,l,v,g)),c&&(t=en(t,c,y,g)),o-=i,g&&o<h)return i=eu(t,r),En(a,s,pn,e.placeholder,u,t,i,f,d,h-o);var r=b?u:this,i=p?r[a]:a,o=t.length;return f?t=function(e,t){for(var n=e.length,r=Q(t.length,n),i=tn(e);r--;){var o=t[r];e[r]=Kn(o,n)?i[o]:zo}return e}(t,f):w&&1<o&&t.reverse(),m&&d<o&&(t.length=d),(i=this&&this!==Ho&&this instanceof e?_||cn(i):i).apply(r,t)}}function gn(n,a){return function(e,t){return e=e,r=n,i=a(t),o={},$e(e,function(e,t,n){r(o,i(e),t,n)}),o;var r,i,o}}function vn(r,i){return function(e,t){var n;if(e===zo&&t===zo)return i;if(e!==zo&&(n=e),t!==zo){if(n===zo)return t;t="string"==typeof e||"string"==typeof t?(e=Mt(e),Mt(t)):(e=It(e),It(t)),n=r(e,t)}return n}}function yn(r){return Rn(function(e){return e=$o(e,Yo(s())),a(function(t){var n=this;return r(e,function(e){return Ko(e,n,t)})})})}function mn(e,t){var n=(t=t===zo?" ":Mt(t)).length;if(n<2)return n?St(t,e):t;n=St(t,W(e/nu(t)));return Qs(t)?qt(ru(n),0,e).join(""):n.slice(0,e)}function bn(s,e,u,l){var c=1&e,f=cn(s);return function e(){for(var t=-1,n=arguments.length,r=-1,i=l.length,o=E(i+n),a=this&&this!==Ho&&this instanceof e?f:s;++r<i;)o[r]=l[r];for(;n--;)o[r++]=arguments[++t];return Ko(a,c?u:this,o)}}function wn(l){return function(e,t,n){n&&"number"!=typeof n&&qn(e,t,n)&&(t=n=zo),e=Ci(e),t===zo?(t=e,e=0):t=Ci(t),n=n===zo?e<t?1:-1:Ci(n);for(var r=e,i=n,o=l,a=-1,s=X(W((t-r)/(i||1)),0),u=E(s);s--;)u[o?s:++a]=r,r+=i;return u}}function _n(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Li(e),t=Li(t)),n(e,t)}}function En(e,t,n,r,i,o,a,s,u,c){var l=8&t,i=(4&(t=(t|(l?32:64))&~(l?64:32))||(t&=-4),[e,t,i,l?o:zo,l?a:zo,l?zo:o,l?zo:a,s,u,c]),o=n.apply(zo,i);return Yn(e)&&rr(o,i),o.placeholder=r,ar(o,e,t)}function Sn(e){var r=i[e];return function(e,t){var n;return e=Li(e),(t=null==t?0:Q(y(t),292))&&q(e)?(n=(f(e)+"e").split("e"),+((n=(f(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))):r(e)}}var kn=ie&&1/tu(new ie([,-0]))[1]==1/0?function(e){return new ie(e)}:ko;function Tn(o){return function(e){var t,n,r,i=Vn(e);return i==ca?Zs(e):i==ga?(i=e,t=-1,n=Array(i.size),i.forEach(function(e){n[++t]=[e,e]}),n):$o(o(r=e),function(e){return[e,r[e]]})}}function xn(e,t,n,r,i,c,o,a){var s=2&t;if(!s&&"function"!=typeof e)throw new b(Vo);var u,f,d,h,p,g=r?r.length:0,v=(g||(t&=-97,r=i=zo),o=o===zo?o:X(y(o),0),a=a===zo?a:y(a),g-=i?i.length:0,64&t&&(l=r,u=i,r=i=zo),s?zo:In(e)),l=[e,t,n,r,i,l,u,c,o,a];return v&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==Zo&&8==n||r==Zo&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return;1&r&&(e[2]=t[2],i|=1&n?0:4);o=t[3];{var s;o&&(s=e[3],e[3]=s?Jt(s,o,t[4]):o,e[4]=s?eu(e[3],Qo):t[4])}(o=t[5])&&(s=e[5],e[5]=s?en(s,o,t[6]):o,e[6]=s?eu(e[5],Qo):t[6]);(o=t[7])&&(e[7]=o);r&Zo&&(e[8]=null==e[8]?t[8]:Q(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(l,v),e=l[0],t=l[1],n=l[2],r=l[3],i=l[4],!(a=l[9]=l[9]===zo?s?0:e.length:X(l[9]-g,0))&&24&t&&(t&=-25),u=t&&1!=t?8==t||16==t?fn(e,t,a):32!=t&&33!=t||i.length?pn.apply(zo,l):bn(e,t,n,r):(d=n,h=1&t,p=cn(f=e),function e(){return(this&&this!==Ho&&this instanceof e?p:f).apply(h?d:this,arguments)}),ar((v?Ot:rr)(u,l),e,t)}function On(e,t,n,r){return e===zo||oi(e,w[n])&&!F.call(r,n)?t:e}function Pn(e,t,n,r,i,o){return yi(e)&&yi(t)&&(o.set(t,e),vt(e,t,zo,Pn,o),o.delete(t)),e}function An(e){return _i(e)?zo:e}function Cn(e,t,n,r,c,i){var f=1&n,d=e.length,o=t.length;if(d!=o&&!(f&&d<o))return!1;var o=i.get(e),h=i.get(t);if(o&&h)return o==t&&h==e;var a=-1,s=!0,p=2&n?new Ee:zo;for(i.set(e,t),i.set(t,e);++a<d;){var g,u=e[a],l=t[a];if((g=r?f?r(l,u,a,t,e,i):r(u,l,a,e,t,i):g)!==zo){if(g)continue;s=!1;break}if(p){if(!Ls(t,function(e,t){return!Hs(p,t)&&(u===e||c(u,e,n,r,i))&&p.push(t)})){s=!1;break}}else if(u!==l&&!c(u,l,n,r,i)){s=!1;break}}return i.delete(e),i.delete(t),s}function Rn(e){return or(er(e,zo,vr),e+"")}function Ln(e){return Ze(e,Ki,Bn)}function Dn(e){return Ze(e,qi,zn)}var In=ae?function(e){return ae.get(e)}:ko;function Mn(e){for(var t=e.name+"",n=se[t],r=F.call(se,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Fn(e){return(F.call(p,"placeholder")?p:e).placeholder}function s(){var e=(e=p.iteratee||wo)===wo?lt:e;return arguments.length?e(arguments[0],arguments[1]):e}function jn(e,t){var n,r,e=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?e["string"==typeof t?"string":"hash"]:e.map}function Nn(e){for(var t=Ki(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Zn(i)]}return t}function Un(e,t){t=t;e=null==(e=e)?zo:e[t];return ut(e)?e:zo}var Bn=K?function(t){return null==t?[]:(t=g(t),xs(K(t),function(e){return L.call(t,e)}))}:Ro,zn=K?function(e){for(var t=[];e;)As(t,Bn(e)),e=C(e);return t}:Ro,Vn=Je;function Gn(e,t,n){for(var r=-1,i=(t=Ht(t,e)).length,o=!1;++r<i;){var a=fr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&vi(i)&&Kn(a,i)&&(j(e)||ui(e))}function Wn(e){return"function"!=typeof e.constructor||Qn(e)?{}:ge(C(e))}function Hn(e){return j(e)||ui(e)||!!(I&&e&&e[I])}function Kn(e,t){var n=typeof e;return!!(t=null==t?Jo:t)&&("number"==n||"symbol"!=n&&is.test(e))&&-1<e&&e%1==0&&e<t}function qn(e,t,n){var r;if(yi(n))return r=typeof t,("number"==r?ci(n)&&Kn(t,n.length):"string"==r&&t in n)&&oi(n[t],e)}function $n(e,t){var n;if(!j(e))return n=typeof e,"number"==n||"symbol"==n||"boolean"==n||null==e||Ti(e)||(za.test(e)||!Ba.test(e)||null!=t&&e in g(t))}function Yn(e){var t=Mn(e),n=p[t];if("function"==typeof n&&t in v.prototype){if(e===n)return 1;t=In(n);return t&&e===t[0]}}(n&&Vn(new n(new ArrayBuffer(1)))!=wa||ne&&Vn(new ne)!=ca||re&&Vn(re.resolve())!=ha||ie&&Vn(new ie)!=ga||e&&Vn(new e)!=ma)&&(Vn=function(e){var t=Je(e),e=t==da?e.constructor:zo,e=e?dr(e):"";if(e)switch(e){case ue:return wa;case le:return ca;case ce:return ha;case fe:return ga;case de:return ma}return t});var Xn=u?pi:Lo;function Qn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}function Zn(e){return e==e&&!yi(e)}function Jn(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==zo||t in g(e)))}}function er(o,a,s){return a=X(a===zo?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=X(e.length-a,0),r=E(n);++t<n;)r[t]=e[a+t];for(var t=-1,i=E(a+1);++t<a;)i[t]=e[t];return i[a]=s(r),Ko(o,this,i)}}function tr(e,t){return t.length<2?e:Qe(e,At(t,0,-1))}function nr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var rr=sr(Ot),ir=G||function(e,t){return Ho.setTimeout(e,t)},or=sr(P);function ar(e,t,n){var r,i,t=t+"";return or(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Ka,"{\n/* [wrapped with "+t+"] */\n")}(t,(r=(e=(e=t).match(qa))?e[1].split($a):[],i=n,qo(na,function(e){var t="_."+e[0];i&e[1]&&!Os(r,t)&&r.push(t)}),r.sort())))}function sr(n){var r=0,i=0;return function(){var e=Z(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(zo,arguments)}}function ur(e,t){var n=-1,r=e.length,i=r-1;for(t=t===zo?r:t;++n<t;){var o=Et(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}lr=(z=ei(z=function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Va,function(e,t,n,r){i.push(n?r.replace(Qa,"$1"):t||e)}),i},function(e){return 500===lr.size&&lr.clear(),e})).cache;var lr,cr=z;function fr(e){if("string"==typeof e||Ti(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e){if(null!=e){try{return l.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function hr(e){if(e instanceof v)return e.clone();var t=new me(e.__wrapped__,e.__chain__);return t.__actions__=tn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}n=a(function(e,t){return fi(e)?Ue(e,He(t,1,fi,!0)):[]}),re=a(function(e,t){var n=mr(t);return fi(n)&&(n=zo),fi(e)?Ue(e,He(t,1,fi,!0),s(n,2)):[]}),e=a(function(e,t){var n=mr(t);return fi(n)&&(n=zo),fi(e)?Ue(e,He(t,1,fi,!0),zo,n):[]});function pr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;n=null==n?0:y(n);return n<0&&(n=X(r+n,0)),Is(e,s(t,3),n)}function gr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==zo&&(i=y(n),i=n<0?X(r+i,0):Q(i,r-1)),Is(e,s(t,3),i,!0)}function vr(e){return(null==e?0:e.length)?He(e,1):[]}function yr(e){return e&&e.length?e[0]:zo}u=a(function(e){var t=$o(e,Gt);return t.length&&t[0]===e[0]?rt(t):[]}),G=a(function(e){var t=mr(e),n=$o(e,Gt);return t===mr(n)?t=zo:n.pop(),n.length&&n[0]===e[0]?rt(n,s(t,2)):[]}),P=a(function(e){var t=mr(e),n=$o(e,Gt);return(t="function"==typeof t?t:zo)&&n.pop(),n.length&&n[0]===e[0]?rt(n,zo,t):[]});function mr(e){var t=null==e?0:e.length;return t?e[t-1]:zo}z=a(br);function br(e,t){return e&&e.length&&t&&t.length?wt(e,t):e}var wr=Rn(function(e,t){var n=null==e?0:e.length,r=Ie(e,t);return _t(e,$o(t,function(e){return Kn(e,n)?+e:e}).sort(Zt)),r});function _r(e){return null==e?e:te.call(e)}var Er=a(function(e){return Ft(He(e,1,fi,!0))}),Sr=a(function(e){var t=mr(e);return fi(t)&&(t=zo),Ft(He(e,1,fi,!0),s(t,2))}),kr=a(function(e){var t="function"==typeof(t=mr(e))?t:zo;return Ft(He(e,1,fi,!0),zo,t)});function Tr(t){if(!t||!t.length)return[];var n=0;return t=xs(t,function(e){return fi(e)&&(n=X(e.length,n),1)}),Vs(n,function(e){return $o(t,Us(e))})}function xr(e,t){if(!e||!e.length)return[];e=Tr(e);return null==t?e:$o(e,function(e){return Ko(t,zo,e)})}var Or=a(function(e,t){return fi(e)?Ue(e,t):[]}),Pr=a(function(e){return zt(xs(e,fi))}),Ar=a(function(e){var t=mr(e);return fi(t)&&(t=zo),zt(xs(e,fi),s(t,2))}),Cr=a(function(e){var t="function"==typeof(t=mr(e))?t:zo;return zt(xs(e,fi),zo,t)}),Rr=a(Tr);var Lr=a(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:zo)?(e.pop(),t):zo;return xr(e,t)});function Dr(e){e=p(e);return e.__chain__=!0,e}function Ir(e,t){return t(e)}var Mr=Rn(function(t){function e(e){return Ie(e,t)}var n=t.length,r=n?t[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof v&&Kn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Ir,args:[e],thisArg:zo}),new me(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(zo),e})):this.thru(e)});var Fr=rn(function(e,t,n){F.call(e,n)?++e[n]:De(e,n,1)});var jr=dn(pr),Nr=dn(gr);function Ur(e,t){return(j(e)?qo:Be)(e,s(t,3))}function Br(e,t){return(j(e)?ks:ze)(e,s(t,3))}var zr=rn(function(e,t,n){F.call(e,n)?e[n].push(t):De(e,n,[t])});var Vr=a(function(e,t,n){var r=-1,i="function"==typeof t,o=ci(e)?E(e.length):[];return Be(e,function(e){o[++r]=i?Ko(t,e,n):it(e,t,n)}),o}),Gr=rn(function(e,t,n){De(e,n,t)});function Wr(e,t){return(j(e)?$o:ht)(e,s(t,3))}var Hr=rn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Kr=a(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&qn(e,t[0],t[1])?t=[]:2<n&&qn(t[0],t[1],t[2])&&(t=[t[0]]),mt(e,He(t,1),[])}),qr=V||function(){return Ho.Date.now()};function $r(e,t,n){return t=n?zo:t,t=e&&null==t?e.length:t,xn(e,Zo,zo,zo,zo,zo,t)}function Yr(e,t){var n;if("function"!=typeof t)throw new b(Vo);return e=y(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=zo),n}}var Xr=a(function(e,t,n){var r,i=1;return n.length&&(r=eu(n,Fn(Xr)),i|=32),xn(e,i,t,n,r)}),Qr=a(function(e,t,n){var r,i=3;return n.length&&(r=eu(n,Fn(Qr)),i|=32),xn(t,i,e,n,r)});function Zr(f,n,e){var r,i,o,a,s,u,l=0,d=!1,c=!1,t=!0;if("function"!=typeof f)throw new b(Vo);function h(e){var t=r,n=i;return r=i=zo,l=e,a=f.apply(n,t)}function p(e){var t=e-u;return u===zo||n<=t||t<0||c&&o<=e-l}function g(){var e,t=qr();if(p(t))return v(t);s=ir(g,(e=n-((t=t)-u),c?Q(e,o-(t-l)):e))}function v(e){return s=zo,t&&r?h(e):(r=i=zo,a)}function y(){var e=qr(),t=p(e);if(r=arguments,i=this,u=e,t){if(s===zo)return l=e=u,s=ir(g,n),d?h(e):a;if(c)return $t(s),s=ir(g,n),h(u)}return s===zo&&(s=ir(g,n)),a}return n=Li(n)||0,yi(e)&&(d=!!e.leading,c="maxWait"in e,o=c?X(Li(e.maxWait)||0,n):o,t="trailing"in e?!!e.trailing:t),y.cancel=function(){s!==zo&&$t(s),l=0,r=u=i=s=zo},y.flush=function(){return s===zo?a:v(qr())},y}var V=a(function(e,t){return Ne(e,1,t)}),Jr=a(function(e,t,n){return Ne(e,Li(t)||0,n)});function ei(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new b(Vo);function o(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)}return o.cache=new(ei.Cache||_e),o}function ti(t){if("function"!=typeof t)throw new b(Vo);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ei.Cache=_e;var Kt=Kt(function(r,i){var o=(i=1==i.length&&j(i[0])?$o(i[0],Yo(s())):$o(He(i,1),Yo(s()))).length;return a(function(e){for(var t=-1,n=Q(e.length,o);++t<n;)e[t]=i[t].call(this,e[t]);return Ko(r,this,e)})}),ni=a(function(e,t){var n=eu(t,Fn(ni));return xn(e,32,zo,t,n)}),ri=a(function(e,t){var n=eu(t,Fn(ri));return xn(e,64,zo,t,n)}),ii=Rn(function(e,t){return xn(e,256,zo,zo,zo,t)});function oi(e,t){return e===t||e!=e&&t!=t}var ai=_n(et),si=_n(function(e,t){return t<=e}),ui=ot(function(){return arguments}())?ot:function(e){return mi(e)&&F.call(e,"callee")&&!L.call(e,"callee")},j=E.isArray,li=ys?Yo(ys):function(e){return mi(e)&&Je(e)==ba};function ci(e){return null!=e&&vi(e.length)&&!pi(e)}function fi(e){return mi(e)&&ci(e)}var di=r||Lo,r=ms?Yo(ms):function(e){return mi(e)&&Je(e)==aa};function hi(e){if(!mi(e))return!1;var t=Je(e);return t==sa||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!_i(e)}function pi(e){if(!yi(e))return!1;e=Je(e);return e==ua||e==la||"[object AsyncFunction]"==e||"[object Proxy]"==e}function gi(e){return"number"==typeof e&&e==y(e)}function vi(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Jo}function yi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function mi(e){return null!=e&&"object"==typeof e}var bi=bs?Yo(bs):function(e){return mi(e)&&Vn(e)==ca};function wi(e){return"number"==typeof e||mi(e)&&Je(e)==fa}function _i(e){if(!mi(e)||Je(e)!=da)return!1;e=C(e);if(null===e)return!0;e=F.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&l.call(e)==T}var Ei=ws?Yo(ws):function(e){return mi(e)&&Je(e)==pa};var Si=_s?Yo(_s):function(e){return mi(e)&&Vn(e)==ga};function ki(e){return"string"==typeof e||!j(e)&&mi(e)&&Je(e)==va}function Ti(e){return"symbol"==typeof e||mi(e)&&Je(e)==ya}var xi=Es?Yo(Es):function(e){return mi(e)&&vi(e.length)&&!!Go[Je(e)]};var Oi=_n(dt),Pi=_n(function(e,t){return e<=t});function Ai(e){if(!e)return[];if(ci(e))return(ki(e)?ru:tn)(e);if(M&&e[M]){for(var t,n=e[M](),r=[];!(t=n.next()).done;)r.push(t.value);return r}var i=Vn(e);return(i==ca?Zs:i==ga?tu:to)(e)}function Ci(e){return e?(e=Li(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function y(e){var e=Ci(e),t=e%1;return e==e?t?e-t:e:0}function Ri(e){return e?Me(y(e),0,ta):0}function Li(e){if("number"==typeof e)return e;if(Ti(e))return ea;if("string"!=typeof(e=yi(e)?yi(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=Gs(e);var t=ts.test(e);return t||rs.test(e)?gs(e.slice(2),t?2:8):es.test(e)?ea:+e}function Di(e){return nn(e,qi(e))}function f(e){return null==e?"":Mt(e)}var Ii=on(function(e,t){if(Qn(t)||ci(t))nn(t,Ki(t),e);else for(var n in t)F.call(t,n)&&Ae(e,n,t[n])}),Mi=on(function(e,t){nn(t,qi(t),e)}),Fi=on(function(e,t,n,r){nn(t,qi(t),e,r)}),ji=on(function(e,t,n,r){nn(t,Ki(t),e,r)}),Ni=Rn(Ie);var Ui=a(function(e,t){e=g(e);var n=-1,r=t.length,i=2<r?t[2]:zo;for(i&&qn(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=qi(o),s=-1,c=a.length;++s<c;){var u=a[s],l=e[u];(l===zo||oi(l,w[u])&&!F.call(e,u))&&(e[u]=o[u])}return e}),Bi=a(function(e){return e.push(zo,Pn),Ko(Yi,zo,e)});function zi(e,t,n){e=null==e?zo:Qe(e,t);return e===zo?n:e}function Vi(e,t){return null!=e&&Gn(e,t,nt)}var Gi=gn(function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?k.call(t):t]=n},vo(bo)),Wi=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=k.call(t)),F.call(e,t)?e[t].push(n):e[t]=[n]},s),Hi=a(it);function Ki(e){return(ci(e)?ke:ct)(e)}function qi(e){return ci(e)?ke(e,!0):ft(e)}var $i=on(function(e,t,n){vt(e,t,n)}),Yi=on(function(e,t,n,r){vt(e,t,n,r)}),Xi=Rn(function(t,e){var n={};if(null==t)return n;for(var r=!1,i=(e=$o(e,function(e){return e=Ht(e,t),r=r||1<e.length,e}),nn(t,Dn(t),n),r&&(n=Fe(n,7,An)),e.length);i--;)jt(n,e[i]);return n});var Qi=Rn(function(e,t){return null==e?{}:bt(n=e,t,function(e,t){return Vi(n,t)});var n});function Zi(e,n){if(null==e)return{};var t=$o(Dn(e),function(e){return[e]});return n=s(n),bt(e,t,function(e,t){return n(e,t[0])})}var Ji=Tn(Ki),eo=Tn(qi);function to(e){return null==e?[]:Ws(e,Ki(e))}var no=ln(function(e,t,n){return t=t.toLowerCase(),e+(n?ro(t):t)});function ro(e){return fo(f(e).toLowerCase())}function io(e){return(e=f(e))&&e.replace(os,$s).replace(ls,"")}var oo=ln(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ao=ln(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),so=un("toLowerCase");var uo=ln(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var lo=ln(function(e,t,n){return e+(n?" ":"")+fo(t)});var co=ln(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),fo=un("toUpperCase");function ho(e,t,n){return e=f(e),(t=n?zo:t)===zo?(n=e,fs.test(n)?e.match(cs)||[]:e.match(Ya)||[]):e.match(t)||[]}var po=a(function(e,t){try{return Ko(e,zo,t)}catch(e){return hi(e)?e:new d(e)}}),go=Rn(function(t,e){return qo(e,function(e){e=fr(e),De(t,e,Xr(t[e],t))}),t});function vo(e){return function(){return e}}var yo=hn(),mo=hn(!0);function bo(e){return e}function wo(e){return lt("function"==typeof e?e:Fe(e,1))}var _o=a(function(t,n){return function(e){return it(e,t,n)}}),Eo=a(function(t,n){return function(e){return it(t,e,n)}});function So(r,t,e){var n=Ki(t),i=Xe(t,n),o=(null!=e||yi(t)&&(i.length||!n.length)||(e=t,t=r,r=this,i=Xe(t,Ki(t))),!(yi(e)&&"chain"in e&&!e.chain)),a=pi(r);return qo(i,function(e){var n=t[e];r[e]=n,a&&(r.prototype[e]=function(){var e,t=this.__chain__;return o||t?(((e=r(this.__wrapped__)).__actions__=tn(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e):n.apply(r,As([this.value()],arguments))})}),r}function ko(){}var To=yn($o),xo=yn(Ts),Oo=yn(Ls);function Po(e){return $n(e)?Us(fr(e)):(t=e,function(e){return Qe(e,t)});var t}var Ao=wn(),Co=wn(!0);function Ro(){return[]}function Lo(){return!1}var Do=vn(function(e,t){return e+t},0),Io=Sn("ceil"),Mo=vn(function(e,t){return e/t},1),Fo=Sn("floor");var jo,No=vn(function(e,t){return e*t},1),Uo=Sn("round"),Bo=vn(function(e,t){return e-t},0);return p.after=function(e,t){if("function"!=typeof t)throw new b(Vo);return e=y(e),function(){if(--e<1)return t.apply(this,arguments)}},p.ary=$r,p.assign=Ii,p.assignIn=Mi,p.assignInWith=Fi,p.assignWith=ji,p.at=Ni,p.before=Yr,p.bind=Xr,p.bindAll=go,p.bindKey=Qr,p.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]},p.chain=Dr,p.chunk=function(e,t,n){t=(n?qn(e,t,n):t===zo)?1:X(y(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=E(W(r/t));i<r;)a[o++]=At(e,i,i+=t);return a},p.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},p.concat=function(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return As(j(n)?tn(n):[n],He(t,1))},p.cond=function(r){var i=null==r?0:r.length,t=s();return r=i?$o(r,function(e){if("function"!=typeof e[1])throw new b(Vo);return[t(e[0]),e[1]]}):[],a(function(e){for(var t=-1;++t<i;){var n=r[t];if(Ko(n[0],this,e))return Ko(n[1],this,e)}})},p.conforms=function(e){return t=Fe(e,1),n=Ki(t),function(e){return je(e,t,n)};var t,n},p.constant=vo,p.countBy=Fr,p.create=function(e,t){return e=ge(e),null==t?e:Le(e,t)},p.curry=function e(t,n,r){t=xn(t,8,zo,zo,zo,zo,zo,n=r?zo:n);return t.placeholder=e.placeholder,t},p.curryRight=function e(t,n,r){t=xn(t,16,zo,zo,zo,zo,zo,n=r?zo:n);return t.placeholder=e.placeholder,t},p.debounce=Zr,p.defaults=Ui,p.defaultsDeep=Bi,p.defer=V,p.delay=Jr,p.difference=n,p.differenceBy=re,p.differenceWith=e,p.drop=function(e,t,n){var r=null==e?0:e.length;return r?At(e,(t=n||t===zo?1:y(t))<0?0:t,r):[]},p.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?At(e,0,(t=r-(t=n||t===zo?1:y(t)))<0?0:t):[]},p.dropRightWhile=function(e,t){return e&&e.length?Ut(e,s(t,3),!0,!0):[]},p.dropWhile=function(e,t){return e&&e.length?Ut(e,s(t,3),!0):[]},p.fill=function(e,t,n,r){if(!(u=null==e?0:e.length))return[];n&&"number"!=typeof n&&qn(e,t,n)&&(n=0,r=u);var i=e,o=t,a=n,s=r,u=i.length;for((a=y(a))<0&&(a=u<-a?0:u+a),(s=s===zo||u<s?u:y(s))<0&&(s+=u),s=s<a?0:Ri(s);a<s;)i[a++]=o;return i},p.filter=function(e,t){return(j(e)?xs:We)(e,s(t,3))},p.flatMap=function(e,t){return He(Wr(e,t),1)},p.flatMapDeep=function(e,t){return He(Wr(e,t),1/0)},p.flatMapDepth=function(e,t,n){return n=n===zo?1:y(n),He(Wr(e,t),n)},p.flatten=vr,p.flattenDeep=function(e){return(null==e?0:e.length)?He(e,1/0):[]},p.flattenDepth=function(e,t){return(null==e?0:e.length)?He(e,t=t===zo?1:y(t)):[]},p.flip=function(e){return xn(e,512)},p.flow=yo,p.flowRight=mo,p.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},p.functions=function(e){return null==e?[]:Xe(e,Ki(e))},p.functionsIn=function(e){return null==e?[]:Xe(e,qi(e))},p.groupBy=zr,p.initial=function(e){return(null==e?0:e.length)?At(e,0,-1):[]},p.intersection=u,p.intersectionBy=G,p.intersectionWith=P,p.invert=Gi,p.invertBy=Wi,p.invokeMap=Vr,p.iteratee=wo,p.keyBy=Gr,p.keys=Ki,p.keysIn=qi,p.map=Wr,p.mapKeys=function(e,r){var i={};return r=s(r,3),$e(e,function(e,t,n){De(i,r(e,t,n),e)}),i},p.mapValues=function(e,r){var i={};return r=s(r,3),$e(e,function(e,t,n){De(i,t,r(e,t,n))}),i},p.matches=function(e){return pt(Fe(e,1))},p.matchesProperty=function(e,t){return gt(e,Fe(t,1))},p.memoize=ei,p.merge=$i,p.mergeWith=Yi,p.method=_o,p.methodOf=Eo,p.mixin=So,p.negate=ti,p.nthArg=function(t){return t=y(t),a(function(e){return yt(e,t)})},p.omit=Xi,p.omitBy=function(e,t){return Zi(e,ti(s(t)))},p.once=function(e){return Yr(2,e)},p.orderBy=function(e,t,n,r){return null==e?[]:mt(e,t=!j(t)?null==t?[]:[t]:t,n=!j(n=r?zo:n)?null==n?[]:[n]:n)},p.over=To,p.overArgs=Kt,p.overEvery=xo,p.overSome=Oo,p.partial=ni,p.partialRight=ri,p.partition=Hr,p.pick=Qi,p.pickBy=Zi,p.property=Po,p.propertyOf=function(t){return function(e){return null==t?zo:Qe(t,e)}},p.pull=z,p.pullAll=br,p.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wt(e,t,s(n,2)):e},p.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wt(e,t,zo,n):e},p.pullAt=wr,p.range=Ao,p.rangeRight=Co,p.rearg=ii,p.reject=function(e,t){return(j(e)?xs:We)(e,ti(s(t,3)))},p.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=s(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return _t(e,i),n},p.rest=function(e,t){if("function"!=typeof e)throw new b(Vo);return a(e,t=t===zo?t:y(t))},p.reverse=_r,p.sampleSize=function(e,t,n){return t=(n?qn(e,t,n):t===zo)?1:y(t),(j(e)?xe:Tt)(e,t)},p.set=function(e,t,n){return null==e?e:xt(e,t,n)},p.setWith=function(e,t,n,r){return r="function"==typeof r?r:zo,null==e?e:xt(e,t,n,r)},p.shuffle=function(e){return(j(e)?Oe:Pt)(e)},p.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&qn(e,t,n)?(t=0,r):(t=null==t?0:y(t),n===zo?r:y(n)),At(e,t,n)):[]},p.sortBy=Kr,p.sortedUniq=function(e){return e&&e.length?Dt(e):[]},p.sortedUniqBy=function(e,t){return e&&e.length?Dt(e,s(t,2)):[]},p.split=function(e,t,n){return n&&"number"!=typeof n&&qn(e,t,n)&&(t=n=zo),(n=n===zo?ta:n>>>0)?(e=f(e))&&("string"==typeof t||null!=t&&!Ei(t))&&!(t=Mt(t))&&Qs(e)?qt(ru(e),0,n):e.split(t,n):[]},p.spread=function(n,r){if("function"!=typeof n)throw new b(Vo);return r=null==r?0:X(y(r),0),a(function(e){var t=e[r],e=qt(e,0,r);return t&&As(e,t),Ko(n,this,e)})},p.tail=function(e){var t=null==e?0:e.length;return t?At(e,1,t):[]},p.take=function(e,t,n){return e&&e.length?At(e,0,(t=n||t===zo?1:y(t))<0?0:t):[]},p.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?At(e,(t=r-(t=n||t===zo?1:y(t)))<0?0:t,r):[]},p.takeRightWhile=function(e,t){return e&&e.length?Ut(e,s(t,3),!1,!0):[]},p.takeWhile=function(e,t){return e&&e.length?Ut(e,s(t,3)):[]},p.tap=function(e,t){return t(e),e},p.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new b(Vo);return yi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zr(e,t,{leading:r,maxWait:t,trailing:i})},p.thru=Ir,p.toArray=Ai,p.toPairs=Ji,p.toPairsIn=eo,p.toPath=function(e){return j(e)?$o(e,fr):Ti(e)?[e]:tn(cr(f(e)))},p.toPlainObject=Di,p.transform=function(e,r,i){var t,n=j(e),o=n||di(e)||xi(e);return r=s(r,4),null==i&&(t=e&&e.constructor,i=o?n?new t:[]:yi(e)&&pi(t)?ge(C(e)):{}),(o?qo:$e)(e,function(e,t,n){return r(i,e,t,n)}),i},p.unary=function(e){return $r(e,1)},p.union=Er,p.unionBy=Sr,p.unionWith=kr,p.uniq=function(e){return e&&e.length?Ft(e):[]},p.uniqBy=function(e,t){return e&&e.length?Ft(e,s(t,2)):[]},p.uniqWith=function(e,t){return t="function"==typeof t?t:zo,e&&e.length?Ft(e,zo,t):[]},p.unset=function(e,t){return null==e||jt(e,t)},p.unzip=Tr,p.unzipWith=xr,p.update=function(e,t,n){return null==e?e:Nt(e,t,Wt(n))},p.updateWith=function(e,t,n,r){return r="function"==typeof r?r:zo,null==e?e:Nt(e,t,Wt(n),r)},p.values=to,p.valuesIn=function(e){return null==e?[]:Ws(e,qi(e))},p.without=Or,p.words=ho,p.wrap=function(e,t){return ni(Wt(t),e)},p.xor=Pr,p.xorBy=Ar,p.xorWith=Cr,p.zip=Rr,p.zipObject=function(e,t){return Vt(e||[],t||[],Ae)},p.zipObjectDeep=function(e,t){return Vt(e||[],t||[],xt)},p.zipWith=Lr,p.entries=Ji,p.entriesIn=eo,p.extend=Mi,p.extendWith=Fi,So(p,p),p.add=Do,p.attempt=po,p.camelCase=no,p.capitalize=ro,p.ceil=Io,p.clamp=function(e,t,n){return n===zo&&(n=t,t=zo),n!==zo&&(n=(n=Li(n))==n?n:0),t!==zo&&(t=(t=Li(t))==t?t:0),Me(Li(e),t,n)},p.clone=function(e){return Fe(e,4)},p.cloneDeep=function(e){return Fe(e,5)},p.cloneDeepWith=function(e,t){return Fe(e,5,t="function"==typeof t?t:zo)},p.cloneWith=function(e,t){return Fe(e,4,t="function"==typeof t?t:zo)},p.conformsTo=function(e,t){return null==t||je(e,t,Ki(t))},p.deburr=io,p.defaultTo=function(e,t){return null==e||e!=e?t:e},p.divide=Mo,p.endsWith=function(e,t,n){e=f(e),t=Mt(t);var r=e.length,r=n=n===zo?r:Me(y(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},p.eq=oi,p.escape=function(e){return(e=f(e))&&Fa.test(e)?e.replace(Ia,Ys):e},p.escapeRegExp=function(e){return(e=f(e))&&Wa.test(e)?e.replace(Ga,"\\$&"):e},p.every=function(e,t,n){return(j(e)?Ts:Ve)(e,s(t=n&&qn(e,t,n)?zo:t,3))},p.find=jr,p.findIndex=pr,p.findKey=function(e,t){return Ds(e,s(t,3),$e)},p.findLast=Nr,p.findLastIndex=gr,p.findLastKey=function(e,t){return Ds(e,s(t,3),Ye)},p.floor=Fo,p.forEach=Ur,p.forEachRight=Br,p.forIn=function(e,t){return null==e?e:Ke(e,s(t,3),qi)},p.forInRight=function(e,t){return null==e?e:qe(e,s(t,3),qi)},p.forOwn=function(e,t){return e&&$e(e,s(t,3))},p.forOwnRight=function(e,t){return e&&Ye(e,s(t,3))},p.get=zi,p.gt=ai,p.gte=si,p.has=function(e,t){return null!=e&&Gn(e,t,tt)},p.hasIn=Vi,p.head=yr,p.identity=bo,p.includes=function(e,t,n,r){return e=ci(e)?e:to(e),n=n&&!r?y(n):0,r=e.length,n<0&&(n=X(r+n,0)),ki(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<Ms(e,t,n)},p.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?(n=null==n?0:y(n),Ms(e,t,n=n<0?X(r+n,0):n)):-1},p.inRange=function(e,t,n){return t=Ci(t),n===zo?(n=t,t=0):n=Ci(n),(e=e=Li(e))>=Q(t=t,n=n)&&e<X(t,n)},p.invoke=Hi,p.isArguments=ui,p.isArray=j,p.isArrayBuffer=li,p.isArrayLike=ci,p.isArrayLikeObject=fi,p.isBoolean=function(e){return!0===e||!1===e||mi(e)&&Je(e)==oa},p.isBuffer=di,p.isDate=r,p.isElement=function(e){return mi(e)&&1===e.nodeType&&!_i(e)},p.isEmpty=function(e){if(null==e)return!0;if(ci(e)&&(j(e)||"string"==typeof e||"function"==typeof e.splice||di(e)||xi(e)||ui(e)))return!e.length;var t,n=Vn(e);if(n==ca||n==ga)return!e.size;if(Qn(e))return!ct(e).length;for(t in e)if(F.call(e,t))return!1;return!0},p.isEqual=function(e,t){return at(e,t)},p.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:zo)?n(e,t):zo;return r===zo?at(e,t,zo,n):!!r},p.isError=hi,p.isFinite=function(e){return"number"==typeof e&&q(e)},p.isFunction=pi,p.isInteger=gi,p.isLength=vi,p.isMap=bi,p.isMatch=function(e,t){return e===t||st(e,t,Nn(t))},p.isMatchWith=function(e,t,n){return n="function"==typeof n?n:zo,st(e,t,Nn(t),n)},p.isNaN=function(e){return wi(e)&&e!=+e},p.isNative=function(e){if(Xn(e))throw new d("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ut(e)},p.isNil=function(e){return null==e},p.isNull=function(e){return null===e},p.isNumber=wi,p.isObject=yi,p.isObjectLike=mi,p.isPlainObject=_i,p.isRegExp=Ei,p.isSafeInteger=function(e){return gi(e)&&-Jo<=e&&e<=Jo},p.isSet=Si,p.isString=ki,p.isSymbol=Ti,p.isTypedArray=xi,p.isUndefined=function(e){return e===zo},p.isWeakMap=function(e){return mi(e)&&Vn(e)==ma},p.isWeakSet=function(e){return mi(e)&&"[object WeakSet]"==Je(e)},p.join=function(e,t){return null==e?"":$.call(e,t)},p.kebabCase=oo,p.last=mr,p.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;if(n!==zo&&(i=(i=y(n))<0?X(r+i,0):Q(i,r-1)),t!=t)return Is(e,js,i,!0);for(var o=e,a=t,s=i+1;s--;)if(o[s]===a)return s;return s},p.lowerCase=ao,p.lowerFirst=so,p.lt=Oi,p.lte=Pi,p.max=function(e){return e&&e.length?Ge(e,bo,et):zo},p.maxBy=function(e,t){return e&&e.length?Ge(e,s(t,2),et):zo},p.mean=function(e){return Ns(e,bo)},p.meanBy=function(e,t){return Ns(e,s(t,2))},p.min=function(e){return e&&e.length?Ge(e,bo,dt):zo},p.minBy=function(e,t){return e&&e.length?Ge(e,s(t,2),dt):zo},p.stubArray=Ro,p.stubFalse=Lo,p.stubObject=function(){return{}},p.stubString=function(){return""},p.stubTrue=function(){return!0},p.multiply=No,p.nth=function(e,t){return e&&e.length?yt(e,y(t)):zo},p.noConflict=function(){return Ho._===this&&(Ho._=x),this},p.noop=ko,p.now=qr,p.pad=function(e,t,n){e=f(e);var r=(t=y(t))?nu(e):0;return!t||t<=r?e:mn(H(t=(t-r)/2),n)+e+mn(W(t),n)},p.padEnd=function(e,t,n){e=f(e);var r=(t=y(t))?nu(e):0;return t&&r<t?e+mn(t-r,n):e},p.padStart=function(e,t,n){e=f(e);var r=(t=y(t))?nu(e):0;return t&&r<t?mn(t-r,n)+e:e},p.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,J(f(e).replace(Ha,""),t||0)},p.random=function(e,t,n){var r;return n&&"boolean"!=typeof n&&qn(e,t,n)&&(t=n=zo),n===zo&&("boolean"==typeof t?(n=t,t=zo):"boolean"==typeof e&&(n=e,e=zo)),e===zo&&t===zo?(e=0,t=1):(e=Ci(e),t===zo?(t=e,e=0):t=Ci(t)),t<e&&(r=e,e=t,t=r),n||e%1||t%1?(r=ee(),Q(e+r*(t-e+ps("1e-"+((r+"").length-1))),t)):Et(e,t)},p.reduce=function(e,t,n){var r=j(e)?Cs:Bs,i=arguments.length<3;return r(e,s(t,4),n,i,Be)},p.reduceRight=function(e,t,n){var r=j(e)?Rs:Bs,i=arguments.length<3;return r(e,s(t,4),n,i,ze)},p.repeat=function(e,t,n){return t=(n?qn(e,t,n):t===zo)?1:y(t),St(f(e),t)},p.replace=function(){var e=arguments,t=f(e[0]);return e.length<3?t:t.replace(e[1],e[2])},p.result=function(e,t,n){var r=-1,i=(t=Ht(t,e)).length;for(i||(i=1,e=zo);++r<i;){var o=null==e?zo:e[fr(t[r])];o===zo&&(r=i,o=n),e=pi(o)?o.call(e):o}return e},p.round=Uo,p.runInContext=t,p.sample=function(e){return(j(e)?Te:kt)(e)},p.size=function(e){if(null==e)return 0;if(ci(e))return ki(e)?nu(e):e.length;var t=Vn(e);return t==ca||t==ga?e.size:ct(e).length},p.snakeCase=uo,p.some=function(e,t,n){return(j(e)?Ls:Ct)(e,s(t=n&&qn(e,t,n)?zo:t,3))},p.sortedIndex=function(e,t){return Rt(e,t)},p.sortedIndexBy=function(e,t,n){return Lt(e,t,s(n,2))},p.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Rt(e,t);if(r<n&&oi(e[r],t))return r}return-1},p.sortedLastIndex=function(e,t){return Rt(e,t,!0)},p.sortedLastIndexBy=function(e,t,n){return Lt(e,t,s(n,2),!0)},p.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Rt(e,t,!0)-1;if(oi(e[n],t))return n}return-1},p.startCase=lo,p.startsWith=function(e,t,n){return e=f(e),n=null==n?0:Me(y(n),0,e.length),t=Mt(t),e.slice(n,n+t.length)==t},p.subtract=Bo,p.sum=function(e){return e&&e.length?zs(e,bo):0},p.sumBy=function(e,t){return e&&e.length?zs(e,s(t,2)):0},p.template=function(a,e,t){var s,u,n=p.templateSettings;t&&qn(a,e,t)&&(e=zo),a=f(a),e=Fi({},e,n,On);var r=Ki(t=Fi({},e.imports,n.imports,On)),i=Ws(t,r),l=0,n=e.interpolate||as,c="__p += '",t=m((e.escape||as).source+"|"+n.source+"|"+(n===Ua?Za:as).source+"|"+(e.evaluate||as).source+"|$","g"),o="//# sourceURL="+(F.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hs+"]")+"\n";if(a.replace(t,function(e,t,n,r,i,o){return n=n||r,c+=a.slice(l,o).replace(ss,Xs),t&&(s=!0,c+="' +\n__e("+t+") +\n'"),i&&(u=!0,c+="';\n"+i+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=o+e.length,e}),c+="';\n",n=F.call(e,"variable")&&e.variable){if(Xa.test(n))throw new d("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";if(c=(u?c.replace(Ca,""):c).replace(Ra,"$1").replace(La,"$1;"),c="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}",(t=po(function(){return h(r,o+"return "+c).apply(zo,i)})).source=c,hi(t))throw t;return t},p.times=function(e,t){if((e=y(e))<1||Jo<e)return[];for(var n=ta,r=Q(e,ta),r=(t=s(t),e-=ta,Vs(r,t));++n<e;)t(n);return r},p.toFinite=Ci,p.toInteger=y,p.toLength=Ri,p.toLower=function(e){return f(e).toLowerCase()},p.toNumber=Li,p.toSafeInteger=function(e){return e?Me(y(e),-Jo,Jo):0===e?e:0},p.toString=f,p.toUpper=function(e){return f(e).toUpperCase()},p.trim=function(e,t,n){return(e=f(e))&&(n||t===zo)?Gs(e):e&&(t=Mt(t))?(n=ru(e),e=ru(t),qt(n,Ks(n,e),qs(n,e)+1).join("")):e},p.trimEnd=function(e,t,n){return(e=f(e))&&(n||t===zo)?e.slice(0,iu(e)+1):e&&(t=Mt(t))?qt(n=ru(e),0,qs(n,ru(t))+1).join(""):e},p.trimStart=function(e,t,n){return(e=f(e))&&(n||t===zo)?e.replace(Ha,""):e&&(t=Mt(t))?qt(n=ru(e),Ks(n,ru(t))).join(""):e},p.truncate=function(e,t){var n,r=30,i="...",t=(yi(t)&&(n="separator"in t?t.separator:n,r="length"in t?y(t.length):r,i="omission"in t?Mt(t.omission):i),(e=f(e)).length);if((t=Qs(e)?(o=ru(e)).length:t)<=r)return e;if((t=r-nu(i))<1)return i;var o,r=o?qt(o,0,t).join(""):e.slice(0,t);if(n===zo)return r+i;if(o&&(t+=r.length-t),Ei(n)){if(e.slice(t).search(n)){var a,s=r;for((n=!n.global?m(n.source,f(Ja.exec(n))+"g"):n).lastIndex=0;a=n.exec(s);)var u=a.index;r=r.slice(0,u===zo?t:u)}}else e.indexOf(Mt(n),t)==t||-1<(o=r.lastIndexOf(n))&&(r=r.slice(0,o));return r+i},p.unescape=function(e){return(e=f(e))&&Ma.test(e)?e.replace(Da,ou):e},p.uniqueId=function(e){var t=++_;return f(e)+t},p.upperCase=co,p.upperFirst=fo,p.each=Ur,p.eachRight=Br,p.first=yr,So(p,(jo={},$e(p,function(e,t){F.call(p.prototype,t)||(jo[t]=e)}),jo),{chain:!1}),p.VERSION="4.17.21",qo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),qo(["drop","take"],function(n,r){v.prototype[n]=function(e){e=e===zo?1:X(y(e),0);var t=this.__filtered__&&!r?new v(this):this.clone();return t.__filtered__?t.__takeCount__=Q(e,t.__takeCount__):t.__views__.push({size:Q(e,ta),type:n+(t.__dir__<0?"Right":"")}),t},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),qo(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;v.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:s(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),qo(["head","last"],function(e,t){var n="take"+(t?"Right":"");v.prototype[e]=function(){return this[n](1).value()[0]}}),qo(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(bo)},v.prototype.find=function(e){return this.filter(e).head()},v.prototype.findLast=function(e){return this.reverse().find(e)},v.prototype.invokeMap=a(function(t,n){return"function"==typeof t?new v(this):this.map(function(e){return it(e,t,n)})}),v.prototype.reject=function(e){return this.filter(ti(s(e)))},v.prototype.slice=function(e,t){e=y(e);var n=this;return n.__filtered__&&(0<e||t<0)?new v(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==zo?(t=y(t))<0?n.dropRight(-t):n.take(t-e):n)},v.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},v.prototype.toArray=function(){return this.take(ta)},$e(v.prototype,function(l,e){var c=/^(?:filter|find|map|reject)|While$/.test(e),f=/^(?:head|last)$/.test(e),d=p[f?"take"+("last"==e?"Right":""):e],h=f||/^find/.test(e);d&&(p.prototype[e]=function(){function e(e){return e=d.apply(p,As([e],r)),f&&s?e[0]:e}var t,n=this.__wrapped__,r=f?[1]:arguments,i=n instanceof v,o=r[0],a=i||j(n),s=(a&&c&&"function"==typeof o&&1!=o.length&&(i=a=!1),this.__chain__),o=!!this.__actions__.length,u=h&&!s,i=i&&!o;return!h&&a?(n=i?n:new v(this),(t=l.apply(n,r)).__actions__.push({func:Ir,args:[e],thisArg:zo}),new me(t,s)):u&&i?l.apply(this,r):(t=this.thru(e),u?f?t.value()[0]:t.value():t)})}),qo(["pop","push","shift","sort","splice","unshift"],function(e){var n=o[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var e,t=arguments;return i&&!this.__chain__?(e=this.value(),n.apply(j(e)?e:[],t)):this[r](function(e){return n.apply(j(e)?e:[],t)})}}),$e(v.prototype,function(e,t){var n,r=p[t];r&&(n=r.name+"",F.call(se,n)||(se[n]=[]),se[n].push({name:t,func:r}))}),se[pn(zo,2).name]=[{name:"wrapper",func:zo}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=tn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=tn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=tn(this.__views__),e},v.prototype.reverse=function(){var e;return this.__filtered__?((e=new v(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=j(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Q(t,e+a);break;case"takeRight":e=X(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),c=o.start,a=(o=o.end)-c,f=r?o:c-1,d=this.__iteratees__,h=d.length,p=0,g=Q(a,this.__takeCount__);if(!n||!r&&i==a&&g==a)return Bt(e,this.__actions__);var v=[];e:for(;a--&&p<g;){for(var y=-1,s=e[f+=t];++y<h;){var u=d[y],l=u.iteratee,u=u.type,l=l(s);if(2==u)s=l;else if(!l){if(1==u)continue e;break e}}v[p++]=s}return v},p.prototype.at=Mr,p.prototype.chain=function(){return Dr(this)},p.prototype.commit=function(){return new me(this.value(),this.__chain__)},p.prototype.next=function(){this.__values__===zo&&(this.__values__=Ai(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?zo:this.__values__[this.__index__++]}},p.prototype.plant=function(e){for(var t,n=this;n instanceof ye;)var r=hr(n),i=(r.__index__=0,r.__values__=zo,t?i.__wrapped__=r:t=r,r),n=n.__wrapped__;return i.__wrapped__=e,t},p.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof v?(e=e,(e=(e=this.__actions__.length?new v(this):e).reverse()).__actions__.push({func:Ir,args:[_r],thisArg:zo}),new me(e,this.__chain__)):this.thru(_r)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function(){return Bt(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,M&&(p.prototype[M]=function(){return this}),p}();Ho._=au,(R=function(){return au}.call(L,D,L,C))===zo||(C.exports=R)}.call(this)}.call(this,D(19),D(204)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizeContext=void 0;n=n(0);t.sizeContext=n.createContext({height:0,width:0})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(110)));t.default=r.default},function(a,u,e){"use strict";var t=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=(Object.defineProperty(u,"__esModule",{value:!0}),u.PlayerWrapper=void 0,n(e(0))),c=o(e(205)),n=o(e(3)),d=e(7),f=e(30),h=e(114),p=o(e(230)),g=o(e(233)),v=o(e(245)),y=o(e(118)),o=o(e(258));u.PlayerWrapper=n.default.div(t(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  background: #000;\n  -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n  button:focus-visible {\n    outline: auto;\n  }\n\n  & :global(.IIV)::-webkit-media-controls-play-button,\n  & :global(.IIV)::-webkit-media-controls-start-playback-button {\n    opacity: 0;\n    pointer-events: none;\n    width: 5px;\n  }\n\n  ","\n\n  ","\n"],["\n  position: relative;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  background: #000;\n  -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n  button:focus-visible {\n    outline: auto;\n  }\n\n  & :global(.IIV)::-webkit-media-controls-play-button,\n  & :global(.IIV)::-webkit-media-controls-start-playback-button {\n    opacity: 0;\n    pointer-events: none;\n    width: 5px;\n  }\n\n  ","\n\n  ","\n"]),function(e){return e.shadow&&"\n    -webkit-box-shadow: 0 30px 30px 0 rgba(0, 0, 0, 0.2);\n    box-shadow: 0 30px 30px 0 rgba(0, 0, 0, 0.2);  \n  "},function(e){return e.roundedCorners&&"\n      border-radius: 10px;\n\n  "}),c.default.addCustomPlayer(o.default);u.default=function(e){var t=e.story,n=e.tabbable,n=void 0!==n&&n,e=e.index,r=l.useContext(d.optionsContext).playerOptions,i=t.viewKey,o=l.useRef(null),a=f.useVideo(o,t),s=l.useRef(null);return l.useEffect(function(){var e=s.current;if(!e)return function(){};function t(){return a.setFocused(!0)}function n(){return a.setFocused(!1)}return e.addEventListener("focusin",t),e.addEventListener("focusout",n),function(){e.removeEventListener("focusin",t),e.removeEventListener("focusout",n)}},[s.current]),l.useLayoutEffect(function(){var e;null!==(e=s.current)&&void 0!==e&&e.focus()},[]),l.default.createElement(f.videoContext.Provider,{key:i+"-"+e,value:a},l.default.createElement(u.PlayerWrapper,{ref:s,key:i+"-"+e,tabIndex:n?0:-1,shadow:r.shadow,roundedCorners:r.roundedCorners},l.default.createElement(y.default,{linkClicked:a.handleLinkClicked}),l.default.createElement(p.default,null),l.default.createElement(g.default,null),!t.whiteLabel&&l.default.createElement(h.Logo,null),l.default.createElement(v.default,null),l.default.createElement(c.default,{ref:o,playing:a.play,progressInterval:1,onError:a.handleError,onStart:a.handleStart,onEnded:a.handleEnded,onPlay:a.handlePlay,onPause:a.handlePause,onReady:a.handleReady,onProgress:a.handleProgress,volume:1,playsinline:!0,play:a.play.toString(),width:"100%",height:"100%",url:t.streamingUrl,onBuffer:a.handleBuffer,onBufferEnd:a.handleBufferEnd,muted:a.muted,config:{forceVideo:!0,tracks:[],file:{hlsOptions:{maxBufferLength:15,maxMaxBufferLength:25,startLevel:2}}}})))}},function(n,e,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(t(0)),u=t(22),r=t(47);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=i(n);return e=r?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?f(t):e}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t="undefined"!=typeof navigator,g=t&&"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,v=t&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,y=/www\.dropbox\.com\/.+/,m=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,t=function(e){var t=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e);var n,a=p(s);function s(){var r,e=this,t=s;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return d(f(r=a.call.apply(a,[this].concat(i))),"onReady",function(){var e;return(e=r.props).onReady.apply(e,arguments)}),d(f(r),"onPlay",function(){var e;return(e=r.props).onPlay.apply(e,arguments)}),d(f(r),"onBuffer",function(){var e;return(e=r.props).onBuffer.apply(e,arguments)}),d(f(r),"onBufferEnd",function(){var e;return(e=r.props).onBufferEnd.apply(e,arguments)}),d(f(r),"onPause",function(){var e;return(e=r.props).onPause.apply(e,arguments)}),d(f(r),"onEnded",function(){var e;return(e=r.props).onEnded.apply(e,arguments)}),d(f(r),"onError",function(){var e;return(e=r.props).onError.apply(e,arguments)}),d(f(r),"onEnablePIP",function(){var e;return(e=r.props).onEnablePIP.apply(e,arguments)}),d(f(r),"onDisablePIP",function(e){var t=r.props,n=t.onDisablePIP,t=t.playing;n(e),t&&r.play()}),d(f(r),"onPresentationModeChange",function(e){var t;r.player&&(0,u.supportsWebKitPresentationMode)(r.player)&&("picture-in-picture"===(t=r.player.webkitPresentationMode)?r.onEnablePIP(e):"inline"===t&&r.onDisablePIP(e))}),d(f(r),"onSeek",function(e){r.props.onSeek(e.target.currentTime)}),d(f(r),"mute",function(){r.player.muted=!0}),d(f(r),"unmute",function(){r.player.muted=!1}),d(f(r),"renderSourceElement",function(e,t){return"string"==typeof e?l.default.createElement("source",{key:t,src:e}):l.default.createElement("source",c({key:t},e))}),d(f(r),"renderTrack",function(e,t){return l.default.createElement("track",c({key:t},e))}),d(f(r),"ref",function(e){r.player&&(r.prevPlayer=r.player),r.player=e}),r}return t=s,(e=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),v&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,u.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,t=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),t&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&(!e.config.attributes.poster&&(r.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio))}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!v&&(r.HLS_EXTENSIONS.test(e)||m.test(e))}},{key:"shouldUseDASH",value:function(e){return r.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return r.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(t){var r=this,e=this.props.config,n=e.hlsVersion,i=e.hlsOptions,o=e.dashVersion,e=e.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,u.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",n),"Hls").then(function(n){var e;r.hls=new n(i),r.hls.on(n.Events.MANIFEST_PARSED,function(){r.props.onReady()}),r.hls.on(n.Events.ERROR,function(e,t){r.props.onError(e,t,r.hls,n)}),m.test(t)?(e=t.match(m)[1],r.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",e))):r.hls.loadSource(t),r.hls.attachMedia(r.player),r.props.onLoaded()}),this.shouldUseDASH(t)&&(0,u.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then(function(e){r.dash=e.MediaPlayer().create(),r.dash.initialize(r.player,t,r.props.playing),r.dash.on("error",r.props.onError),parseInt(o)<3?r.dash.getDebug().setLogToBrowserConsole(!1):r.dash.updateSettings({debug:{logLevel:e.Debug.LOG_LEVEL_NONE}}),r.props.onLoaded()}),this.shouldUseFLV(t)&&(0,u.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",e),"flvjs").then(function(e){r.flv=e.createPlayer({type:"flv",url:t}),r.flv.attachMediaElement(r.player),r.flv.load(),r.props.onLoaded()}),t instanceof Array)this.player.load();else if((0,u.isMediaStream)(t))try{this.player.srcObject=t}catch(e){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,u.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,u.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){this.player.playbackRate=e}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,e=e.seekable;return t===1/0&&0<e.length?e.end(e.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var e=e.end(e.length-1),t=this.getDuration();return t<e?t:e}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,u.isMediaStream)(e)||t||n||r))return y.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,i=e.controls,o=e.muted,a=e.config,s=e.width,e=e.height,u=this.shouldUseAudio(this.props),s={width:"auto"===s?s:"100%",height:"auto"===e?e:"100%"};return l.default.createElement(u?"audio":"video",c({ref:this.ref,src:this.getSource(t),style:s,preload:"auto",autoPlay:n||void 0,controls:i,muted:o,loop:r},a.attributes),t instanceof Array&&t.map(this.renderSourceElement),a.tracks.map(this.renderTrack))}}])&&o(t.prototype,e),n&&o(t,n),s}(l.Component);d(e.default=t,"displayName","FilePlayer"),d(t,"canPlay",r.canPlay.file)},function(e,t){var s="undefined"!=typeof Element,u="function"==typeof Map,l="function"==typeof Set,c="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(u&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a=t.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;for(a=t.entries();!(i=a.next()).done;)if(!e(i.value[1],n.get(i.value[0])))return!1;return!0}if(l&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a=t.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;return!0}if(c&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;if(s&&t instanceof Element)return!1;for(i=r;0!=i--;)if(("_owner"!==o[i]&&"__v"!==o[i]&&"__o"!==o[i]||!t.$$typeof)&&!e(t[o[i]],n[o[i]]))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},function(c,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=e.propTypes=void 0;t=(t=t(69))&&t.__esModule?t:{default:t};function n(){}var r=t.default.string,i=t.default.bool,o=t.default.number,f=t.default.array,a=t.default.oneOfType,s=t.default.shape,u=t.default.object,l=t.default.func,t=t.default.node,o={url:a([r,f,u]),playing:i,loop:i,controls:i,volume:o,muted:i,playbackRate:o,width:a([r,o]),height:a([r,o]),style:u,progressInterval:o,playsinline:i,pip:i,stopOnUnmount:i,light:a([i,r]),playIcon:t,previewTabIndex:o,fallback:t,wrapper:a([r,l,s({render:l.isRequired})]),config:s({soundcloud:s({options:u}),youtube:s({playerVars:u,embedOptions:u,onUnstarted:l}),facebook:s({appId:r,version:r,playerId:r,attributes:u}),dailymotion:s({params:u}),vimeo:s({playerOptions:u}),file:s({attributes:u,tracks:f,forceVideo:i,forceAudio:i,forceHLS:i,forceDASH:i,forceFLV:i,hlsOptions:u,hlsVersion:r,dashVersion:r,flvVersion:r}),wistia:s({options:u,playerId:r,customControls:f}),mixcloud:s({options:u}),twitch:s({options:u,playerId:r}),vidyard:s({options:u})}),onReady:l,onStart:l,onPlay:l,onPause:l,onBuffer:l,onBufferEnd:l,onEnded:l,onError:l,onDuration:l,onSeek:l,onProgress:l,onClickPreview:l,onEnablePIP:l,onDisablePIP:l};e.propTypes=o;e.defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:n},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:n,onStart:n,onPlay:n,onPause:n,onBuffer:n,onBufferEnd:n,onEnded:n,onError:n,onDuration:n,onSeek:n,onProgress:n,onClickPreview:n,onEnablePIP:n,onDisablePIP:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(228);Object.defineProperty(t,"Logo",{enumerable:!0,get:function(){return r.default}})},function(e,t,n){var r,i,o;r=this,i=-1,o={onVisible:function(n){var e=o.isSupported();if(!e||!o.hidden())return n(),e;var r=o.change(function(e,t){o.hidden()||(o.unbind(r),n())});return r},change:function(e){if(!o.isSupported())return!1;var t=i+=1;return o._callbacks[t]=e,o._listen(),t},unbind:function(e){delete o._callbacks[e]},afterPrerendering:function(n){var e=o.isSupported();if(!e||"prerender"!=o.state())return n(),e;var r=o.change(function(e,t){"prerender"!=t&&(o.unbind(r),n())});return r},hidden:function(){return!(!o._doc.hidden&&!o._doc.webkitHidden)},state:function(){return o._doc.visibilityState||o._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==o._doc.hidden||void 0!==o._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(e){var t,n=o.state();for(t in o._callbacks)o._callbacks[t].call(o._doc,e,n)},_listen:function(){var e,t;o._init||(e="visibilitychange",o._doc.webkitVisibilityState&&(e="webkit"+e),t=function(){o._change.apply(o,arguments)},o._doc.addEventListener?o._doc.addEventListener(e,t):o._doc.attachEvent(e,t),o._init=!0)}},e.exports?e.exports=o:r.Visibility=o},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 234.7 74.8"},e),r=r||o.createElement("path",{opacity:.8,d:"M226.7 74.8H7c-3.9 0-7-3.1-7-7V8c0-4.4 3.6-8 8-8h218.7c4.4 0 8 3.6 8 8v58.8c0 4.4-3.6 8-8 8z"}),i=i||o.createElement("text",{textAnchor:"middle",transform:"translate(116.796 46.644)",fill:"#FFF",fontWeight:600,fontFamily:"sans-serif",fontSize:27},"Tap to play"))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.TapMessage=t.VideoPoster=t.Poster=t.Spinner=t.LoaderWrapper=void 0,i(n(3)));t.LoaderWrapper=i.default.div(r(["\n  z-index: ",";\n  position: absolute;\n  pointer-events: none;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  &:focus {\n    outline: none;\n  }\n\n  & .spinner {\n    position: absolute;\n    left: 50%;\n    width: 20%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    transition: opacity 0.3s;\n    svg {\n      transform-origin: center;\n      animation: spin 0.9s linear infinite;\n    }\n  }\n"],["\n  z-index: ",";\n  position: absolute;\n  pointer-events: none;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  &:focus {\n    outline: none;\n  }\n\n  & .spinner {\n    position: absolute;\n    left: 50%;\n    width: 20%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    transition: opacity 0.3s;\n    svg {\n      transform-origin: center;\n      animation: spin 0.9s linear infinite;\n    }\n  }\n"]),function(e){return e.theme.zIndex.popup}),t.Spinner=i.default.div(r(["\n  position: absolute;\n  left: 50%;\n  width: 20%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transition: opacity 0.3s;\n\n  opacity: ",";\n\n  svg {\n    transform-origin: center;\n    animation: spin 0.9s linear infinite;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"],["\n  position: absolute;\n  left: 50%;\n  width: 20%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transition: opacity 0.3s;\n\n  opacity: ",";\n\n  svg {\n    transform-origin: center;\n    animation: spin 0.9s linear infinite;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]),function(e){return e.opacity}),t.Poster=i.default.div(r(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.2s;\n\n  opacity: ",";\n\n  canvas {\n    width: 100%; /* Need in JS for start width */\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.2s;\n\n  opacity: ",";\n\n  canvas {\n    width: 100%; /* Need in JS for start width */\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]),function(e){return e.opacity}),t.VideoPoster=i.default.div(r(["\n  position: absolute;\n  left: 0;\n  /* -.5% and 100.5% is to avoid top/bottom black slit, caused by unknown bug */\n  top: -0.5%;\n  width: 100%;\n  height: 100.5%;\n  img {\n    left: 0;\n    top: 0;\n    position: relative;\n    width: inherit;\n    height: inherit;\n    object-fit: cover;\n    border-radius: 10px;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  position: absolute;\n  left: 0;\n  /* -.5% and 100.5% is to avoid top/bottom black slit, caused by unknown bug */\n  top: -0.5%;\n  width: 100%;\n  height: 100.5%;\n  img {\n    left: 0;\n    top: 0;\n    position: relative;\n    width: inherit;\n    height: inherit;\n    object-fit: cover;\n    border-radius: 10px;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),t.TapMessage=i.default.div(r(["\n  z-index: ",";\n  cursor: pointer;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 8px;\n  width: 33.3333%;\n  box-shadow: 0 0 10px 3px hsla(0, 0%, 78%, 0.3);\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n\n  svg {\n    display: block;\n  }\n"],["\n  z-index: ",";\n  cursor: pointer;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 8px;\n  width: 33.3333%;\n  box-shadow: 0 0 10px 3px hsla(0, 0%, 78%, 0.3);\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n\n  svg {\n    display: block;\n  }\n"]),function(e){return e.theme.zIndex.popup})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(249)));t.default=r.default},function(c,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(e,"__esModule",{value:!0}),e.StandalonePlayer=void 0,n(t(0))),s=t(3),u=o(t(106)),f=o(t(109)),d=t(16),h=t(114),p=o(t(116)),g=t(7),v=o(t(70)),y=o(t(118)),m=t(110),l=t(117);e.StandalonePlayer=function(){var e=(i=a.useContext(d.globalContext)).stories,t=i.currentStoryIndex,n=i.loadVideoPlayer,r=i.setLoadVideoPlayer,i=a.useContext(g.optionsContext).playerOptions,e=e[t];return a.default.createElement(s.ThemeProvider,{theme:v.default},a.default.createElement(u.default,null,!n&&a.default.createElement(m.PlayerWrapper,{shadow:i.shadow,roundedCorners:i.roundedCorners},a.default.createElement(l.VideoPoster,{onClick:function(e){r(!0),e.stopPropagation()}},a.default.createElement("img",{alt:"poster",src:e.posterUrl}),a.default.createElement(y.default,{linkClicked:function(){return r(!0)}}),a.default.createElement(l.TapMessage,null,a.default.createElement(p.default,null)),!e.whiteLabel&&a.default.createElement(h.Logo,null))),n&&a.default.createElement(f.default,{story:e,tabbable:!0,index:t})))}},function(e,t,n){var r=n(121),i=n(123);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(73),i=n(274),o=n(275),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(a&&a in Object(e)?i:o)(e)}},function(e,t,n){var n=n(273),r="object"==typeof self&&self&&self.Object===Object&&self,n=n||r||Function("return this")();e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.r(t);n(12);var r,i=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},e),r=r||i.createElement("circle",{cx:60,cy:60,fill:"none",r:57,vectorEffect:"non-scaling-stroke"}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(0))),o=n(74);t.default=function(e){var t=e.animatedBubble,e=e.story,t=t?null==e?void 0:e.animatedThumbnailUrl:null==e?void 0:e.thumbnailUrl;return null!=e&&e.overrideThumbnailUrl&&(t=e.overrideThumbnailUrl),i.default.createElement(o.AvatarContainer,null,i.default.createElement("img",{alt:null==e?void 0:e.title,src:t}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"useDebounce",function(){return r}),n.d(t,"useDebouncedCallback",function(){return l});var h=n(0);function l(e,c,t){var n=(t=void 0===t?{}:t).maxWait,r=Object(h.useRef)(null),i=Object(h.useRef)([]),f=t.leading,d=void 0===t.trailing||t.trailing,o=Object(h.useRef)(!1),a=Object(h.useRef)(null),s=Object(h.useRef)(!1),u=Object(h.useRef)(e),l=(u.current=e,Object(h.useCallback)(function(){clearTimeout(a.current),clearTimeout(r.current),r.current=null,i.current=[],a.current=null,o.current=!1},[])),t=(Object(h.useEffect)(function(){return s.current=!1,function(){s.current=!0}},[]),Object(h.useCallback)(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.current=t,clearTimeout(a.current),o.current&&(o.current=!1),a.current||!f||o.current||(u.current.apply(u,t),o.current=!0),a.current=setTimeout(function(){var e=!0;f&&o.current&&(e=!1),l(),!s.current&&d&&e&&u.current.apply(u,t)},c),n&&!r.current&&d&&(r.current=setTimeout(function(){var e=i.current;l(),s.current||u.current.apply(null,e)},n))},[n,c,l,f,d])),e=Object(h.useCallback)(function(){a.current&&(u.current.apply(null,i.current),l())},[l]);return[t,l,e]}function c(e,t){return e===t}function r(e,t,n){var r=n&&n.equalityFn?n.equalityFn:c,i=Object(h.useState)(e),o=i[0],a=i[1],i=l(Object(h.useCallback)(function(e){return a(e)},[]),t,n),s=i[0],t=i[1],n=i[2],u=Object(h.useRef)(e);return Object(h.useEffect)(function(){r(u.current,e)||(s(e),u.current=e)},[e,s,r]),[o,t,n]}},function(e,t){e.exports=function(e,t,n,r){if(void 0!==(s=n?n.call(r,e,t):void 0))return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),c=Object.keys(t);if(i.length!==c.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),o=0;o<i.length;o++){var a=i[o];if(!f(a))return!1;var s,u=e[a],l=t[a];if(!1===(s=n?n.call(r,u,l,a):void 0)||void 0===s&&u!==l)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function F(e,t,n){var r=t.trim().split(f),i=(t=r).length,o=e.length;switch(o){case 0:case 1:var a=0;for(e=0===o?"":e[0]+" ";a<i;++a)t[a]=l(e,t[a],n).trim();break;default:var s=a=0;for(t=[];a<i;++a)for(var u=0;u<o;++u)t[s++]=l(e[u]+" ",r[a],n).trim()}return t}function l(e,t,n){var r=t.charCodeAt(0);switch(r=r<33?(t=t.trim()).charCodeAt(0):r){case 38:return t.replace(i,"$1"+e.trim());case 58:return e.trim()+t.replace(i,"$1"+e.trim());default:if(0<+n&&0<t.indexOf("\f"))return t.replace(i,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function P(e,t,n,r){var i,o=e+";",a=2*t+3*n+4*r;if(944==a)return e=o.indexOf(":",9)+1,i=o.substring(e,o.length-1).trim(),i=o.substring(0,e).trim()+i+";",1===I||2===I&&A(i,1)?"-webkit-"+i+i:i;if(0===I||2===I&&!A(o,1))return o;switch(a){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(v,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(i=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+i+o;case 1005:return u.test(o)?o.replace(s,":-webkit-")+o.replace(s,":-moz-")+o:o;case 1e3:switch(t=(i=o.substring(13).trim()).indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(t)){case 226:i=o.replace(d,"tb");break;case 232:i=o.replace(d,"tb-rl");break;case 220:i=o.replace(d,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+i+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,a=(i=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(i.charCodeAt(8)<111)break;case 115:o=o.replace(i,"-webkit-"+i)+";"+o;break;case 207:case 102:o=o.replace(i,"-webkit-"+(102<a?"inline-":"")+"box")+";"+o.replace(i,"-webkit-"+i)+";"+o.replace(i,"-ms-"+i+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return i=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+i+"-ms-flex-"+i+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(p,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(p,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===g.test(e))return 115===(i=e.substring(e.indexOf(":")+1)).charCodeAt(0)?P(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(i,"-webkit-"+i)+o.replace(i,"-moz-"+i.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(c,"$1-webkit-$2")+o}return o}function A(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),n=e.substring(n+1,e.length-1);return a(2!==t?r:r.replace(o,"$1"),n,t)}function j(e,t){var n=P(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(r," or ($1)").substring(4):"("+t+")"}function C(e,t,n,r,i,o,a,c,f,d){for(var s,u=0,l=t;u<M;++u)switch(s=y[u].call(h,e,l,n,r,i,o,a,c,f,d)){case void 0:case!1:case!0:case null:break;default:l=s}if(l!==t)return l}function t(e){return void 0!==(e=e.prefix)&&(a=null,e?"function"!=typeof e?I=1:(I=2,a=e):I=0),t}function h(e,t){e=[e=e.charCodeAt(0)<33?e.trim():e],0<M&&(void 0!==(n=C(-1,t,e,e,L,R,0,0,0,0))&&"string"==typeof n&&(t=n));var n,t=function c(f,d,e,h,p){for(var t,n,r,g,v,y=0,i=0,m=0,o=0,b=0,w=0,a=r=t=0,s=0,_=0,E=0,S=0,k=e.length,T=k-1,u="",l="",x="",O="";s<k;){if(n=e.charCodeAt(s),s===T&&0!==i+o+m+y&&(0!==i&&(n=47===i?10:47),o=m=y=0,k++,T++),0===i+o+m+y){if(s===T&&0<(u=0<_?u.replace(U,""):u).trim().length){switch(n){case 32:case 9:case 59:case 13:case 10:break;default:u+=e.charAt(s)}n=59}switch(n){case 123:for(t=(u=u.trim()).charCodeAt(0),r=1,S=++s;s<k;){switch(n=e.charCodeAt(s)){case 123:r++;break;case 125:r--;break;case 47:switch(n=e.charCodeAt(s+1)){case 42:case 47:e:{for(a=s+1;a<T;++a)switch(e.charCodeAt(a)){case 47:if(42!==n||42!==e.charCodeAt(a-1)||s+2===a)break;s=a+1;break e;case 10:if(47===n){s=a+1;break e}}s=a}}break;case 91:n++;case 40:n++;case 34:case 39:for(;s++<T&&e.charCodeAt(s)!==n;);}if(0===r)break;s++}if(r=e.substring(S,s),64===(t=0===t?(u=u.replace(N,"").trim()).charCodeAt(0):t)){switch(n=(u=0<_?u.replace(U,""):u).charCodeAt(1)){case 100:case 109:case 115:case 45:_=d;break;default:_=W}if(S=(r=c(d,_,r,n,p+1)).length,0<M&&(v=C(3,r,_=F(W,u,E),d,L,R,S,n,p,h),u=_.join(""),void 0!==v&&0===(S=(r=v.trim()).length)&&(n=0,r="")),0<S)switch(n){case 115:u=u.replace(G,j);case 100:case 109:case 45:r=u+"{"+r+"}";break;case 107:r=(u=u.replace(B,"$1 $2"))+"{"+r+"}",r=1===I||2===I&&A("@"+r,3)?"@-webkit-"+r+"@"+r:"@"+r;break;default:r=u+r,112===h&&(l+=r,r="")}else r=""}else r=c(d,F(d,u,E),r,h,p+1);x+=r,r=E=_=a=t=0,u="",n=e.charCodeAt(++s);break;case 125:case 59:if(1<(S=(u=(0<_?u.replace(U,""):u).trim()).length))switch(0===a&&(t=u.charCodeAt(0),45===t||96<t&&t<123)&&(S=(u=u.replace(" ",":")).length),0<M&&void 0!==(v=C(1,u,d,f,L,R,l.length,h,p,h))&&0===(S=(u=v.trim()).length)&&(u="\0\0"),t=u.charCodeAt(0),n=u.charCodeAt(1),t){case 0:break;case 64:if(105===n||99===n){O+=u+e.charAt(s);break}default:58!==u.charCodeAt(S-1)&&(l+=P(u,t,n,u.charCodeAt(2)))}E=_=a=t=0,u="",n=e.charCodeAt(++s)}}switch(n){case 13:case 10:47===i?i=0:0===1+t&&107!==h&&0<u.length&&(_=1,u+="\0"),0<M*H&&C(0,u,d,f,L,R,l.length,h,p,h),R=1,L++;break;case 59:case 125:if(0===i+o+m+y){R++;break}default:switch(R++,g=e.charAt(s),n){case 9:case 32:if(0===o+y+i)switch(b){case 44:case 58:case 9:case 32:g="";break;default:32!==n&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===o+i+y&&(_=E=1,g="\f"+g);break;case 108:if(0===o+i+y+D&&0<a)switch(s-a){case 2:112===b&&58===e.charCodeAt(s-3)&&(D=b);case 8:111===w&&(D=w)}break;case 58:0===o+i+y&&(a=s);break;case 44:0===i+m+o+y&&(_=1,g+="\r");break;case 34:case 39:0===i&&(o=o===n?0:0===o?n:o);break;case 91:0===o+i+m&&y++;break;case 93:0===o+i+m&&y--;break;case 41:0===o+i+y&&m--;break;case 40:0===o+i+y&&(0===t&&(2*b+3*w==533||(t=1)),m++);break;case 64:0===i+m+o+y+a+r&&(r=1);break;case 42:case 47:if(!(0<o+y+m))switch(i){case 0:switch(2*n+3*e.charCodeAt(s+1)){case 235:i=47;break;case 220:S=s,i=42}break;case 42:47===n&&42===b&&S+2!==s&&(33===e.charCodeAt(S+2)&&(l+=e.substring(S,s+1)),g="",i=0)}}0===i&&(u+=g)}w=b,b=n,s++}if(0<(S=l.length)){if(_=d,0<M&&void 0!==(v=C(2,l,_,f,L,R,S,h,p,h))&&0===(l=v).length)return O+l+x;if(l=_.join(",")+"{"+l+"}",0!=I*D){switch(D=2!==I||A(l,2)?D:0){case 111:l=l.replace(V,":-moz-$1")+l;break;case 112:l=l.replace(z,"::-webkit-input-$1")+l.replace(z,"::-moz-$1")+l.replace(z,":-ms-input-$1")+l}D=0}}return O+l+x}(W,e,t,0,0);return 0<M&&(void 0!==(n=C(-2,t,e,e,L,R,t.length,0,0,0))&&(t=n)),D=0,R=L=1,t}var N=/^\0+/g,U=/[\0\r\f]/g,s=/: */g,u=/zoo|gra/,c=/([,: ])(transform)/g,f=/,\r+?/g,i=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,z=/::(place)/g,V=/:(read-only)/g,d=/[svh]\w+-[tblr]{2}/,G=/\(\s*(.*)\s*\)/g,r=/([\s\S]*?);/g,p=/-self|flex-/g,o=/[^]*?(:[rp][el]a[\w-]+)[^]*/,g=/stretch|:\s*\w+\-(?:conte|avail)/,v=/([^-])(image-set\()/,R=1,L=1,D=0,I=1,W=[],y=[],M=0,a=null,H=0;return h.use=function e(t){switch(t){case void 0:case null:M=y.length=0;break;default:if("function"==typeof t)y[M++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else H=0|!!t}return e},h.set=t,void 0!==e&&t(e),h}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){n(131),n(142),n(147),n(168),n(175),n(176),e.exports=n(177)},function(e,t,n){"use strict";var r=n(23),i=n(88).findIndex,n=n(91),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(o)},function(e,c,t){var n=t(1),r=t(13),i=t(15),o=t(51),a=t(53),s=t(133),t=t(5),u=n.TypeError,l=t("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n=a(e,l);if(n){if(n=r(n,e,t=void 0===t?"default":t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return s(e,t=void 0===t?"number":t)}},function(e,t,n){var r=n(1),i=n(13),o=n(2),a=n(15),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},function(e,t,n){var r=n(1),i=n(2),n=n(38),r=r.WeakMap;e.exports=i(r)&&/native code/.test(n(r))},function(e,t,n){var u=n(8),l=n(136),c=n(31),f=n(14);e.exports=function(e,t,n){for(var r=l(t),i=f.f,o=c.f,a=0;a<r.length;a++){var s=r[a];u(e,s)||n&&u(n,s)||i(e,s,o(t,s))}}},function(e,t,n){var r=n(17),i=n(4),o=n(59),a=n(61),s=n(10),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},function(e,t,n){function r(s){return function(e,t,n){var r,i=u(e),o=c(i),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}var u=n(18),l=n(85),c=n(42);e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t,n){var r=n(86),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(140);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){var r=n(1),i=n(89),o=n(90),a=n(15),s=n(5)("species"),u=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===u||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},function(e,t,n){var r={};r[n(5)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,c,t){"use strict";var n=t(18),r=t(91),i=t(28),o=t(39),a=t(14).f,s=t(143),u=t(20),t=t(9),l="Array Iterator",f=o.set,d=o.getterFor(l),o=(e.exports=s(Array,"Array",function(e,t){f(this,{type:l,target:n(e),index:0,kind:t})},function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),i.Arguments=i.Array);if(r("keys"),r("values"),r("entries"),!u&&t&&"values"!==o.name)try{a(o,"name",{value:"values"})}catch(e){}},function(n,r,e){"use strict";function v(){return this}var k=e(23),T=e(13),y=e(20),t=e(83),x=e(2),O=e(144),m=e(95),b=e(96),P=e(45),A=e(37),w=e(21),i=e(5),C=e(28),e=e(94),R=t.PROPER,L=t.CONFIGURABLE,D=e.IteratorPrototype,_=e.BUGGY_SAFARI_ITERATORS,E=i("iterator"),S="values";n.exports=function(c,e,t,f,n,d,h){O(t,e,f);function r(e){if(e===n&&l)return l;if(!_&&e in s)return s[e];switch(e){case"keys":case S:case"entries":return function(){return new t(this,e)}}return function(){return new t(this)}}var i,o,a,f=e+" Iterator",p=!1,s=c.prototype,u=s[E]||s["@@iterator"]||n&&s[n],l=!_&&u||r(n),g="Array"==e&&s.entries||u;if(g&&(i=m(g.call(new c)))!==Object.prototype&&i.next&&(y||m(i)===D||(b?b(i,D):x(i[E])||w(i,E,v)),P(i,f,!0,!0),y&&(C[f]=v)),R&&n==S&&u&&u.name!==S&&(!y&&L?A(s,"name",S):(p=!0,l=function(){return T(u,this)})),n)if(o={values:r(S),keys:d?l:r("keys"),entries:r("entries")},h)for(a in o)!_&&!p&&a in s||w(s,a,o[a]);else k({target:e,proto:!0,forced:_||p},o);return y&&!h||s[E]===l||w(s,E,l,{name:n}),C[e]=l,o}},function(e,t,n){"use strict";function i(){return this}var o=n(94).IteratorPrototype,a=n(44),s=n(24),u=n(45),l=n(28);e.exports=function(e,t,n,r){t+=" Iterator";return e.prototype=a(o,{next:s(+!r,n)}),u(e,t,!1,!0),l[t]=i,e}},function(e,t,n){n=n(6);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(1),i=n(2),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},function(u,l,e){"use strict";function c(e,t){var n,r,i,o,a=t.value,c=t.state==ie,s=c?e.ok:e.fail,f=e.resolve,u=e.reject,l=e.domain;try{s?(c||(t.rejection===se&&(o=t,h(I,d,function(){var e=o.facade;W?Z.emit("rejectionHandled",e):fe(re,e,o.value)})),t.rejection=ae),!0===s?n=a:(l&&l.enter(),n=s(a),l&&(l.exit(),i=!0)),n===e.promise?u(X("Promise-chain cycle")):(r=le(n))?h(r,n,f,u):f(n)):u(a)}catch(e){l&&!i&&l.exit(),u(e)}}var f,p,g,v,y=e(23),m=e(20),d=e(1),b=e(17),h=e(13),w=e(148),_=e(21),E=e(149),S=e(96),k=e(45),T=e(150),x=e(26),O=e(2),P=e(15),A=e(151),C=e(38),R=e(152),L=e(156),D=e(157),I=e(98).set,M=e(160),F=e(163),j=e(164),N=e(102),U=e(165),B=e(166),z=e(39),V=e(87),t=e(5),G=e(167),W=e(64),H=e(80),K=t("species"),n="Promise",q=z.getterFor(n),$=z.set,Y=z.getterFor(n),e=w&&w.prototype,i=w,r=e,X=d.TypeError,Q=d.document,Z=d.process,o=N.f,J=o,ee=!!(Q&&Q.createEvent&&d.dispatchEvent),te=O(d.PromiseRejectionEvent),ne="unhandledrejection",re="rejectionhandled",ie=1,oe=2,ae=1,se=2,ue=!1,t=V(n,function(){var e=C(i),t=e!==String(i);if(!t&&66===H)return!0;if(m&&!r.finally)return!0;if(51<=H&&/native code/.test(e))return!1;function n(e){e(function(){},function(){})}e=new i(function(e){e(1)});return(e.constructor={})[K]=n,!(ue=e.then(function(){})instanceof n)||!t&&G&&!te}),z=t||!L(function(e){i.all(e).catch(function(){})}),le=function(e){var t;return!(!P(e)||!O(t=e.then))&&t},ce=function(n,r){n.notified||(n.notified=!0,M(function(){for(var e,i,t=n.reactions;e=t.get();)c(e,n);n.notified=!1,r&&!n.rejection&&(i=n,h(I,d,function(){var e,t=i.facade,n=i.value,r=de(i);if(r&&(e=U(function(){W?Z.emit("unhandledRejection",n,t):fe(ne,t,n)}),i.rejection=W||de(i)?se:ae,e.error))throw e.value}))}))},fe=function(e,t,n){var r,i;ee?((r=Q.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),d.dispatchEvent(r)):r={promise:t,reason:n},!te&&(i=d["on"+e])?i(r):e===ne&&j("Unhandled promise rejection",n)},de=function(e){return e.rejection!==ae&&!e.parent},a=function(t,n,r){return function(e){t(n,e,r)}},s=function(e,t,n){e.done||(e.done=!0,(e=n?n:e).value=t,e.state=oe,ce(e,!0))},he=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw X("Promise can't be resolved itself");var r=le(e);r?M(function(){var t={done:!1};try{h(r,e,a(he,t,n),a(s,t,n))}catch(e){s(t,e,n)}}):(n.value=e,n.state=ie,ce(n,!1))}catch(e){s({done:!1},e,n)}}};if(t&&(r=(i=function(e){A(this,r),x(e),h(f,this);var t=q(this);try{e(a(he,t),a(s,t))}catch(e){s(t,e)}}).prototype,(f=function(e){$(this,{type:n,done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=E(r,{then:function(e,t){var n=Y(this),r=o(D(this,i));return n.parent=!0,r.ok=!O(e)||e,r.fail=O(t)&&t,r.domain=W?Z.domain:void 0,0==n.state?n.reactions.add(r):M(function(){c(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),p=function(){var e=new f,t=q(e);this.promise=e,this.resolve=a(he,t),this.reject=a(s,t)},N.f=o=function(e){return e===i||e===g?new p:J(e)},!m&&O(w)&&e!==Object.prototype)){v=e.then,ue||(_(e,"then",function(e,t){var n=this;return new i(function(e,t){h(v,n,e,t)}).then(e,t)},{unsafe:!0}),_(e,"catch",r.catch,{unsafe:!0}));try{delete e.constructor}catch(e){}S&&S(e,r)}y({global:!0,wrap:!0,forced:t},{Promise:i}),k(i,n,!1,!0),T(n),g=b(n),y({target:n,stat:!0,forced:t},{reject:function(e){var t=o(this);return h(t.reject,void 0,e),t.promise}}),y({target:n,stat:!0,forced:m||t},{resolve:function(e){return F(m&&this===g?i:this,e)}}),y({target:n,stat:!0,forced:z},{all:function(e){var s=this,t=o(s),u=t.resolve,l=t.reject,n=U(function(){var r=x(s.resolve),i=[],o=0,a=1;R(e,function(e){var t=o++,n=!1;a++,h(r,s,e).then(function(e){n||(n=!0,i[t]=e,--a||u(i))},l)}),--a||u(i)});return n.error&&l(n.value),t.promise},race:function(e){var n=this,r=o(n),i=r.reject,t=U(function(){var t=x(n.resolve);R(e,function(e){h(t,n,e).then(r.resolve,i)})});return t.error&&i(t.value),r.promise}})},function(e,t,n){n=n(1);e.exports=n.Promise},function(e,t,n){var i=n(21);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var r=n(17),i=n(14),o=n(5),a=n(9),s=o("species");e.exports=function(e){var e=r(e),t=i.f;a&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(1),i=n(34),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},function(e,r,t){function v(e,t){this.stopped=e,this.result=t}var n=t(1),y=t(43),m=t(13),b=t(10),S=t(36),k=t(153),T=t(42),w=t(34),x=t(154),O=t(97),_=t(155),P=n.TypeError,E=v.prototype;e.exports=function(e,c,t){function n(e){return i&&_(i,"normal",e),new v(!0,e)}function r(e){return h?(b(e),g?l(e[0],e[1],n):l(e[0],e[1])):g?l(e,n):l(e)}var i,o,a,s,u,f,d=t&&t.that,h=!(!t||!t.AS_ENTRIES),p=!(!t||!t.IS_ITERATOR),g=!(!t||!t.INTERRUPTED),l=y(c,d);if(p)i=e;else{if(!(t=O(e)))throw P(S(e)+" is not iterable");if(k(t)){for(o=0,a=T(e);o<a;o++)if((s=r(e[o]))&&w(E,s))return s;return new v(!1)}i=x(e,t)}for(u=i.next;!(f=m(u,i)).done;){try{s=r(f.value)}catch(e){_(i,"throw",e)}if("object"==typeof s&&s&&w(E,s))return s}return new v(!1)}},function(e,t,n){var r=n(5),i=n(28),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,l,t){var n=t(1),r=t(13),i=t(26),o=t(10),a=t(36),s=t(97),u=n.TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw u(a(e)+" is not iterable")}},function(e,t,n){var o=n(13),a=n(10),s=n(53);e.exports=function(e,t,n){var r,i;a(e);try{if(!(r=s(e,"return"))){if("throw"===t)throw n;return n}r=o(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return a(r),n}},function(e,t,n){var i=n(5)("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},function(e,t,n){var r=n(10),i=n(158),o=n(5)("species");e.exports=function(e,t){var n,e=r(e).constructor;return void 0===e||null==(n=r(e)[o])?t:i(n)}},function(e,t,n){var r=n(1),i=n(90),o=n(36),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},function(e,t,n){var r=n(1).TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},function(c,f,e){var t,n,r,i,o,d,h,a=e(1),p=e(43),s=e(31).f,g=e(98).set,u=e(101),v=e(161),y=e(162),m=e(64),e=a.MutationObserver||a.WebKitMutationObserver,b=a.document,w=a.process,l=a.Promise,s=s(a,"queueMicrotask"),s=s&&s.value;s||(t=function(){var e,t;for(m&&(e=w.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()},i=u||m||y||!e||!b?!v&&l&&l.resolve?((u=l.resolve(void 0)).constructor=l,h=p(u.then,u),function(){h(t)}):m?function(){w.nextTick(t)}:(g=p(g,a),function(){g(t)}):(o=!0,d=b.createTextNode(""),new e(t).observe(d,{characterData:!0}),function(){d.data=o=!o})),c.exports=s||function(e){e={fn:e,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}},function(e,t,n){var r=n(35),n=n(1);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==n.Pebble},function(e,t,n){n=n(35);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,n){var r=n(10),i=n(15),o=n(102);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;e=o.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){function n(){this.head=null,this.tail=null}n.prototype={add:function(e){e={item:e,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},function(e,t){e.exports="object"==typeof window},function(c,f,e){"use strict";function d(e,t){var n=l[e]=U(s);return se(n,{type:ae,tag:e,description:t}),x||(n.description=t),n}function h(e,t,n){return e===o&&h(ge,t,n),D(e),t=F(t),D(n),r(l,t)?(n.enumerable?(r(e,i)&&e[i][t]&&(e[i][t]=!1),n=U(n,{enumerable:N(0,!1)})):(r(e,i)||u(e,i,N(1,{})),e[i][t]=!0),be(e,t,n)):u(e,t,n)}function p(t,e){D(t);var n=M(e),e=B(n).concat(m(n));return oe(e,function(e){x&&!S(g,n,e)||h(t,e,n[e])}),t}function g(e){var e=F(e),t=S(he,this,e);return!(this===o&&r(l,e)&&!r(ge,e))&&(!(t||!r(this,e)||!r(l,e)||r(this,i)&&this[i][e])||t)}function v(e,t){var n,e=M(e),t=F(t);if(e!==o||!r(l,t)||r(ge,t))return!(n=fe(e,t))||!r(l,t)||r(e,i)&&e[i][t]||(n.enumerable=!0),n}function y(e){var e=de(M(e)),t=[];return oe(e,function(e){r(l,e)||r(Z,e)||pe(t,e)}),t}function m(e){var t=e===o,e=de(t?ge:M(e)),n=[];return oe(e,function(e){!r(l,e)||t&&!r(o,e)||pe(n,l[e])}),n}var b,t=e(23),w=e(1),_=e(17),E=e(99),S=e(13),k=e(4),T=e(20),x=e(9),n=e(52),O=e(6),r=e(8),P=e(89),A=e(2),C=e(15),R=e(34),L=e(51),D=e(10),I=e(27),M=e(18),F=e(33),j=e(169),N=e(24),U=e(44),B=e(63),z=e(59),V=e(170),G=e(61),W=e(31),H=e(14),K=e(92),q=e(49),$=e(100),Y=e(21),X=e(54),Q=e(40),Z=e(41),J=e(57),ee=e(5),te=e(103),ne=e(173),re=e(45),ie=e(39),oe=e(88).forEach,i=Q("hidden"),ae="Symbol",e="prototype",Q=ee("toPrimitive"),se=ie.set,ue=ie.getterFor(ae),o=Object[e],a=w.Symbol,s=a&&a[e],le=w.TypeError,ie=w.QObject,ce=_("JSON","stringify"),fe=W.f,u=H.f,de=V.f,he=q.f,pe=k([].push),l=X("symbols"),ge=X("op-symbols"),ve=X("string-to-symbol-registry"),ye=X("symbol-to-string-registry"),w=X("wks"),me=!ie||!ie[e]||!ie[e].findChild,be=x&&O(function(){return 7!=U(u({},"a",{get:function(){return u(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=fe(o,t);r&&delete o[t],u(e,t,n),r&&e!==o&&u(o,t,r)}:u;n||(Y(s=(a=function(){if(R(s,this))throw le("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?j(arguments[0]):void 0,t=J(e),n=function(e){this===o&&S(n,ge,e),r(this,i)&&r(this[i],t)&&(this[i][t]=!1),be(this,t,N(1,e))};return x&&me&&be(o,t,{configurable:!0,set:n}),d(t,e)})[e],"toString",function(){return ue(this).tag}),Y(a,"withoutSetter",function(e){return d(J(e),e)}),q.f=g,H.f=h,K.f=p,W.f=v,z.f=V.f=y,G.f=m,te.f=function(e){return d(ee(e),e)},x&&(u(s,"description",{configurable:!0,get:function(){return ue(this).description}}),T||Y(o,"propertyIsEnumerable",g,{unsafe:!0}))),t({global:!0,wrap:!0,forced:!n,sham:!n},{Symbol:a}),oe(B(w),function(e){ne(e)}),t({target:ae,stat:!0,forced:!n},{for:function(e){e=j(e);if(r(ve,e))return ve[e];var t=a(e);return ve[e]=t,ye[t]=e,t},keyFor:function(e){if(!L(e))throw le(e+" is not a symbol");if(r(ye,e))return ye[e]},useSetter:function(){me=!0},useSimple:function(){me=!1}}),t({target:"Object",stat:!0,forced:!n,sham:!x},{create:function(e,t){return void 0===t?U(e):p(U(e),t)},defineProperty:h,defineProperties:p,getOwnPropertyDescriptor:v}),t({target:"Object",stat:!0,forced:!n},{getOwnPropertyNames:y,getOwnPropertySymbols:m}),t({target:"Object",stat:!0,forced:O(function(){G.f(1)})},{getOwnPropertySymbols:function(e){return G.f(I(e))}}),ce&&t({target:"JSON",stat:!0,forced:!n||O(function(){var e=a();return"[null]"!=ce([e])||"{}"!=ce({a:e})||"{}"!=ce(Object(e))})},{stringify:function(e,t,n){var r=$(arguments),i=t;if((C(t)||void 0!==e)&&!L(e))return P(t)||(t=function(e,t){if(A(i)&&(t=S(i,this,e,t)),!L(t))return t}),r[1]=t,E(ce,null,r)}}),s[Q]||(b=s.valueOf,Y(s,Q,function(e){return S(b,this)})),re(a,ae),Z[i]=!0},function(e,t,n){var r=n(1),i=n(62),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},function(e,t,n){var r=n(25),i=n(18),o=n(59).f,a=n(171),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!s||"Window"!=r(e))return o(i(e));try{return o(e)}catch(e){return a(s)}}},function(e,t,n){var r=n(1),u=n(85),l=n(42),c=n(172),f=r.Array,d=Math.max;e.exports=function(e,t,n){for(var r=l(e),i=u(t,r),o=u(void 0===n?r:n,r),a=f(d(o-i,0)),s=0;i<o;i++,s++)c(a,s,e[i]);return a.length=s,a}},function(e,t,n){"use strict";var r=n(33),i=n(14),o=n(24);e.exports=function(e,t,n){t=r(t);t in e?i.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(174),i=n(8),o=n(103),a=n(14).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){n=n(1);e.exports=n},function(e,t){!function(){"use strict";var f,t;function u(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||i(),this.isIntersecting=!!e.intersectionRect;var e=this.boundingClientRect,e=e.width*e.height,t=this.intersectionRect,t=t.width*t.height;this.intersectionRatio=e?Number((t/e).toFixed(4)):this.isIntersecting?1:0}function e(e,t){var n,r,i,t=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(t.root&&1!=t.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i=i||setTimeout(function(){n(),i=null},r)}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(t.rootMargin),this.thresholds=this._initThresholds(t.threshold),this.root=t.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function n(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function d(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?t.width&&t.height?t:{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}:i()}function i(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(e){e=e.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(f=window.document,t=[],e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){e=e||[0];return(e=!Array.isArray(e)?[e]:e).sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},e.prototype._parseRootMargin=function(e){e=(e||"0px").split(/\s+/).map(function(e){e=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(window,"resize",this._checkForIntersections,!0),n(f,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(f,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(f,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),s=a?this._getRootRect():i();this._observationTargets.forEach(function(e){var t=e.element,n=d(t),r=this._rootContainsTarget(t),i=e.entry,o=a&&r&&this._computeTargetAndRootIntersection(t,s),e=e.entry=new u({time:window.performance&&performance.now&&performance.now(),target:t,boundingClientRect:n,rootBounds:s,intersectionRect:o});i?a&&r?this._hasCrossedThreshold(i,e)&&this._queuedEntries.push(e):i&&i.isIntersecting&&this._queuedEntries.push(e):this._queuedEntries.push(e)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,c){if("none"!=window.getComputedStyle(e).display){for(var t,n,r,i,o=d(e),a=h(e),s=!1;!s;){var u=null,l=1==a.nodeType?window.getComputedStyle(a):{};if("none"==l.display)return;if(a==this.root||a==f?(s=!0,u=c):a!=f.body&&a!=f.documentElement&&"visible"!=l.overflow&&(u=d(a)),u&&(l=u,u=o,i=r=n=t=void 0,t=Math.max(l.top,u.top),n=Math.min(l.bottom,u.bottom),r=Math.max(l.left,u.left),l=Math.min(l.right,u.right),i=n-t,!(o=0<=(u=l-r)&&0<=i&&{top:t,bottom:n,left:r,right:l,width:u,height:i})))break;a=h(a)}return o}},e.prototype._getRootRect=function(){var e,t;return t=this.root?d(this.root):(t=f.documentElement,e=f.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(t)},e.prototype._expandRectByRootMargin=function(n){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?n.width:n.height)/100}),e={top:n.top-e[0],right:n.right+e[1],bottom:n.bottom+e[2],left:n.left-e[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},e.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},e.prototype._rootIsInDom=function(){return!this.root||o(f,this.root)},e.prototype._rootContainsTarget=function(e){return o(this.root||f,e)},e.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},e.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=e,window.IntersectionObserverEntry=u))}()},function(n,e,t){"use strict";t.r(e),t.d(e,"Headers",function(){return c}),t.d(e,"Request",function(){return f}),t.d(e,"Response",function(){return d}),t.d(e,"DOMException",function(){return h}),t.d(e,"fetch",function(){return E});var i,o,s="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==s&&s,u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return e="string"!=typeof e?String(e):e}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():u.arrayBuffer&&u.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(v)}),this.text=function(){var e,t,n=p(this);if(n)return n;if(this._bodyBlob)return n=this._bodyBlob,e=new FileReader,t=g(e),e.readAsText(n),t;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}u.arrayBuffer&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<i.indexOf(Object.prototype.toString.call(e))}),c.prototype.append=function(e,t){e=r(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[r(e)]},c.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},c.prototype.set=function(e,t){this.map[r(e)]=l(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),a(n)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},c.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),a(n)},u.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(e,t){if(!(this instanceof f))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r=(t=t||{}).body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(e=t.method||this.method||"GET",n=e.toUpperCase(),-1<b.indexOf(n)?n:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((n=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function w(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(t=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),n.append(decodeURIComponent(t),decodeURIComponent(e)))}),n}function d(e,t){if(!(this instanceof d))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},m.call(f.prototype),m.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308],h=(d.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},s.DOMException);try{new h}catch(e){(h=function(e,t){this.message=e,this.name=t;t=Error(e);this.stack=t.stack}).prototype=Object.create(Error.prototype),h.prototype.constructor=h}function E(r,a){return new Promise(function(i,e){var t=new f(r,a);if(t.signal&&t.signal.aborted)return e(new h("Aborted","AbortError"));var o=new XMLHttpRequest;function n(){o.abort()}o.onload=function(){var e,n,t={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",n=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var e=e.split(":"),t=e.shift().trim();t&&(e=e.join(":").trim(),n.append(t,e))}),n)},r=(t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL"),"response"in o?o.response:o.responseText);setTimeout(function(){i(new d(r,t))},0)},o.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){e(new h("Aborted","AbortError"))},0)},o.open(t.method,function(t){try{return""===t&&s.location.href?s.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?o.withCredentials=!0:"omit"===t.credentials&&(o.withCredentials=!1),"responseType"in o&&(u.blob?o.responseType="blob":u.arrayBuffer&&t.headers.get("Content-Type")&&-1!==t.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!a||"object"!=typeof a.headers||a.headers instanceof c?t.headers.forEach(function(e,t){o.setRequestHeader(t,e)}):Object.getOwnPropertyNames(a.headers).forEach(function(e){o.setRequestHeader(e,l(a.headers[e]))}),t.signal&&(t.signal.addEventListener("abort",n),o.onreadystatechange=function(){4===o.readyState&&t.signal.removeEventListener("abort",n)}),o.send(void 0===t._bodyInit?null:t._bodyInit)})}E.polyfill=!0,s.fetch||(s.fetch=E,s.Headers=c,s.Request=f,s.Response=d)},function(c,e,t){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(e,"__esModule",{value:!0}),e.discover=e.Player=e.Bubbles=void 0,n(t(0))),o=t(29),a=n(t(182)),s=t(7),u=(t(183),t(184)),f=n(t(189)),d=t(119),h=t(287),l=(window.Hls=a.default,function(e){var t=s.useOptions(e);this.container=e.container instanceof Element?e.container:window.document.querySelector(e.container),o.render(r.default.createElement(u.App,{options:t},r.default.createElement(f.default,null)),this.container)}),n=(e.Bubbles=l,p.prototype.destroy=function(){o.unmountComponentAtNode(this.container)},p);function p(e){e=s.useOptions({playerOptions:e});this.container=window.document.querySelector(e.playerOptions.container),o.render(r.default.createElement(u.App,{options:e},r.default.createElement(d.StandalonePlayer,null)),this.container)}e.Player=n,e.discover=function(e){function t(){h.discoverBubbles(function(e){var t=null!==(t=r.playerOptions)&&void 0!==t?t:{},n=null!==(n=e.playerOptions)&&void 0!==n?n:{},t=i(i({},t),n),n=(r.apiBaseUrl&&(t.apiBaseUrl=r.apiBaseUrl),null===(n=r.animatedBubble)||void 0===n||n),e=i(i(i({},r),e),{playerOptions:t,animatedBubble:n});new l(e)},null==r?void 0:r.observerDepth,null==r?void 0:r.shadowSelector)}var r=null!=e?e:{};"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)};a=t(290);console.info("%c"+a.name+"@"+a.version+" (a469913c789ed8a3cf9d6f5342a8635d6c00d3ec)","font-weight: bold")},function(a,e,t){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c=t(65),f=60103,p=60106,s=(e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114,60109),u=60110,l=60112,g=(e.Suspense=60113,60115),v=60116,y=("function"==typeof Symbol&&Symbol.for&&(f=(t=Symbol.for)("react.element"),p=t("react.portal"),e.Fragment=t("react.fragment"),e.StrictMode=t("react.strict_mode"),e.Profiler=t("react.profiler"),s=t("react.provider"),u=t("react.context"),l=t("react.forward_ref"),e.Suspense=t("react.suspense"),g=t("react.memo"),v=t("react.lazy")),"function"==typeof Symbol&&Symbol.iterator);function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function n(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}function w(){}function r(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}n.prototype.isReactComponent={},n.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=n.prototype;var t=r.prototype=new w,_=(t.constructor=r,c(t,n.prototype),t.isPureReactComponent=!0,{current:null}),E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,l){var n,r={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,n)&&!S.hasOwnProperty(n)&&(r[n]=t[n]);var a=arguments.length-2;if(1===a)r.children=l;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===r[n]&&(r[n]=a[n]);return{$$typeof:f,type:e,key:i,ref:o,props:r,_owner:_.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===f}var x=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,n={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var n}function h(e,t,n,r,i){var o,a,s=!1;if(null===(e="undefined"===(l=typeof e)||"boolean"===l?null:e))s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case f:case p:s=!0}}if(s)return i=i(s=e),e=""===r?"."+O(s,0):r,Array.isArray(i)?(n="",h(i,t,n=null!=e?e.replace(x,"$&/")+"/":n,"",function(e){return e})):null!=i&&(T(i)&&(a=n+(!(o=i).key||s&&s.key===i.key?"":(""+i.key).replace(x,"$&/")+"/")+e,i={$$typeof:f,type:o.type,key:a,ref:o.ref,props:o.props,_owner:o._owner}),t.push(i)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l,c=r+O(l=e[u],u);s+=h(l,t,n,c,i)}else if("function"==typeof(c=null!==(a=e)&&"object"==typeof a&&"function"==typeof(a=y&&a[y]||a["@@iterator"])?a:null))for(e=c.call(e),u=0;!(l=e.next()).done;)s+=h(l=l.value,t,n,c=r+O(l,u++),i);else if("object"===l)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function i(e,t,n){if(null==e)return e;var r=[],i=0;return h(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(t){var e;if(-1===t._status&&(e=(e=t._result)(),t._status=0,(t._result=e).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})),1===t._status)return t._result;throw t._result}var A={current:null};function o(){var e=A.current;if(null===e)throw Error(d(321));return e}t={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:c};e.Children={map:i,forEach:function(e,t,n){i(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return i(e,function(){t++}),t},toArray:function(e){return i(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},e.Component=n,e.PureComponent=r,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t,e.cloneElement=function(e,t,l){if(null==e)throw Error(d(267,e));var n=c({},e.props),r=e.key,i=e.ref,o=e._owner;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref,o=_.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)E.call(t,a)&&!S.hasOwnProperty(a)&&(n[a]=(void 0===t[a]&&void 0!==s?s:t)[a]);var a=arguments.length-2;if(1===a)n.children=l;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:f,type:e.type,key:r,ref:i,props:n,_owner:o}},e.createContext=function(e,t){return(e={$$typeof:u,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},e.createElement=k,e.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:l,render:e}},e.isValidElement=T,e.lazy=function(e){return{$$typeof:v,_payload:{_status:-1,_result:e},_init:P}},e.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return o().useCallback(e,t)},e.useContext=function(e,t){return o().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return o().useEffect(e,t)},e.useImperativeHandle=function(e,t,n){return o().useImperativeHandle(e,t,n)},e.useLayoutEffect=function(e,t){return o().useLayoutEffect(e,t)},e.useMemo=function(e,t){return o().useMemo(e,t)},e.useReducer=function(e,t,n){return o().useReducer(e,t,n)},e.useRef=function(e){return o().useRef(e)},e.useState=function(e){return o().useState(e)},e.version="17.0.2"},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(0),g=n(65),o=n(180);function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(j(227));var r=new Set,h={};function a(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(h[e]=t,e=0;e<t.length;e++)r.add(t[e])}var n=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,v={},y={};function m(e,t,n,r){if(null==t||function(e,t,n,r){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function b(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var w={},_=("children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}),/[\-:]([a-z])/g);function E(e){return e[1].toUpperCase()}function O(e,t,n,r){var i,o=w.hasOwnProperty(t)?w[t]:null;(null!==o?0!==o.type:r||(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))&&(m(t,n,o,r)&&(n=null),r||null===o?(i=t,(p.call(y,i)||!p.call(v,i)&&(u.test(i)?y[i]=!0:void(v[i]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,E);w[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,E);w[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,E);w[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});var P,A=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=60103,U=60106,B=60107,C=60108,R=60114,L=60109,D=60110,I=60112,M=60113,F=60120,z=60115,V=60116,G=60121,W=60128,H=60129,K=60130,q=60131,$=("function"==typeof Symbol&&Symbol.for&&(N=(Ft=Symbol.for)("react.element"),U=Ft("react.portal"),B=Ft("react.fragment"),C=Ft("react.strict_mode"),R=Ft("react.profiler"),L=Ft("react.provider"),D=Ft("react.context"),I=Ft("react.forward_ref"),M=Ft("react.suspense"),F=Ft("react.suspense_list"),z=Ft("react.memo"),V=Ft("react.lazy"),G=Ft("react.block"),Ft("react.scope"),W=Ft("react.opaque.id"),H=Ft("react.debug_trace_mode"),K=Ft("react.offscreen"),q=Ft("react.legacy_hidden")),"function"==typeof Symbol&&Symbol.iterator);function Y(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}function X(e){if(void 0===P)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var Q=!1;function Z(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,--s<0||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?X(e):""}function J(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case B:return"Fragment";case U:return"Portal";case R:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case I:var t=(t=e.render).displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case z:return J(e.type);case G:return J(e._render);case V:t=e._payload,e=e._init;try{return J(e(t))}catch(e){}}return null}function ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){e._valueTracker||(e._valueTracker=function(e){var t,n,r=te(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),o=""+e[r];if(!e.hasOwnProperty(r)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set)return t=i.get,n=i.set,Object.defineProperty(e,r,{configurable:!0,get:function(){return t.call(this)},set:function(e){o=""+e,n.call(this,e)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[r]}}}(e))}function re(e){if(e){var t=e._valueTracker;if(!t)return 1;var n=t.getValue(),r="";return(e=r=e?te(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)}}function ie(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function oe(e,t){var n=t.checked;return g({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ae(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked,n=ee(null!=t.value?t.value:n);e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function se(e,t){null!=(t=t.checked)&&O(e,"checked",t,!1)}function ue(e,t){se(e,t);var n=ee(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&ce(e,t.type,ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ce(e,t,n){"number"===t&&ie(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function fe(e,t){var n,r;return e=g({children:void 0},t),n=t.children,r="",i.Children.forEach(n,function(e){null!=e&&(r+=e)}),(t=r)&&(e.children=t),e}function de(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ee(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function he(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(j(91));return g({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(j(92));if(Array.isArray(n)){if(!(n.length<=1))throw Error(j(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:ee(n)}}function ge(e,t){var n=ee(t.value),r=ee(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ve(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ye="http://www.w3.org/1999/xhtml",me="http://www.w3.org/2000/svg";function be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function we(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}Ee=function(e,t){if(e.namespaceURI!==me||"innerHTML"in e)e.innerHTML=t;else{for((_e=_e||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_e.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}};var _e,Ee,Se="undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ee(e,t)})}:Ee;function ke(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Te={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function Oe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Te.hasOwnProperty(e)&&Te[e]?(""+t).trim():t+"px"}function Pe(e,t){for(var n in e=e.style,t){var r,i;t.hasOwnProperty(n)&&(r=0===n.indexOf("--"),i=Oe(n,t[n],r),"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i)}}Object.keys(Te).forEach(function(t){xe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Te[e]=Te[t]})});var Ae=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(j(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(j(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(j(62))}}function Re(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Le(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}var De=null,Ie=null,Me=null;function Fe(e){if(e=qr(e)){if("function"!=typeof De)throw Error(j(280));var t=e.stateNode;t&&(t=Yr(t),De(e.stateNode,e.type,t))}}function je(e){Ie?Me?Me.push(e):Me=[e]:Ie=e}function Ne(){if(Ie){var e=Ie,t=Me;if(Me=Ie=null,Fe(e),t)for(e=0;e<t.length;e++)Fe(t[e])}}function Ue(e,t){return e(t)}function Be(e,t,n,r,i){return e(t,n,r,i)}function ze(){}var Ve=!1,Ge=!1;function We(){null===Ie&&null===Me||(ze(),Ne())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=Yr(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(r=!(r=!r.disabled)?!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e):r);break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(j(231,t,typeof n));return n}var Ke=!1;if(n)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ke=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(e){Ke=!1}var $e=!1,Ye=null,Xe=!1,Qe=null,Ze={onError:function(e){$e=!0,Ye=e}};function Je(e,t,n,r,i,o,a,s,u){$e=!1,Ye=null,function(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(Ze,arguments)}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(j(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null!==o){if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}else{if(null===(r=i.return))break;n=r}}if(3!==n.tag)throw Error(j(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return 1;t=t.return}}var ot,at,st,ut=!1,lt=[],ct=null,ft=null,dt=null,ht=new Map,pt=new Map,gt=[],vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":ht.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function bt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=yt(t,n,r,i,o),null===t||null!==(t=qr(t))&&at(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function wt(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=qr(n))&&at(t),e.blockedOn=n,0;t.shift()}return 1}}function _t(e,t,n){wt(e)&&n.delete(t)}function Et(){for(ut=!1;0<lt.length;){var e=lt[0];if(null!==e.blockedOn){null!==(e=qr(e.blockedOn))&&ot(e);break}for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&lt.shift()}null!==ct&&wt(ct)&&(ct=null),null!==ft&&wt(ft)&&(ft=null),null!==dt&&wt(dt)&&(dt=null),ht.forEach(_t),pt.forEach(_t)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,ut||(ut=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Et)))}function kt(t){function e(e){return St(e,t)}if(0<lt.length){St(lt[0],t);for(var n=1;n<lt.length;n++){var r=lt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ct&&St(ct,t),null!==ft&&St(ft,t),null!==dt&&St(dt,t),ht.forEach(e),pt.forEach(e),n=0;n<gt.length;n++)(r=gt[n]).blockedOn===t&&(r.blockedOn=null);for(;0<gt.length&&null===(n=gt[0]).blockedOn;)(function(e){var t=Kr(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,e.lanePriority,o.unstable_runWithPriority(e.priority,function(){st(n)})}else if(3===t&&n.stateNode.hydrate)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null})(n),null===n.blockedOn&&gt.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},Ot={},Pt={};function At(e){if(Ot[e])return Ot[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return Ot[e]=n[t];return e}n&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Ct=At("animationend"),Rt=At("animationiteration"),Lt=At("animationstart"),Dt=At("transitionend"),It=new Map,Mt=new Map,Ft=["abort","abort",Ct,"animationEnd",Rt,"animationIteration",Lt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i="on"+((i=e[n+1])[0].toUpperCase()+i.slice(1));Mt.set(r,t),It.set(r,i),a(i,[r])}}(0,o.unstable_now)();var f=8;function Nt(e){if(0!=(1&e))return f=15,1;if(0!=(2&e))return f=14,2;if(0!=(4&e))return f=13,4;var t=24&e;return 0!==t?(f=12,t):0!=(32&e)?(f=11,32):0!==(t=192&e)?(f=10,t):0!=(256&e)?(f=9,256):0!==(t=3584&e)?(f=8,t):0!=(4096&e)?(f=7,4096):0!==(t=4186112&e)?(f=6,t):0!==(t=62914560&e)?(f=5,t):67108864&e?(f=4,67108864):0!=(134217728&e)?(f=3,134217728):0!==(t=805306368&e)?(f=2,t):0!=(1073741824&e)?(f=1,1073741824):(f=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return f=0;var r,i=0,o=0,a=e.expiredLanes,s=e.suspendedLanes,u=e.pingedLanes;if(0!==a?(i=a,o=f=15):0!==(a=134217727&n)?0!=(r=a&~s)?(i=Nt(r),o=f):0!==(u&=a)&&(i=Nt(u),o=f):0!==(a=n&~s)?(i=Nt(a),o=f):0!==u&&(i=Nt(u),o=f),0===i)return 0;if(i=n&(((i=31-Ht(i))<0?0:1<<i)<<1)-1,0!==t&&t!==i&&0==(t&s)){if(Nt(t),o<=f)return t;f=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)i|=e[n=31-Ht(t)],t&=~(o=1<<n);return i}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?zt(10,t):e;case 10:return 0===(e=Vt(192&~t))?zt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return t=0===(t=Vt(805306368&~t))?268435456:t}throw Error(j(358,e))}function Vt(e){return e&-e}function Gt(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32||function(e){return 0===e?32:31-(Kt(e)/qt|0)|0},Kt=Math.log,qt=Math.LN2;var $t=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Xt=!0;function Qt(e,t,n,r){Ve||ze();var i=Jt,o=Ve;Ve=!0;try{Be(i,e,t,n,r)}finally{(Ve=o)||We()}}function Zt(e,t,n,r){Yt($t,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Xt)if((i=0==(4&t))&&0<lt.length&&-1<vt.indexOf(e))e=yt(null,e,t,n,r),lt.push(e);else{var o=en(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<vt.indexOf(e))return e=yt(o,e,t,n,r),void lt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ct=bt(ct,e,t,n,r,i),1;case"dragenter":return ft=bt(ft,e,t,n,r,i),1;case"mouseover":return dt=bt(dt,e,t,n,r,i),1;case"pointerover":var o=i.pointerId;return ht.set(o,bt(ht.get(o)||null,e,t,n,r,i)),1;case"gotpointercapture":return o=i.pointerId,pt.set(o,bt(pt.get(o)||null,e,t,n,r,i)),1}}(o,e,t,n,r))return;mt(e,r)}xr(e,t,r,null,n)}}}function en(e,t,n,r){var i=Le(r);if(null!==(i=Kr(i))){var o=et(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=tt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xr(e,t,r,i,n),null}var tn=null,nn=null,rn=null;function on(){if(rn)return rn;for(var e=nn,t=e.length,n=("value"in tn?tn.value:tn.textContent),r=n.length,i=0;i<t&&e[i]===n[i];i++);for(var o=t-i,a=1;a<=o&&e[t-a]===n[r-a];a++);return rn=n.slice(i,1<a?1-a:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function sn(){return!0}function un(){return!1}function ln(a){function e(e,t,n,r,i){for(var o in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,a)a.hasOwnProperty(o)&&(e=a[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?sn:un,this.isPropagationStopped=un,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),e}var cn,fn,dn,qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=ln(qe),pn=g({},qe,{view:0,detail:0}),gn=ln(pn),vn=g({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(fn=dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,e.screenY-dn.screenY):cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:fn}}),yn=ln(vn),mn=ln(g({},vn,{dataTransfer:0})),bn=ln(g({},pn,{relatedTarget:0})),wn=ln(g({},qe,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=ln(g({},qe,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),En=ln(g({},qe,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function On(){return xn}var Pn=ln(g({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=ln(g({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=ln(g({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Rn=ln(g({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=ln(g({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=[9,13,27,32],In=n&&"CompositionEvent"in window,pn=null,Mn=(n&&"documentMode"in document&&(pn=document.documentMode),n&&"TextEvent"in window&&!pn),Fn=n&&(!In||pn&&8<pn&&pn<=11),jn=String.fromCharCode(32),Nn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){je(r),0<(t=Pr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function qn(e){_r(e,0)}function $n(e){if(re($r(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;function Qn(){Hn&&(Hn.detachEvent("onpropertychange",Zn),Kn=Hn=null)}function Zn(e){if("value"===e.propertyName&&$n(Kn)){var t=[];if(Wn(t,Kn,e,Le(e)),e=qn,Ve)e(t);else{Ve=!0;try{Ue(e,t)}finally{Ve=!1,We()}}}}function Jn(e,t,n){"focusin"===e?(Qn(),Kn=n,(Hn=t).attachEvent("onpropertychange",Zn)):"focusout"===e&&Qn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function tr(e,t){if("click"===e)return $n(t)}function nr(e,t){if("input"===e||"change"===e)return $n(t)}n&&(pn=n&&((qe="oninput"in document)||((vn=document.createElement("div")).setAttribute("oninput","return;"),qe="function"==typeof vn.oninput),qe),Xn=pn&&(!document.documentMode||9<document.documentMode));var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ir=Object.prototype.hasOwnProperty;function or(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ir.call(t,n[r])||!rr(e[n[r]],t[n[r]]))return!1;return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function ur(){for(var e=window,t=ie();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ie((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var cr=n&&"documentMode"in document&&document.documentMode<=11,fr=null,dr=null,hr=null,pr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;pr||null==fr||fr!==ie(r)||(r="selectionStart"in(r=fr)&&lr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&or(hr,r)||(hr=r,0<(r=Pr(dr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Ft,2);for(var vr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),yr=0;yr<vr.length;yr++)Mt.set(vr[yr],0);s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),br=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(){var e;Je.apply(this,arguments),$e&&(e=Ye,$e=!1,Ye=null,Xe||(Xe=!0,Qe=e))}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=(i=e[n]).event,i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=(l=i[a]).instance,u=l.currentTarget,l=l.listener;if(s!==o&&r.isPropagationStopped())break e;wr(r,l,u),o=s}else for(a=0;a<i.length;a++){if(s=(l=i[a]).instance,u=l.currentTarget,l=l.listener,s!==o&&r.isPropagationStopped())break e;wr(r,l,u),o=s}}}if(Xe)throw e=Qe,Xe=!1,Qe=null,e}function c(e,t){var n=Xr(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Sr(t){t[Er]||(t[Er]=!0,r.forEach(function(e){br.has(e)||kr(e,!1,t,null),kr(e,!0,t,null)}))}function kr(e,t,n,r,i){var i=4<arguments.length&&void 0!==i?i:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&br.has(e)){if("scroll"!==e)return;i|=2,o=r}n=Xr(o),r=e+"__"+(t?"capture":"bubble");n.has(r)||(t&&(i|=4),Tr(o,e,i,t),n.add(r))}function Tr(e,t,n,r){var i=Mt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Zt;break;default:i=Jt}n=i.bind(null,t,n,e),i=!Ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t?void 0:!0,r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xr(v,y,m,e,t){var b=e;if(0==(1&y)&&0==(2&y)&&null!==e)e:for(;;){if(null===e)return;var n=e.tag;if(3===n||4===n){var r=e.stateNode.containerInfo;if(r===t||8===r.nodeType&&r.parentNode===t)break;if(4===n)for(n=e.return;null!==n;){var i=n.tag;if((3===i||4===i)&&((i=n.stateNode.containerInfo)===t||8===i.nodeType&&i.parentNode===t))return;n=n.return}for(;null!==r;){if(null===(n=Kr(r)))return;if(5===(i=n.tag)||6===i){e=b=n;continue e}r=r.parentNode}}e=e.return}var o=function(){var c,f,d,e=b,t=Le(m),h=[];e:{var n=It.get(v);if(void 0!==n){var r=hn,i=v;switch(v){case"keypress":if(0===an(m))break e;case"keydown":case"keyup":r=Pn;break;case"focusin":i="focus",r=bn;break;case"focusout":i="blur",r=bn;break;case"beforeblur":case"afterblur":r=bn;break;case"click":if(2===m.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=Cn;break;case Ct:case Rt:case Lt:r=wn;break;case Dt:r=Rn;break;case"scroll":r=gn;break;case"wheel":r=Ln;break;case"copy":case"cut":case"paste":r=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=An}for(var p=!(a=0!=(4&y))&&"scroll"===v,o=a?null!==n?n+"Capture":null:n,a=[],s=e;null!==s;){var u,l=(u=s).stateNode;if(5===u.tag&&null!==l&&(u=l,null!==o&&(null!=(l=He(s,o))&&a.push(Or(s,l,u)))),p)break;s=s.return}0<a.length&&(n=new r(n,i,null,m,t),h.push({event:n,listeners:a}))}}if(0==(7&y)){if(r="mouseout"===v||"pointerout"===v,(!(n="mouseover"===v||"pointerover"===v)||0!=(16&y)||!(i=m.relatedTarget||m.fromElement)||!Kr(i)&&!i[Wr])&&(r||n)&&(n=t.window===t?t:(n=t.ownerDocument)?n.defaultView||n.parentWindow:window,r?(r=e,null!==(i=(i=m.relatedTarget||m.toElement)?Kr(i):null)&&(i!==(p=et(i))||5!==i.tag&&6!==i.tag)&&(i=null)):(r=null,i=e),r!==i)){if(a=yn,l="onMouseLeave",o="onMouseEnter",s="mouse","pointerout"!==v&&"pointerover"!==v||(a=An,l="onPointerLeave",o="onPointerEnter",s="pointer"),p=null==r?n:$r(r),u=null==i?n:$r(i),(n=new a(l,s+"leave",r,m,t)).target=p,n.relatedTarget=u,l=null,Kr(t)===e&&((a=new a(o,s+"enter",i,m,t)).target=u,a.relatedTarget=p,l=a),p=l,r&&i)e:{for(o=i,s=0,u=a=r;u;u=Ar(u))s++;for(u=0,l=o;l;l=Ar(l))u++;for(;0<s-u;)a=Ar(a),s--;for(;0<u-s;)o=Ar(o),u--;for(;s--;){if(a===o||null!==o&&a===o.alternate)break e;a=Ar(a),o=Ar(o)}a=null}else a=null;null!==r&&Cr(h,n,r,a,!1),null!==i&&null!==p&&Cr(h,p,i,a,!0)}switch("select"===(r=(n=e?$r(e):window).nodeName&&n.nodeName.toLowerCase())||"input"===r&&"file"===n.type?c=Yn:Gn(n)?Xn?c=nr:(c=er,f=Jn):!(r=n.nodeName)||"input"!==r.toLowerCase()||"checkbox"!==n.type&&"radio"!==n.type||(c=tr),(c=c&&c(v,e))?Wn(h,c,m,t):(f&&f(v,n,e),"focusout"===v&&(f=n._wrapperState)&&f.controlled&&"number"===n.type&&ce(n,"number",n.value)),f=e?$r(e):window,v){case"focusin":!Gn(f)&&"true"!==f.contentEditable||(fr=f,dr=e,hr=null);break;case"focusout":hr=dr=fr=null;break;case"mousedown":pr=!0;break;case"contextmenu":case"mouseup":case"dragend":pr=!1,gr(h,m,t);break;case"selectionchange":if(cr)break;case"keydown":case"keyup":gr(h,m,t)}if(In)e:{switch(v){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else zn?Un(v,m)&&(g="onCompositionEnd"):"keydown"===v&&229===m.keyCode&&(g="onCompositionStart");g&&(Fn&&"ko"!==m.locale&&(zn||"onCompositionStart"!==g?"onCompositionEnd"===g&&zn&&(d=on()):(nn="value"in(tn=t)?tn.value:tn.textContent,zn=!0)),0<(f=Pr(e,g)).length&&(g=new En(g,v,null,m,t),h.push({event:g,listeners:f}),d?g.data=d:null!==(d=Bn(m))&&(g.data=d))),!(d=(Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Nn=!0,jn);case"textInput":return(e=t.data)===jn&&Nn?null:e;default:return null}}:function(e,t){if(zn)return"compositionend"===e||!In&&Un(e,t)?(e=on(),rn=nn=tn=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data;default:return null}})(v,m))||0<(e=Pr(e,"onBeforeInput")).length&&(t=new En("onBeforeInput","beforeinput",null,m,t),h.push({event:t,listeners:e}),t.data=d)}_r(h,y)},a=void 0,s=void 0;if(Ge)o(a,s);else{Ge=!0;try{Ru(o,a)}finally{Ge=!1,We()}}}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=He(e,n))&&r.unshift(Or(e,o,i)),null!=(o=He(e,t))&&r.push(Or(e,o,i))),e=e.return}return r}function Ar(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function Cr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=He(n,o))&&a.unshift(Or(n,u,s)):null!=(u=He(n,o))&&a.push(Or(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Rr(){}var Lr=null,Dr=null;function Ir(e,t){switch(e){case"button":case"input":case"select":case"textarea":return t.autoFocus}}function Mr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"==typeof setTimeout?setTimeout:void 0,jr="function"==typeof clearTimeout?clearTimeout:void 0;function Nr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Br(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var zr=0;var vn=Math.random().toString(36).slice(2),Vr="__reactFiber$"+vn,Gr="__reactProps$"+vn,Wr="__reactContainer$"+vn,Hr="__reactEvents$"+vn;function Kr(e){var t=e[Vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wr]||n[Vr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Br(e);null!==e;){if(n=e[Vr])return n;e=Br(e)}return t}n=(e=n).parentNode}return null}function qr(e){return!(e=e[Vr]||e[Wr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function $r(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(j(33))}function Yr(e){return e[Gr]||null}function Xr(e){var t=e[Hr];return t=void 0===t?e[Hr]=new Set:t}var Qr=[],Zr=-1;function Jr(e){return{current:e}}function l(e){Zr<0||(e.current=Qr[Zr],Qr[Zr]=null,Zr--)}function d(e,t){Qr[++Zr]=e.current,e.current=t}var ei={},ti=Jr(ei),ni=Jr(!1),ri=ei;function ii(e,t){var n=e.type.contextTypes;if(!n)return ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function oi(e){return null!=(e=e.childContextTypes)}function ai(){l(ni),l(ti)}function si(e,t,n){if(ti.current!==ei)throw Error(j(168));d(ti,t),d(ni,n)}function ui(e,t,n){var r,i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(r in i=i.getChildContext())if(!(r in e))throw Error(j(108,J(t)||"Unknown",r));return g({},n,i)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ei,ri=ti.current,d(ti,e),d(ni,ni.current),1}function ci(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=ui(e,t,ri),r.__reactInternalMemoizedMergedChildContext=e,l(ni),l(ti),d(ti,e)):l(ni),d(ni,n)}var fi=null,di=null,hi=o.unstable_runWithPriority,pi=o.unstable_scheduleCallback,gi=o.unstable_cancelCallback,vi=o.unstable_shouldYield,qe=o.unstable_requestPaint,yi=o.unstable_now,mi=o.unstable_getCurrentPriorityLevel,bi=o.unstable_ImmediatePriority,wi=o.unstable_UserBlockingPriority,_i=o.unstable_NormalPriority,Ei=o.unstable_LowPriority,Si=o.unstable_IdlePriority,ki={},Ti=void 0!==qe?qe:function(){},xi=null,Oi=null,Pi=!1,Ai=yi(),Ci=Ai<1e4?yi:function(){return yi()-Ai};function Ri(){switch(mi()){case bi:return 99;case wi:return 98;case _i:return 97;case Ei:return 96;case Si:return 95;default:throw Error(j(332))}}function Li(e){switch(e){case 99:return bi;case 98:return wi;case 97:return _i;case 96:return Ei;case 95:return Si;default:throw Error(j(332))}}function Di(e,t){return e=Li(e),hi(e,t)}function Ii(e,t,n){return e=Li(e),pi(e,t,n)}function Mi(){var e;null!==Oi&&(e=Oi,Oi=null,gi(e)),Fi()}function Fi(){if(!Pi&&null!==xi){Pi=!0;var t=0;try{var n=xi;Di(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),xi=null}catch(e){throw null!==xi&&(xi=xi.slice(t+1)),pi(bi,Mi),e}finally{Pi=!1}}}var ji=A.ReactCurrentBatchConfig;function Ni(e,t){if(e&&e.defaultProps){for(var n in t=g({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ui=Jr(null),Bi=null,zi=null,Vi=null;function Gi(){Vi=zi=Bi=null}function Wi(e){var t=Ui.current;l(Ui),e.type._context._currentValue=t}function Hi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Ki(e,t){(Vi=zi=null)!==(e=(Bi=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(_a=!0),e.firstContext=null)}function qi(e,t){if(Vi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Vi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===zi){if(null===Bi)throw Error(j(308));zi=t,Bi.dependencies={lanes:0,firstContext:t,responders:null}}else zi=zi.next=t;return e._currentValue}var $i=!1;function Yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Xi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(e,t){var n;null!==(e=e.updateQueue)&&(null===(n=(e=e.shared).pending)?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function Ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===o?i=o=a:o=o.next=a,null!==(n=n.next));null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eo(c,f,d,h){var e,t,n,r,i=c.updateQueue,o=($i=!1,i.firstBaseUpdate),a=i.lastBaseUpdate;if(null!==(l=i.shared.pending)&&(i.shared.pending=null,t=(e=l).next,(e.next=null)===a?o=t:a.next=t,a=e,null===(n=c.alternate)||(r=(n=n.updateQueue).lastBaseUpdate)!==a&&(null===r?n.firstBaseUpdate=t:r.next=t,n.lastBaseUpdate=e)),null!==o){for(r=i.baseState,a=0,n=t=e=null;;){l=o.lane;var s=o.eventTime;if((h&l)===l){null!==n&&(n=n.next={eventTime:s,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var u=c,p=o,l=f,s=d;switch(p.tag){case 1:if("function"==typeof(u=p.payload)){r=u.call(s,r,l);break e}r=u;break e;case 3:u.flags=-4097&u.flags|64;case 0:if(null==(l="function"==typeof(u=p.payload)?u.call(s,r,l):u))break e;r=g({},r,l);break e;case 2:$i=!0}}null!==o.callback&&(c.flags|=32,null===(l=i.effects)?i.effects=[o]:l.push(o))}else s={eventTime:s,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===n?(t=n=s,e=r):n=n.next=s,a|=l;if(null===(o=o.next)){if(null===(l=i.shared.pending))break;o=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===n&&(e=r),i.baseState=e,i.firstBaseUpdate=t,i.lastBaseUpdate=n,ms|=a,c.lanes=a,c.memoizedState=r}}function to(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(j(191,i));i.call(r)}}}var no=(new i.Component).refs;function ro(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:g({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vs(),i=Gs(e),o=Qi(r,i);o.payload=t,null!=n&&(o.callback=n),Zi(e,o),Ws(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vs(),i=Gs(e),o=Qi(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),Zi(e,o),Ws(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vs(),r=Gs(e),i=Qi(n,r);i.tag=2,null!=t&&(i.callback=t),Zi(e,i),Ws(e,r,n)}};function oo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,o))}function ao(e,t,n){var r=!1,i=ei,o=t.contextType;return t=new t(n,o="object"==typeof o&&null!==o?qi(o):(i=oi(t)?ri:ti.current,(r=null!=(r=t.contextTypes))?ii(e,i):ei)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,(e.stateNode=t)._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function so(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function uo(e,t,n,r){var i=e.stateNode,o=(i.props=n,i.state=e.memoizedState,i.refs=no,Yi(e),t.contextType);"object"==typeof o&&null!==o?i.context=qi(o):(o=oi(t)?ri:ti.current,i.context=ii(e,o)),eo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ro(e,0,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&io.enqueueReplaceState(i,i.state,null),eo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var lo=Array.isArray;function co(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===no&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function fo(e,t){if("textarea"!==e.type)throw Error(j(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ho(O){function P(e,t){var n;O&&(null!==(n=e.lastEffect)?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.flags=8)}function A(e,t){if(!O)return null;for(;null!==t;)P(e,t),t=t.sibling;return null}function C(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function R(e,t){return(e=vu(e,t)).index=0,e.sibling=null,e}function L(e,t,n){return e.index=n,O?null===(n=e.alternate)||(n=n.index)<t?(e.flags=2,t):n:t}function D(e){return O&&null===e.alternate&&(e.flags=2),e}function o(e,t,n,r){return null===t||6!==t.tag?(t=wu(n,e.mode,r)).return=e:(t=R(t,n)).return=e,t}function a(e,t,n,r){return null!==t&&t.elementType===n.type?(r=R(t,n.props)).ref=co(0,t,n):(r=yu(n.type,n.key,n.props,null,e.mode,r)).ref=co(0,t,n),r.return=e,r}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=_u(n,e.mode,r)).return=e:(t=R(t,n.children||[])).return=e,t}function s(e,t,n,r,i){return null===t||7!==t.tag?(t=mu(n,e.mode,r,i)).return=e:(t=R(t,n)).return=e,t}function I(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=wu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case N:return(n=yu(t.type,t.key,t.props,null,e.mode,n)).ref=co(0,null,t),n.return=e,n;case U:return(t=_u(t,e.mode,n)).return=e,t}if(lo(t)||Y(t))return(t=mu(t,e.mode,n,null)).return=e,t;fo(e,t)}return null}function M(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case N:return n.key===i?n.type===B?s(e,t,n.props.children,r,i):a(e,t,n,r):null;case U:return n.key===i?u(e,t,n,r):null}if(lo(n)||Y(n))return null!==i?null:s(e,t,n,r,null);fo(e,n)}return null}function F(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case N:return e=e.get(null===r.key?n:r.key)||null,r.type===B?s(t,e,r.props.children,i,r.key):a(t,e,r,i);case U:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(lo(r)||Y(r))return s(t,e=e.get(n)||null,r,i,null);fo(t,r)}return null}return function(e,t,n,r){var i="object"==typeof n&&null!==n&&n.type===B&&null===n.key,c="object"==typeof(n=i?n.props.children:n)&&null!==n;if(c)switch(n.$$typeof){case N:e:{for(c=n.key,i=t;null!==i;){if(i.key===c){switch(i.tag){case 7:if(n.type!==B)break;A(e,i.sibling),(t=R(i,n.props.children)).return=e,e=t;break e;default:if(i.elementType===n.type){A(e,i.sibling),(t=R(i,n.props)).ref=co(0,i,n),t.return=e,e=t;break e}}A(e,i);break}P(e,i),i=i.sibling}e=n.type===B?((t=mu(n.props.children,e.mode,r,n.key)).return=e,t):((r=yu(n.type,n.key,n.props,null,e.mode,r)).ref=co(0,t,n),r.return=e,r)}return D(e);case U:e:{for(i=n.key;null!==t;){if(t.key===i){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){A(e,t.sibling),(t=R(t,n.children||[])).return=e,e=t;break e}A(e,t);break}P(e,t),t=t.sibling}(t=_u(n,e.mode,r)).return=e,e=t}return D(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,(t=null!==t&&6===t.tag?(A(e,t.sibling),R(t,n)):(A(e,t),wu(n,e.mode,r))).return=e,D(e=t);if(lo(n)){for(var f=e,d=t,h=n,p=r,g=null,v=null,o=d,a=d=0,s=null;null!==o&&a<h.length;a++){o.index>a?(s=o,o=null):s=o.sibling;var y=M(f,o,h[a],p);if(null===y){null===o&&(o=s);break}O&&o&&null===y.alternate&&P(f,o),d=L(y,d,a),null===v?g=y:v.sibling=y,v=y,o=s}if(a===h.length)return A(f,o),g;if(null===o){for(;a<h.length;a++)null!==(o=I(f,h[a],p))&&(d=L(o,d,a),null===v?g=o:v.sibling=o,v=o);return g}for(o=C(f,o);a<h.length;a++)null!==(s=F(o,f,a,h[a],p))&&(O&&null!==s.alternate&&o.delete(null===s.key?a:s.key),d=L(s,d,a),null===v?g=s:v.sibling=s,v=s);return O&&o.forEach(function(e){return P(f,e)}),g}if(Y(n)){var m=e,b=t,w=n,_=r,E=Y(w);if("function"!=typeof E)throw Error(j(150));if(null==(w=E.call(w)))throw Error(j(151));for(var S=E=null,u=b,k=b=0,T=null,l=w.next();null!==u&&!l.done;k++,l=w.next()){u.index>k?(T=u,u=null):T=u.sibling;var x=M(m,u,l.value,_);if(null===x){null===u&&(u=T);break}O&&u&&null===x.alternate&&P(m,u),b=L(x,b,k),null===S?E=x:S.sibling=x,S=x,u=T}if(l.done)return A(m,u),E;if(null===u){for(;!l.done;k++,l=w.next())null!==(l=I(m,l.value,_))&&(b=L(l,b,k),null===S?E=l:S.sibling=l,S=l);return E}for(u=C(m,u);!l.done;k++,l=w.next())null!==(l=F(u,m,k,l.value,_))&&(O&&null!==l.alternate&&u.delete(null===l.key?k:l.key),b=L(l,b,k),null===S?E=l:S.sibling=l,S=l);return O&&u.forEach(function(e){return P(m,e)}),E}if(c&&fo(e,n),void 0===n&&!i)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(j(152,J(e.type)||"Component"))}return A(e,t)}}var po=ho(!0),go=ho(!1),vo={},yo=Jr(vo),mo=Jr(vo),bo=Jr(vo);function wo(e){if(e===vo)throw Error(j(174));return e}function _o(e,t){switch(d(bo,t),d(mo,e),d(yo,vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:we(null,"");break;default:t=we(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}l(yo),d(yo,t)}function Eo(){l(yo),l(mo),l(bo)}function So(e){wo(bo.current);var t=wo(yo.current),n=we(t,e.type);t!==n&&(d(mo,e),d(yo,n))}function ko(e){mo.current===e&&(l(yo),l(mo))}var S=Jr(0);function To(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=null,Oo=null,Po=!1;function Ao(e,t){var n=pu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,1);default:return}}function Ro(e){if(Po){var t=Oo;if(t){var n=t;if(!Co(e,t)){if(!(t=Ur(n.nextSibling))||!Co(e,t))return e.flags=-1025&e.flags|2,Po=!1,void(xo=e);Ao(xo,n)}xo=e,Oo=Ur(t.firstChild)}else e.flags=-1025&e.flags|2,Po=!1,xo=e}}function Lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xo=e}function Do(e){if(e===xo){if(!Po)return Lo(e),Po=!0,0;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Mr(t,e.memoizedProps))for(t=Oo;t;)Ao(e,t),t=Ur(t.nextSibling);if(Lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Oo=Ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Oo=null}}else Oo=xo?Ur(e.stateNode.nextSibling):null;return 1}}function Io(){Oo=xo=null,Po=!1}var Mo=[];function Fo(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var jo=A.ReactCurrentDispatcher,No=A.ReactCurrentBatchConfig,Uo=0,k=null,Bo=null,zo=null,Vo=!1,Go=!1;function Wo(){throw Error(j(321))}function Ho(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return;return 1}}function Ko(e,t,n,r,i,o){if(Uo=o,(k=t).memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=null===e||null===e.memoizedState?ya:ma,e=n(r,i),Go){o=0;do{if(Go=!1,!(o<25))throw Error(j(301))}while(o+=1,zo=Bo=null,t.updateQueue=null,jo.current=ba,e=n(r,i),Go)}if(jo.current=va,t=null!==Bo&&null!==Bo.next,Uo=0,zo=Bo=k=null,Vo=!1,t)throw Error(j(300));return e}function qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zo?k.memoizedState=zo=e:zo=zo.next=e,zo}function $o(){e=null===Bo?null!==(e=k.alternate)?e.memoizedState:null:Bo.next;var e,t=null===zo?k.memoizedState:zo.next;if(null!==t)zo=t,Bo=e;else{if(null===e)throw Error(j(310));e={memoizedState:(Bo=e).memoizedState,baseState:Bo.baseState,baseQueue:Bo.baseQueue,queue:Bo.queue,next:null},null===zo?k.memoizedState=zo=e:zo=zo.next=e}return zo}function Yo(e,t){return"function"==typeof t?t(e):t}function Xo(e){var t=$o(),n=t.queue;if(null===n)throw Error(j(311));n.lastRenderedReducer=e;var r,i=(a=Bo).baseQueue,o=n.pending;if(null!==o&&(null!==i&&(r=i.next,i.next=o.next,o.next=r),a.baseQueue=i=o,n.pending=null),null!==i){var i=i.next,a=a.baseState,s=r=o=null,u=i;do{var c,l=u.lane}while((Uo&l)===l?(null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),a=u.eagerReducer===e?u.eagerState:e(a,u.action)):(c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null},null===s?(r=s=c,o=a):s=s.next=c,k.lanes|=l,ms|=l),null!==(u=u.next)&&u!==i);null===s?o=a:s.next=r,rr(a,t.memoizedState)||(_a=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=s,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Qo(e){var t=$o(),n=t.queue;if(null===n)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;for(var a=i=i.next;o=e(o,a.action),(a=a.next)!==i;);rr(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Zo(e,t,n){var r=(r=t._getVersion)(t._source),i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Uo&e)===e)&&(t._workInProgressVersionPrimary=r,Mo.push(t))),e)return n(t._source);throw Mo.push(t),Error(j(350))}function Jo(e,o,a,t){var s=cs;if(null===s)throw Error(j(349));var c=o._getVersion,f=c(o._source),n=jo.current,d=(r=n.useState(function(){return Zo(s,o,a)}))[1],u=r[0],r=zo,l=(i=e.memoizedState).refs,h=l.getSnapshot,p=i.source,i=i.subscribe,g=k;return e.memoizedState={refs:l,source:o,subscribe:t},n.useEffect(function(){l.getSnapshot=a,l.setSnapshot=d;var e=c(o._source);if(!rr(f,e)){e=a(o._source),rr(u,e)||(d(e),e=Gs(g),s.mutableReadLanes|=e&s.pendingLanes),e=s.mutableReadLanes,s.entangledLanes|=e;for(var t=s.entanglements,n=e;0<n;){var r=31-Ht(n),i=1<<r;t[r]|=e,n&=~i}}},[a,o,t]),n.useEffect(function(){return t(o._source,function(){var e=l.getSnapshot,t=l.setSnapshot;try{t(e(o._source));var n=Gs(g);s.mutableReadLanes|=n&s.pendingLanes}catch(e){t(function(){throw e})}})},[o,t]),rr(h,a)&&rr(p,o)&&rr(i,t)||((e={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:u}).dispatch=d=ga.bind(null,k,e),r.queue=e,r.baseQueue=null,u=Zo(s,o,a),r.memoizedState=r.baseState=u),u}function ea(e,t,n){return Jo($o(),e,t,n)}function ta(e){var t=qo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e}).dispatch=ga.bind(null,k,e),[t.memoizedState,e]}function na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=k.updateQueue)?(k.updateQueue=t={lastEffect:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function ra(e){return qo().memoizedState=e={current:e}}function ia(){return $o().memoizedState}function oa(e,t,n,r){var i=qo();k.flags|=e,i.memoizedState=na(1|t,n,void 0,void 0===r?null:r)}function aa(e,t,n,r){var i=$o(),o=(r=void 0===r?null:r,void 0);if(null!==Bo){var a=Bo.memoizedState,o=a.destroy;if(null!==r&&Ho(r,a.deps))return void na(t,n,o,r)}k.flags|=e,i.memoizedState=na(1|t,n,o,r)}function sa(e,t){return oa(516,4,e,t)}function ua(e,t){return aa(516,4,e,t)}function la(e,t){return aa(4,2,e,t)}function ca(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function fa(e,t,n){return n=null!=n?n.concat([e]):null,aa(4,2,ca.bind(null,t,e),n)}function da(){}function ha(e,t){var n=$o(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&Ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=$o(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&Ho(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ga(e,t,n){var r=Vs(),i=Gs(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===k||null!==a&&a===k)Go=Vo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,rr(u,s))return}catch(e){}Ws(e,i,r)}}var va={readContext:qi,useCallback:Wo,useContext:Wo,useEffect:Wo,useImperativeHandle:Wo,useLayoutEffect:Wo,useMemo:Wo,useReducer:Wo,useRef:Wo,useState:Wo,useDebugValue:Wo,useDeferredValue:Wo,useTransition:Wo,useMutableSource:Wo,useOpaqueIdentifier:Wo,unstable_isNewReconciler:!1},ya={readContext:qi,useCallback:function(e,t){return qo().memoizedState=[e,void 0===t?null:t],e},useContext:qi,useEffect:sa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,oa(4,2,ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=qo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,k,e),[r.memoizedState,e]},useRef:ra,useState:ta,useDebugValue:da,useDeferredValue:function(t){var e=ta(t),n=e[0],r=e[1];return sa(function(){var e=No.transition;No.transition=1;try{r(t)}finally{No.transition=e}},[t]),n},useTransition:function(){var e=ta(!1),t=e[0];return ra(e=function(t,n){var e=Ri();Di(e<98?98:e,function(){t(!0)}),Di(97<e?97:e,function(){var e=No.transition;No.transition=1;try{t(!1),n()}finally{No.transition=e}})}.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=qo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Jo(r,e,t,n)},useOpaqueIdentifier:function(){var e,t,n;return Po?(e=!1,n={$$typeof:W,toString:n=function(){throw e||(e=!0,t("r:"+(zr++).toString(36))),Error(j(355))},valueOf:n},t=ta(n)[1],0==(2&k.mode)&&(k.flags|=516,na(5,function(){t("r:"+(zr++).toString(36))},void 0,null))):ta(n="r:"+(zr++).toString(36)),n},unstable_isNewReconciler:!1},ma={readContext:qi,useCallback:ha,useContext:qi,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:la,useMemo:pa,useReducer:Xo,useRef:ia,useState:function(){return Xo(Yo)},useDebugValue:da,useDeferredValue:function(t){var e=Xo(Yo),n=e[0],r=e[1];return ua(function(){var e=No.transition;No.transition=1;try{r(t)}finally{No.transition=e}},[t]),n},useTransition:function(){var e=Xo(Yo)[0];return[ia().current,e]},useMutableSource:ea,useOpaqueIdentifier:function(){return Xo(Yo)[0]},unstable_isNewReconciler:!1},ba={readContext:qi,useCallback:ha,useContext:qi,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:la,useMemo:pa,useReducer:Qo,useRef:ia,useState:function(){return Qo(Yo)},useDebugValue:da,useDeferredValue:function(t){var e=Qo(Yo),n=e[0],r=e[1];return ua(function(){var e=No.transition;No.transition=1;try{r(t)}finally{No.transition=e}},[t]),n},useTransition:function(){var e=Qo(Yo)[0];return[ia().current,e]},useMutableSource:ea,useOpaqueIdentifier:function(){return Qo(Yo)[0]},unstable_isNewReconciler:!1},wa=A.ReactCurrentOwner,_a=!1;function Ea(e,t,n,r){t.child=null===e?go(t,null,n,r):po(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return Ki(t,i),r=Ko(e,t,n,r,o,i),null===e||_a?(t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ba(e,t,i))}function ka(e,t,n,r,i,o){var a;return null===e?"function"!=typeof(a=n.type)||gu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=yu(n.type,null,r,t,t.mode,o)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=a,Ta(e,t,a,r,i,o)):(a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)?Ba(e,t,o):(t.flags|=1,(e=vu(a,r)).ref=t.ref,(e.return=t).child=e))}function Ta(e,t,n,r,i,o){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(_a=!1,0==(o&i))return t.lanes=e.lanes,Ba(e,t,o);0!=(16384&e.flags)&&(_a=!0)}return Pa(e,t,n,r,o)}function xa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Zs(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Zs(0,e),null;t.memoizedState={baseLanes:0},Zs(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Zs(0,r);return Ea(e,t,i,n),t.child}function Oa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Pa(e,t,n,r,i){var o=ii(t,oi(n)?ri:ti.current);return Ki(t,i),n=Ko(e,t,n,r,o,i),null===e||_a?(t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ba(e,t,i))}function Aa(e,t,n,r,c){var f,i,o,a,d,h,s,u,p,l;return oi(n)?(f=!0,li(t)):f=!1,Ki(t,c),r=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ao(t,n,r),uo(t,n,r,c),!0):null===e?(i=t.stateNode,o=t.memoizedProps,i.props=o,u=i.context,a="object"==typeof(a=n.contextType)&&null!==a?qi(a):ii(t,a=oi(n)?ri:ti.current),(h="function"==typeof(d=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||o===r&&u===a||so(0,i,r,a),$i=!1,s=t.memoizedState,i.state=s,eo(t,r,i,c),u=t.memoizedState,o!==r||s!==u||ni.current||$i?("function"==typeof d&&(ro(t,0,d,r),u=t.memoizedState),(o=$i||oo(t,n,o,r,s,u,a))?(h||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=a,o):("function"==typeof i.componentDidMount&&(t.flags|=4),!1)):(i=t.stateNode,Xi(e,t),o=t.memoizedProps,a=t.type===t.elementType?o:Ni(t.type,o),i.props=a,h=t.pendingProps,s=i.context,u="object"==typeof(u=n.contextType)&&null!==u?qi(u):ii(t,u=oi(n)?ri:ti.current),(d="function"==typeof(p=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||o===h&&s===u||so(0,i,r,u),$i=!1,s=t.memoizedState,i.state=s,eo(t,r,i,c),l=t.memoizedState,o!==h||s!==l||ni.current||$i?("function"==typeof p&&(ro(t,0,p,r),l=t.memoizedState),(a=$i||oo(t,n,a,r,s,l,u))?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,l,u),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,l,u)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,a):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&s===e.memoizedState||(t.flags|=256),!1)),Ca(e,t,n,r,f,c)}function Ca(e,t,n,r,i,o){Oa(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&ci(t,n,!1),Ba(e,t,o);r=t.stateNode,wa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=po(t,e.child,null,o),t.child=po(t,null,s,o)):Ea(e,t,s,o),t.memoizedState=r.state,i&&ci(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&si(0,t.context,!1),_o(e,t.containerInfo)}var La={dehydrated:null,retryLane:0};function Da(e,t,n){var r,i=t.pendingProps,o=S.current,a=!1;return(r=!(r=0!=(64&t.flags))?(null===e||null!==e.memoizedState)&&0!=(2&o):r)?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),d(S,1&o),null===e?(void 0!==i.fallback&&Ro(t),e=i.children,o=i.fallback,a?(e=Ia(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=La,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ia(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=La,t.lanes=33554432,e):((n=bu({mode:"visible",children:e},t.mode,n,null)).return=t).child=n):(e.memoizedState,a?(i=Fa(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=La,i):(n=Ma(e,t,i.children,n),t.memoizedState=null,n))}function Ia(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=bu(t,i,0,null),n=mu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ma(e,t,n,r){var i=e.child;return e=i.sibling,n=vu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,(n.sibling=null)!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fa(e,t,n,r,i){var o=t.mode,a=e.child,s=(e=a.sibling,{mode:"hidden",children:n});return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,(t.lastEffect=a).nextEffect=null):t.firstEffect=t.lastEffect=null):n=vu(a,s),null!==e?r=vu(e,r):(r=mu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ja(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Hi(e.return,t)}function Na(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ua(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ea(e,t,r.children,n),0!=(2&(r=S.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ja(e,n);else if(19===e.tag)ja(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(d(S,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===To(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Na(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(i=t.child,t.child=n=null;null!==i;){if(null!==(e=i.alternate)&&null===To(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Na(t,!0,n,null,o,t.lastEffect);break;case"together":Na(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ba(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ms|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(j(153));if(null!==t.child){for(n=vu(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function za(e,t){if(!Po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Va(e,t){try{for(var n="",r=t;n+=function(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 22:return e=Z(e.type._render,!1);case 1:return e=Z(e.type,!0);default:return""}}(r),r=r.return;);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Ga(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wo(yo.current);var o,a=null;switch(n){case"input":i=oe(e,i),r=oe(e,r),a=[];break;case"option":i=fe(e,i),r=fe(e,r),a=[];break;case"select":i=g({},i,{value:void 0}),r=g({},r,{value:void 0}),a=[];break;case"textarea":i=he(e,i),r=he(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(l in Ce(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(n=n||{},n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(h.hasOwnProperty(l)?a=a||[]:(a=a||[]).push(l,null));for(l in r){var u=r[l],s=null!=i?i[l]:void 0;if(r.hasOwnProperty(l)&&u!==s&&(null!=u||null!=s))if("style"===l)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n=n||{},n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n=n||{},n[o]=u[o])}else n||(a=a||[]).push(l,n),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(h.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&c("scroll",e),a||s===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===W?u.toString():(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ka=function(e,t,n,r){n!==r&&(t.flags|=4)},qa="function"==typeof WeakMap?WeakMap:Map;function $a(e,t,n){(n=Qi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xs||(xs=!0,Os=r),Ga(0,t)},n}function Ya(e,t,n){(n=Qi(-1,n)).tag=3;var r,i=e.type.getDerivedStateFromError,e=("function"==typeof i&&(r=t.value,n.payload=function(){return Ga(0,t),i(r)}),e.stateNode);return null!==e&&"function"==typeof e.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ps?Ps=new Set([this]):Ps.add(this),Ga(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Xa="function"==typeof WeakSet?WeakSet:Set;function Qa(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){fu(t,e)}else e.current=null}function Za(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{}while(3==(3&e.tag)&&(i=e.create,e.destroy=i()),(e=e.next)!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e,i=r.next;0!=(4&(r=r.tag))&&0!=(1&r)&&(uu(n,e),r=n,o=e,Ls.push(o,r),As||(As=!0,Ii(97,function(){return su(),null}))),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Ni(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&to(0,t,e));case 3:if(null!==(t=n.updateQueue)){if((e=null)!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}to(0,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ir(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(null!==(n=n.alternate)&&(null!==(n=n.memoizedState)&&(null!==(n=n.dehydrated)&&kt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}var o;throw Error(j(163))}function Ja(e,t){for(var n=e;;){if(5===n.tag){var r,i=n.stateNode;t?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=n.stateNode,r=null!=(r=n.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,i.style.display=Oe("display",r))}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n=(n.child.return=n).child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function es(e,t){if(di&&"function"==typeof di.onCommitFiberUnmount)try{di.onCommitFiberUnmount(fi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=(i=n).destroy,i=i.tag;if(void 0!==r)if(0!=(4&i))uu(t,n);else{i=t;try{r()}catch(e){fu(i,e)}}}while((n=n.next)!==e)}break;case 1:if(Qa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){fu(t,e)}break;case 5:Qa(t);break;case 4:is(e,t)}}function ts(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ns(e){return 5===e.tag||3===e.tag||4===e.tag}function rs(e){e:{for(var t=e.return;null!==t;){if(ns(t))break e;t=t.return}throw Error(j(160))}var n=t,t=n.stateNode;switch(n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(j(161))}16&n.flags&&(ke(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ns(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.flags)){n=n.stateNode;break e}}(r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?(8===r.nodeType?r.parentNode:r).insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!=r||null!==n.onclick||(n.onclick=Rr));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}:function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling})(e,n,t)}function is(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(j(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,u=s;;)if(es(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,s=i.stateNode,(8===a.nodeType?a.parentNode:a).removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i=(i.child.return=i).child;continue}}else if(es(e,i),null!==i.child){i=(i.child.return=i).child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function os(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null))for(var r=n=n.next;3==(3&r.tag)&&(e=r.destroy,(r.destroy=void 0)!==e&&e()),(r=r.next)!==n;);return;case 1:return;case 5:if(null!=(n=t.stateNode)){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,o=(e=t.type,t.updateQueue);if((t.updateQueue=null)!==o){for(n[Gr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&se(n,r),Re(e,i),t=Re(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?Pe(n,s):"dangerouslySetInnerHTML"===a?Se(n,s):"children"===a?ke(n,s):O(n,a,s,t)}switch(e){case"input":ue(n,r);break;case"textarea":ge(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?de(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?de(n,!!r.multiple,r.defaultValue,!0):de(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(j(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Es=Ci(),Ja(t.child,!0)),void as(t);case 19:return void as(t);case 17:return;case 23:case 24:return void Ja(t,null!==t.memoizedState)}throw Error(j(163))}function as(n){var r,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(r=n.stateNode)&&(r=n.stateNode=new Xa),e.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),(t=0)===t&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ri()?1:2:0===(t=Vt(62914560&~(Ns=0===Ns?ys:Ns)))&&(t=4194304)),n=Vs(),null!==(e=Hs(e,t))&&(Wt(e,t,n),Ks(e,n))}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))}))}var ss=Math.ceil,us=A.ReactCurrentDispatcher,ls=A.ReactCurrentOwner,T=0,cs=null,fs=null,ds=0,hs=0,ps=Jr(0),gs=0,vs=null,ys=0,ms=0,bs=0,ws=0,_s=null,Es=0,Ss=1/0;function ks(){Ss=Ci()+500}var Ts,x=null,xs=!1,Os=null,Ps=null,As=!1,Cs=null,Rs=90,Ls=[],Ds=[],Is=null,Ms=0,Fs=null,js=-1,Ns=0,Us=0,Bs=null,zs=!1;function Vs(){return 0!=(48&T)?Ci():-1!==js?js:js=Ci()}function Gs(e){return 0==(2&(e=e.mode))?1:0==(4&e)?99===Ri()?1:2:(0===Ns&&(Ns=ys),0!==ji.transition?(0!==Us&&(Us=null!==_s?_s.pendingLanes:0),e=Ns,t=4186112&~Us,0!==(t&=-t)||0===(t=(e=4186112&~e)&-e)&&(t=8192),t):(e=Ri(),0!=(4&T)&&98===e?zt(12,Ns):zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ns)));var t}function Ws(e,t,n){if(50<Ms)throw Ms=0,Fs=null,Error(j(185));var r;null!==(e=Hs(e,t))&&(Wt(e,t,n),e===cs&&(bs|=t,4===gs&&$s(e,ds)),r=Ri(),1===t?0!=(8&T)&&0==(48&T)?Ys(e):(Ks(e,n),0===T&&(ks(),Mi())):(0==(4&T)||98!==r&&99!==r||(null===Is?Is=new Set([e]):Is.add(e)),Ks(e,n)),_s=e)}function Hs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function Ks(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,c=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a,s=31-Ht(o),u=1<<s,l=i[s];-1===l?0!=(u&r)&&0==(u&c)||(l=t,Nt(u),a=f,i[s]=10<=a?l+250:6<=a?l+5e3:-1):l<=t&&(e.expiredLanes|=u),o&=~u}if(r=Ut(e,e===cs?ds:0),t=f,0===r)null!==n&&(n!==ki&&gi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ki&&gi(n)}n=15===t?(n=Ys.bind(null,e),null===xi?(xi=[n],Oi=pi(bi,Fi)):xi.push(n),ki):14===t?Ii(99,Ys.bind(null,e)):Ii(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(j(358,e))}}(t),qs.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function qs(t){if(js=-1,(Us=Ns=0)!=(48&T))throw Error(j(327));var e=t.callbackNode;if(su()&&t.callbackNode!==e)return null;var n=Ut(t,t===cs?ds:0);if(0===n)return null;var r=n,i=T,o=(T|=16,nu());for(cs===t&&ds===r||(ks(),eu(t,r));;)try{for(;null!==fs&&!vi();)iu(fs);break}catch(e){tu(t,e)}if(Gi(),us.current=o,T=i,r=null!==fs?0:(cs=null,ds=0,gs),0!=(ys&bs))eu(t,0);else if(0!==r){if(2===r&&(T|=64,t.hydrate&&(t.hydrate=!1,Nr(t.containerInfo)),0!==(n=Bt(t))&&(r=ru(t,n))),1===r)throw e=vs,eu(t,0),$s(t,n),Ks(t,Ci()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(j(345));case 2:au(t);break;case 3:if($s(t,n),(62914560&n)===n&&10<(r=Es+500-Ci())){if(0!==Ut(t,0))break;if(((i=t.suspendedLanes)&n)!==n){Vs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fr(au.bind(null,t),r);break}au(t);break;case 4:if($s(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-Ht(n),o=1<<a;i<(a=r[a])&&(i=a),n&=~o}if(n=i,10<(n=((n=Ci()-n)<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:1960*ss(n/1960))-n)){t.timeoutHandle=Fr(au.bind(null,t),n);break}au(t);break;case 5:au(t);break;default:throw Error(j(329))}}return Ks(t,Ci()),t.callbackNode===e?qs.bind(null,t):null}function $s(e,t){for(t=t&~ws&~bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function Ys(e){if(0!=(48&T))throw Error(j(327));var t,n;if(su(),e===cs&&0!=(e.expiredLanes&ds)?(n=ru(e,t=ds),0!=(ys&bs)&&(n=ru(e,t=Ut(e,t)))):n=ru(e,t=Ut(e,0)),0!==e.tag&&2===n&&(T|=64,e.hydrate&&(e.hydrate=!1,Nr(e.containerInfo)),0!==(t=Bt(e))&&(n=ru(e,t))),1===n)throw n=vs,eu(e,0),$s(e,t),Ks(e,Ci()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,au(e),Ks(e,Ci()),null}function Xs(e,t){var n=T;T|=1;try{return e(t)}finally{0===(T=n)&&(ks(),Mi())}}function Qs(e,t){var n=T;T=-2&T|8;try{return e(t)}finally{0===(T=n)&&(ks(),Mi())}}function Zs(e,t){d(ps,hs),hs|=t,ys|=t}function Js(){hs=ps.current,l(ps)}function eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,jr(n)),null!==fs)for(n=fs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ai();break;case 3:Eo(),l(ni),l(ti),Fo();break;case 5:ko(r);break;case 4:Eo();break;case 13:case 19:l(S);break;case 10:Wi(r);break;case 23:case 24:Js()}n=n.return}fs=vu((cs=e).current,null),ds=hs=ys=t,vs=null,ws=bs=ms=gs=0}function tu(c,t){do{var n=fs;try{if(Gi(),jo.current=va,Vo){for(var e=k.memoizedState;null!==e;){var f=e.queue;null!==f&&(f.pending=null),e=e.next}Vo=!1}if(Uo=0,zo=Bo=k=null,Go=!1,(ls.current=null)===n||null===n.return){gs=1,vs=t,fs=null;break}e:{var r=c,d=n.return,i=t;if(t=ds,(u=n).flags|=2048,(u.firstEffect=u.lastEffect=null)!==i&&"object"==typeof i&&"function"==typeof i.then){var o,h,p,g,a=i,v=(0==(2&u.mode)&&((o=u.alternate)?(u.updateQueue=o.updateQueue,u.memoizedState=o.memoizedState,u.lanes=o.lanes):(u.updateQueue=null,u.memoizedState=null)),0!=(1&S.current)),s=d;do{if(g=(g=13===s.tag)?null!==(h=s.memoizedState)?null!==h.dehydrated:void 0!==(p=s.memoizedProps).fallback&&(!0!==p.unstable_avoidThisFallback||!v):g){var y,m,b=s.updateQueue;if(null===b?((y=new Set).add(a),s.updateQueue=y):b.add(a),0==(2&s.mode)){s.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag&&(null===u.alternate?u.tag=17:((m=Qi(-1,1)).tag=2,Zi(u,m))),u.lanes|=1;break e}var w,i=void 0,u=t,l=r.pingCache;null===l?(l=r.pingCache=new qa,i=new Set,l.set(a,i)):void 0===(i=l.get(a))&&(i=new Set,l.set(a,i)),i.has(u)||(i.add(u),w=du.bind(null,r,a,u),a.then(w,w)),s.flags|=4096,s.lanes=t;break e}}while(null!==(s=s.return));i=Error((J(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==gs&&(gs=2),i=Va(i,u),s=d;do{switch(s.tag){case 3:r=i;s.flags|=4096,t&=-t,s.lanes|=t,Ji(s,$a(0,r,t));break e;case 1:r=i;var _=s.type,E=s.stateNode;if(0==(64&s.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ps||!Ps.has(E)))){s.flags|=4096,t&=-t,s.lanes|=t,Ji(s,Ya(s,r,t));break e}}}while(null!==(s=s.return))}ou(n)}catch(e){t=e,fs===n&&null!==n&&(fs=n=n.return);continue}break}while(1)}function nu(){var e=us.current;return us.current=va,null===e?va:e}function ru(t,e){var n=T,r=(T|=16,nu());for(cs===t&&ds===e||eu(t,e);;)try{for(;null!==fs;)iu(fs);break}catch(e){tu(t,e)}if(Gi(),T=n,us.current=r,null!==fs)throw Error(j(261));return cs=null,ds=0,gs}function iu(e){var t=Ts(e.alternate,e,hs);e.memoizedProps=e.pendingProps,null===t?ou(e):fs=t,ls.current=null}function ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return oi(t.type)&&ai(),null;case 3:return Eo(),l(ni),l(ti),Fo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Do(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ko(t);var i=wo(bo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ha(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(j(166));return null}if(e=wo(yo.current),Do(t)){r=t.stateNode,n=t.type;var o,a=t.memoizedProps;switch(r[Vr]=t,r[Gr]=a,n){case"dialog":c("cancel",r),c("close",r);break;case"iframe":case"object":case"embed":c("load",r);break;case"video":case"audio":for(e=0;e<mr.length;e++)c(mr[e],r);break;case"source":c("error",r);break;case"img":case"image":case"link":c("error",r),c("load",r);break;case"details":c("toggle",r);break;case"input":ae(r,a),c("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},c("invalid",r);break;case"textarea":pe(r,a),c("invalid",r)}for(o in Ce(n,a),e=null,a)a.hasOwnProperty(o)&&(i=a[o],"children"===o?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):h.hasOwnProperty(o)&&null!=i&&"onScroll"===o&&c("scroll",r));switch(n){case"input":ne(r),le(r,a,!0);break;case"textarea":ne(r),ve(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Rr)}r=e,null!==(t.updateQueue=r)&&(t.flags|=4)}else{switch(o=9===i.nodeType?i:i.ownerDocument,(e=e===ye?be(n):e)===ye?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Vr]=t,e[Gr]=r,Wa(e,t),t.stateNode=e,o=Re(n,r),n){case"dialog":c("cancel",e),c("close",e),i=r;break;case"iframe":case"object":case"embed":c("load",e),i=r;break;case"video":case"audio":for(i=0;i<mr.length;i++)c(mr[i],e);i=r;break;case"source":c("error",e),i=r;break;case"img":case"image":case"link":c("error",e),c("load",e),i=r;break;case"details":c("toggle",e),i=r;break;case"input":ae(e,r),i=oe(e,r),c("invalid",e);break;case"option":i=fe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=g({},r,{value:void 0}),c("invalid",e);break;case"textarea":pe(e,r),i=he(e,r),c("invalid",e);break;default:i=r}Ce(n,i);var s,u=i;for(a in u)u.hasOwnProperty(a)&&(s=u[a],"style"===a?Pe(e,s):"dangerouslySetInnerHTML"===a?null!=(s=s?s.__html:void 0)&&Se(e,s):"children"===a?"string"==typeof s?"textarea"===n&&""===s||ke(e,s):"number"==typeof s&&ke(e,""+s):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(h.hasOwnProperty(a)?null!=s&&"onScroll"===a&&c("scroll",e):null!=s&&O(e,a,s,o)));switch(n){case"input":ne(e),le(e,r,!1);break;case"textarea":ne(e),ve(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ee(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?de(e,!!r.multiple,a,!1):null!=r.defaultValue&&de(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Rr)}Ir(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(j(166));n=wo(bo.current),wo(yo.current),Do(t)?(r=t.stateNode,n=t.memoizedProps,r[Vr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Vr]=t).stateNode=r}return null;case 13:return(l(S),r=t.memoizedState,0!=(64&t.flags))?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Do(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&S.current)?0===gs&&(gs=3):(0!==gs&&3!==gs||(gs=4),null===cs||0==(134217727&ms)&&0==(134217727&bs)||$s(cs,ds))),(r||n)&&(t.flags|=4),null);case 4:return Eo(),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return Wi(t),null;case 17:return oi(t.type)&&ai(),null;case 19:if(l(S),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(o=r.rendering))if(a)za(r,!1);else{if(0!==gs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=To(e))){for(t.flags|=64,za(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,(a.lastEffect=null)===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return d(S,1&S.current|2),t.child}e=e.sibling}null!==r.tail&&Ci()>Ss&&(t.flags|=64,za(r,!(a=!0)),t.lanes=33554432)}else{if(!a)if(null!==(e=To(o))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),za(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!Po)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ci()-r.renderingStartTime>Ss&&1073741824!==n&&(t.flags|=64,za(r,!(a=!0)),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ci(),n.sibling=null,t=S.current,d(S,a?1&t|2:1&t),n):null;case 23:case 24:return Js(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(j(156,t.tag))}(n,t,hs)))return void(fs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&hs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=function(e){switch(e.tag){case 1:oi(e.type)&&ai();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Eo(),l(ni),l(ti),Fo(),0!=(64&(t=e.flags)))throw Error(j(285));return e.flags=-4097&t|64,e;case 5:return ko(e),null;case 13:return l(S),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return l(S),null;case 4:return Eo(),null;case 10:return Wi(e),null;case 23:case 24:return Js(),null;default:return null}}(t)))return n.flags&=2047,void(fs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(fs=t)}while(fs=t=e,null!==t);0===gs&&(gs=5)}function au(e){var t=Ri();return Di(99,function(e,c){for(;su(),null!==Cs;);if(0!=(48&T))throw Error(j(327));var t=e.finishedWork;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(j(177));e.callbackNode=null;var f=t.lanes|t.childLanes,d=f,n=e.pendingLanes&~d;e.pendingLanes=d,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=d,e.mutableReadLanes&=d,e.entangledLanes&=d,d=e.entanglements;for(var h,r=e.eventTimes,i=e.expirationTimes;0<n;){var p=31-Ht(n),o=1<<p;d[p]=0,r[p]=-1,i[p]=-1,n&=~o}if(null!==Is&&0==(24&f)&&Is.has(e)&&Is.delete(e),e===cs&&(fs=cs=null,ds=0),f=1<t.flags?null!==t.lastEffect?(t.lastEffect.nextEffect=t,t.firstEffect):t:t.firstEffect,null!==f){if(d=T,T|=32,ls.current=null,Lr=Xt,lr(r=ur())){if("selectionStart"in r)i={start:r.selectionStart,end:r.selectionEnd};else e:if(i=(i=r.ownerDocument)&&i.defaultView||window,(o=i.getSelection&&i.getSelection())&&0!==o.rangeCount){i=o.anchorNode,n=o.anchorOffset,p=o.focusNode,o=o.focusOffset;try{i.nodeType,p.nodeType}catch(e){i=null;break e}var g=0,v=-1,y=-1,m=0,b=0,a=r,w=null;t:for(;;){for(;a!==i||0!==n&&3!==a.nodeType||(v=g+n),a!==p||0!==o&&3!==a.nodeType||(y=g+o),3===a.nodeType&&(g+=a.nodeValue.length),null!==(h=a.firstChild);)w=a,a=h;for(;;){if(a===r)break t;if(w===i&&++m===n&&(v=g),w===p&&++b===o&&(y=g),null!==(h=a.nextSibling))break;w=(a=w).parentNode}a=h}i=-1===v||-1===y?null:{start:v,end:y}}else i=null;i=i||{start:0,end:0}}else i=null;Bs=null,zs=Xt=!(Dr={focusedElem:r,selectionRange:i}),x=f;do{try{!function(){for(;null!==x;){var e=x.alternate,t=(zs||null===Bs||(0!=(8&x.flags)?it(x,Bs)&&(zs=!0):13===x.tag&&function(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}(e,x)&&it(x,Bs)&&(zs=!0)),x.flags);0!=(256&t)&&function(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:var n,r;return 256&t.flags&&null!==e&&(n=e.memoizedProps,r=e.memoizedState,t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ni(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t);case 3:return 256&t.flags&&Nr(t.stateNode.containerInfo);case 5:case 6:case 4:case 17:return}throw Error(j(163))}(e,x),0==(512&t)||As||(As=!0,Ii(97,function(){return su(),null})),x=x.nextEffect}}()}catch(e){if(null===x)throw Error(j(330));fu(x,e),x=x.nextEffect}}while(null!==x);Bs=null,x=f;do{try{for(r=e;null!==x;){var s,u,l=x.flags;switch(16&l&&ke(x.stateNode,""),128&l&&(null===(s=x.alternate)||null!==(u=s.ref)&&("function"==typeof u?u(null):u.current=null)),1038&l){case 2:rs(x),x.flags&=-3;break;case 6:rs(x),x.flags&=-3,os(x.alternate,x);break;case 1024:x.flags&=-1025;break;case 1028:x.flags&=-1025,os(x.alternate,x);break;case 4:os(x.alternate,x);break;case 8:is(r,i=x);var _=i.alternate;ts(i),null!==_&&ts(_)}x=x.nextEffect}}catch(e){if(null===x)throw Error(j(330));fu(x,e),x=x.nextEffect}}while(null!==x);if(u=Dr,s=ur(),l=u.focusedElem,r=u.selectionRange,s!==l&&l&&l.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(l.ownerDocument.documentElement,l)){null!==r&&lr(l)&&(s=r.start,void 0===(u=r.end)&&(u=s),"selectionStart"in l?(l.selectionStart=s,l.selectionEnd=Math.min(u,l.value.length)):(u=(s=l.ownerDocument||document)&&s.defaultView||window).getSelection&&(u=u.getSelection(),i=l.textContent.length,_=Math.min(r.start,i),r=void 0===r.end?_:Math.min(r.end,i),!u.extend&&r<_&&(i=r,r=_,_=i),i=sr(l,_),n=sr(l,r),i&&n&&(1!==u.rangeCount||u.anchorNode!==i.node||u.anchorOffset!==i.offset||u.focusNode!==n.node||u.focusOffset!==n.offset)&&((s=s.createRange()).setStart(i.node,i.offset),u.removeAllRanges(),r<_?(u.addRange(s),u.extend(n.node,n.offset)):(s.setEnd(n.node,n.offset),u.addRange(s))))),s=[];for(u=l;u=u.parentNode;)1===u.nodeType&&s.push({element:u,left:u.scrollLeft,top:u.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<s.length;l++)(u=s[l]).element.scrollLeft=u.left,u.element.scrollTop=u.top}Xt=!!Lr,Dr=Lr=null,e.current=t,x=f;do{try{for(l=e;null!==x;){var E,S,k=x.flags;36&k&&Za(l,x.alternate,x),128&k&&(s=void 0,null!==(E=x.ref)&&(S=x.stateNode,x.tag,s=S,"function"==typeof E?E(s):E.current=s)),x=x.nextEffect}}catch(e){if(null===x)throw Error(j(330));fu(x,e),x=x.nextEffect}}while(null!==x);x=null,Ti(),T=d}else e.current=t;if(As)As=!1,Cs=e,Rs=c;else for(x=f;null!==x;)c=x.nextEffect,x.nextEffect=null,8&x.flags&&((k=x).sibling=null,k.stateNode=null),x=c;if(0===(f=e.pendingLanes)&&(Ps=null),1===f?e===Fs?Ms++:(Ms=0,Fs=e):Ms=0,t=t.stateNode,di&&"function"==typeof di.onCommitFiberRoot)try{di.onCommitFiberRoot(fi,t,void 0,64==(64&t.current.flags))}catch(e){}if(Ks(e,Ci()),xs)throw xs=!1,e=Os,Os=null,e;return 0!=(8&T)||Mi(),null}.bind(null,e,t)),null}function su(){var e;return 90!==Rs&&(e=97<Rs?97:Rs,Rs=90,Di(e,lu))}function uu(e,t){Ds.push(t,e),As||(As=!0,Ii(97,function(){return su(),null}))}function lu(){if(null===Cs)return!1;var e=Cs;if(Cs=null,0!=(48&T))throw Error(j(331));var t=T,n=(T|=32,Ds);Ds=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(j(330));fu(o,e)}}for(n=Ls,Ls=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===o)throw Error(j(330));fu(o,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return T=t,Mi(),!0}function cu(e,t,n){Zi(e,t=$a(0,t=Va(n,t),1)),t=Vs(),null!==(e=Hs(e,1))&&(Wt(e,1,t),Ks(e,t))}function fu(e,t){if(3===e.tag)cu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){cu(n,e,t);break}if(1===n.tag){var r,i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ps||!Ps.has(i))){if(Zi(n,Ya(n,e=Va(t,e),1)),r=Vs(),null!==(n=Hs(n,1)))Wt(n,1,r),Ks(n,r);else if("function"==typeof i.componentDidCatch&&(null===Ps||!Ps.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Vs(),e.pingedLanes|=e.suspendedLanes&n,cs===e&&(ds&n)===n&&(4===gs||3===gs&&(62914560&ds)===ds&&Ci()-Es<500?eu(e,0):ws|=n),Ks(e,t)}function hu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function pu(e,t,n,r){return new hu(e,t,n,r)}function gu(e){return(e=e.prototype)&&e.isReactComponent}function vu(e,t){var n=e.alternate;return null===n?((n=pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yu(e,t,n,r,i,o){var a=2;if("function"==typeof(r=e))gu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case B:return mu(n.children,i,o,t);case H:a=8,i|=16;break;case C:a=8,i|=1;break;case R:return(e=pu(12,n,t,8|i)).elementType=R,e.type=R,e.lanes=o,e;case M:return(e=pu(13,n,t,i)).type=M,e.elementType=M,e.lanes=o,e;case F:return(e=pu(19,n,t,i)).elementType=F,e.lanes=o,e;case K:return bu(n,i,o,t);case q:return(e=pu(24,n,t,i)).elementType=q,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case L:a=10;break e;case D:a=9;break e;case I:a=11;break e;case z:a=14;break e;case V:a=16,r=null;break e;case G:a=22;break e}throw Error(j(130,null==e?e:typeof e,""))}return(t=pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function mu(e,t,n,r){return(e=pu(7,e,r,t)).lanes=n,e}function bu(e,t,n,r){return(e=pu(23,e,r,t)).elementType=K,e.lanes=n,e}function wu(e,t,n){return(e=pu(6,e,null,t)).lanes=n,e}function _u(e,t,n){return(t=pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function Su(e,t,n,r){var i=t.current,o=Vs(),a=Gs(i);e:if(n){t:{if(et(n=n._reactInternals)!==n||1!==n.tag)throw Error(j(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(oi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}}while(null!==(s=s.return));throw Error(j(171))}if(1===n.tag){var u=n.type;if(oi(u)){n=ui(n,u,s);break e}}n=s}else n=ei;return null===t.context?t.context=n:t.pendingContext=n,(t=Qi(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Zi(i,t),Ws(i,a,o),a}function ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Tu(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function xu(e,t){Tu(e,t),(e=e.alternate)&&Tu(e,t)}function Ou(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Eu(e,t,null!=n&&!0===n.hydrate),t=pu(3,null,null,2===t?7:1===t?3:0),(n.current=t).stateNode=n,Yi(t),e[Wr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(i=(t=r[e])._getVersion)(t._source);null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Pu(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function Au(e,t,n,r,i){var o,a,s,u=n._reactRootContainer;return u?(s=u._internalRoot,"function"==typeof i&&(o=i,i=function(){var e=ku(s);o.call(e)}),Su(t,s,e,i)):(s=(u=n._reactRootContainer=function(e,t){if(!(t=!t?!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot")):t))for(var n;n=e.lastChild;)e.removeChild(n);return new Ou(e,0,t?{hydrate:!0}:void 0)}(n,r))._internalRoot,"function"==typeof i&&(a=i,i=function(){var e=ku(s);a.call(e)}),Qs(function(){Su(t,s,e,i)})),ku(s)}function Cu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pu(t))throw Error(j(200));return function(e,t,n,r){return{$$typeof:U,key:null==(r=3<arguments.length&&void 0!==r?r:null)?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ts=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ni.current)_a=!0;else{if(0==(n&r)){switch(_a=!1,t.tag){case 3:Ra(t),Io();break;case 5:So(t);break;case 1:oi(t.type)&&li(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:var r=t.memoizedProps.value,i=t.type._context;d(Ui,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Da(e,t,n):(d(S,1&S.current),null!==(t=Ba(e,t,n))?t.sibling:null);d(S,1&S.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ua(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),d(S,S.current),r)break;return null;case 23:case 24:return t.lanes=0,xa(e,t,n)}return Ba(e,t,n)}_a=0!=(16384&e.flags)}else _a=!1;switch(t.lanes=0,t.tag){case 2:return r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=ii(t,ti.current),Ki(t,n),i=Ko(null,t,r,e,i,n),t.flags|=1,t="object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oi(r)?(o=!0,li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Yi(t),"function"==typeof(u=r.getDerivedStateFromProps)&&ro(t,0,u,e),i.updater=io,uo((t.stateNode=i)._reactInternals=t,r,e,n),Ca(null,t,r,!0,o,n)):(t.tag=0,Ea(null,t,i,n),t.child);case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return gu(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===z)return 14}return 2}(i),e=Ni(i,e),o){case 0:t=Pa(null,t,i,e,n);break e;case 1:t=Aa(null,t,i,e,n);break e;case 11:t=Sa(null,t,i,e,n);break e;case 14:t=ka(null,t,i,Ni(i.type,e),r,n);break e}throw Error(j(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:Ni(r,i),n);case 1:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:Ni(r,i),n);case 3:if(Ra(t),r=t.updateQueue,null===e||null===r)throw Error(j(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Xi(e,t),eo(t,r,null,n),(r=t.memoizedState.element)===i)Io(),t=Ba(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Oo=Ur(t.stateNode.containerInfo.firstChild),xo=t,o=Po=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Mo.push(o);for(n=go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ea(e,t,r,n),Io();t=t.child}return t;case 5:return So(t),null===e&&Ro(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Mr(r,i)?u=null:null!==o&&Mr(r,o)&&(t.flags|=16),Oa(e,t),Ea(e,t,u,n),t.child;case 6:return null===e&&Ro(t),null;case 13:return Da(e,t,n);case 4:return _o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=po(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:Ni(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps;var o=i.value,a=t.type._context;if(d(Ui,a._currentValue),a._currentValue=o,null!==u)if(a=u.value,0===(o=rr(a,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,o):1073741823))){if(u.children===i.children&&!ni.current){t=Ba(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s)for(var u=a.child,l=s.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===a.tag&&((l=Qi(-1,n&-n)).tag=2,Zi(a,l)),a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Hi(a.return,n),s.lanes|=n;break}l=l.next}else u=10===a.tag&&a.type===t.type?null:a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ki(t,n),r=r(i=qi(i,o.unstable_observedBits)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return o=Ni(i=t.type,t.pendingProps),ka(e,t,i,o=Ni(i.type,o),r,n);case 15:return Ta(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ni(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,oi(r)?(e=!0,li(t)):e=!1,Ki(t,n),ao(t,r,i),uo(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 23:case 24:return xa(e,t,n)}throw Error(j(156,t.tag))},Ou.prototype.render=function(e){Su(e,this._internalRoot,null,null)},Ou.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Su(null,e,null,function(){t[Wr]=null})},ot=function(e){13===e.tag&&(Ws(e,4,Vs()),xu(e,4))},at=function(e){13===e.tag&&(Ws(e,67108864,Vs()),xu(e,67108864))},st=function(e){var t,n;13===e.tag&&(t=Vs(),Ws(e,n=Gs(e),t),xu(e,n))},De=function(e,t,n){switch(t){case"input":if(ue(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Yr(r);if(!i)throw Error(j(90));re(r),ue(r,i)}}}break;case"textarea":ge(e,n);break;case"select":null!=(t=n.value)&&de(e,!!n.multiple,t,!1)}},Ue=Xs,Be=function(e,t,n,r,i){var o=T;T|=4;try{return Di(98,e.bind(null,t,n,r,i))}finally{0===(T=o)&&(ks(),Mi())}};var Ru=function(e,t){var n=T;T|=2;try{return e(t)}finally{0===(T=n)&&(ks(),Mi())}},pn={Events:[qr,$r,Yr,je,Ne,su,{current:!(ze=function(){var e;0==(49&T)&&(null!==Is&&(e=Is,Is=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ks(e,Ci())})),Mi(),su())})}]},n={findFiberByHostInstance:Kr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ft={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:n.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){vn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vn.isDisabled&&vn.supportsFiber)try{fi=vn.inject(Ft),di=vn}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pn,t.createPortal=Cu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0!==t)return e=null===(e=rt(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(j(188));throw Error(j(268,Object.keys(e)))},t.flushSync=function(e,t){var n=T;if(0!=(48&n))return e(t);T|=1;try{if(e)return Di(99,e.bind(null,t))}finally{T=n,Mi()}},t.hydrate=function(e,t,n){if(!Pu(t))throw Error(j(200));return Au(null,e,t,!0,n)},t.render=function(e,t,n){if(!Pu(t))throw Error(j(200));return Au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Pu(e))throw Error(j(40));return!!e._reactRootContainer&&(Qs(function(){Au(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0)},t.unstable_batchedUpdates=Xs,t.unstable_createPortal=function(e,t){return Cu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pu(n))throw Error(j(200));if(null==e||void 0===e._reactInternals)throw Error(j(38));return Au(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(181)},function(n,s,r){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,a,p,g,t,v,y,o,m,b,w,_,E,S,k,T,x,O;function P(e,t){var n=e.length;for(e.push(t);;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break;e[r]=t,e[n]=i,n=r}}function u(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=1+o,u=e[s];if(void 0!==a&&C(a,n)<0)r=void 0!==u&&C(u,a)<0?(e[r]=u,e[s]=n,s):(e[r]=a,e[o]=n,o);else{if(!(void 0!==u&&C(u,n)<0))break;e[r]=u,e[s]=n,r=s}}}return t}}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,s.unstable_now=function(){return a.now()}):(p=Date,g=p.now(),s.unstable_now=function(){return p.now()-g}),"undefined"==typeof window||"function"!=typeof MessageChannel?(v=t=null,y=function(){if(null!==t)try{var e=s.unstable_now();t(!0,e),t=null}catch(e){throw setTimeout(y,0),e}},o=function(e){null!==t?setTimeout(o,0,e):(t=e,setTimeout(y,0))},m=function(e,t){v=setTimeout(e,t)},b=function(){clearTimeout(v)},s.unstable_shouldYield=function(){return!1},i=s.unstable_forceFrameRate=function(){}):(w=window.setTimeout,_=window.clearTimeout,"undefined"!=typeof console&&(e=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof e&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),E=!1,S=null,k=-1,T=5,x=0,s.unstable_shouldYield=function(){return s.unstable_now()>=x},i=function(){},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e=new MessageChannel,O=e.port2,e.port1.onmessage=function(){if(null!==S){var e=s.unstable_now();x=e+T;try{S(!0,e)?O.postMessage(null):(E=!1,S=null)}catch(e){throw O.postMessage(null),e}}else E=!1},o=function(e){S=e,E||(E=!0,O.postMessage(null))},m=function(e,t){k=w(function(){e(s.unstable_now())},t)},b=function(){_(k),k=-1});var l=[],c=[],R=1,f=null,d=3,L=!1,h=!1,D=!1;function I(e){for(var t=u(c);null!==t;){if(null===t.callback)A(c);else{if(!(t.startTime<=e))break;A(c),t.sortIndex=t.expirationTime,P(l,t)}t=u(c)}}function M(e){var t;D=!1,I(e),h||(null!==u(l)?(h=!0,o(F)):null!==(t=u(c))&&m(M,t.startTime-e))}function F(e,t){h=!1,D&&(D=!1,b()),L=!0;var n=d;try{for(I(t),f=u(l);null!==f&&(!(f.expirationTime>t)||e&&!s.unstable_shouldYield());){var r,i=f.callback;"function"==typeof i?(f.callback=null,d=f.priorityLevel,r=i(f.expirationTime<=t),t=s.unstable_now(),"function"==typeof r?f.callback=r:f===u(l)&&A(l),I(t)):A(l),f=u(l)}var o,a=null!==f||(null!==(o=u(c))&&m(M,o.startTime-t),!1);return a}finally{f=null,d=n,L=!1}}var e=i;s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_continueExecution=function(){h||L||(h=!0,o(F))},s.unstable_getCurrentPriorityLevel=function(){return d},s.unstable_getFirstCallbackNode=function(){return u(l)},s.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=e,s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();switch(n="object"==typeof n&&null!==n?"number"==typeof(n=n.delay)&&0<n?r+n:r:r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:R++,callback:t,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},r<n?(e.sortIndex=n,P(c,e),null===u(l)&&e===u(c)&&(D?b():D=!0,m(M,n-r))):(e.sortIndex=i,P(l,e),h||L||(h=!0,o(F))),e},s.unstable_wrapCallback=function(t){var n=d;return function(){var e=d;d=n;try{return t.apply(this,arguments)}finally{d=e}}}},function(e,t,n){var r;"undefined"!=typeof window&&(r=function(){return r={},i.m=n={"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,s){"use strict";var r=Object.prototype.hasOwnProperty,h="~";function n(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");n=new o(n,r||e,i),r=h?h+t:t;return e._events[r]?e._events[r].fn?e._events[r]=[e._events[r],n]:e._events[r].push(n):(e._events[r]=n,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(h=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(h?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var e=h?h+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var n=0,r=t.length,i=new Array(r);n<r;n++)i[n]=t[n].fn;return i},a.prototype.listenerCount=function(e){e=h?h+e:e,e=this._events[e];return e?e.fn?1:e.length:0},a.prototype.emit=function(e,t,n,r,l,c){var f=h?h+e:e;if(!this._events[f])return!1;var i,o=this._events[f],a=arguments.length;if(o.fn){switch(o.once&&this.removeListener(e,o.fn,void 0,!0),a){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,t),!0;case 3:return o.fn.call(o.context,t,n),!0;case 4:return o.fn.call(o.context,t,n,r),!0;case 5:return o.fn.call(o.context,t,n,r,l),!0;case 6:return o.fn.call(o.context,t,n,r,l,c),!0}for(u=1,i=new Array(a-1);u<a;u++)i[u-1]=arguments[u];o.fn.apply(o.context,i)}else for(var s,d=o.length,u=0;u<d;u++)switch(o[u].once&&this.removeListener(e,o[u].fn,void 0,!0),a){case 1:o[u].fn.call(o[u].context);break;case 2:o[u].fn.call(o[u].context,t);break;case 3:o[u].fn.call(o[u].context,t,n);break;case 4:o[u].fn.call(o[u].context,t,n,r);break;default:if(!i)for(s=1,i=new Array(a-1);s<a;s++)i[s-1]=arguments[s];o[u].fn.apply(o[u].context,i)}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){e=h?h+e:e;if(!this._events[e])return this;if(!t)return u(this,e),this;var i=this._events[e];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,e);else{for(var o=0,a=[],s=i.length;o<s;o++)(i[o].fn!==t||r&&!i[o].once||n&&i[o].context!==n)&&a.push(i[o]);a.length?this._events[e]=1===a.length?a[0]:a:u(this,e)}return this},a.prototype.removeAllListeners=function(e){return e?(e=h?h+e:e,this._events[e]&&u(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=h,e.exports=a.EventEmitter=a},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}r=s.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):t;t=s.parseURL(e);if(!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(e=o.exec(t.path),t.netLoc=e[1],t.path=e[2]),t.netLoc&&!t.path&&(t.path="/");var i,e={scheme:t.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};return r.netLoc||(e.netLoc=t.netLoc,"/"!==r.path[0]&&(r.path?(i=(i=t.path).substring(0,i.lastIndexOf("/")+1)+r.path,e.path=s.normalizePath(i)):(e.path=t.path,r.params||(e.params=t.params,r.query||(e.query=t.query))))),null===e.path&&(e.path=n.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(e)},parseURL:function(e){e=r.exec(e);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,f){function o(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var e=i(i.s=ENTRY_MODULE);return e.default||e}var d="[\\.|\\-|\\+|\\w|/|@]+",h="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+d+").*?\\)";function p(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function g(e,t,n){var r={},i=(r[n]=[],t.toString()),t=i.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!t)return r;for(var o,t=t[1],a=new RegExp("(\\\\n|\\W)"+p(t)+h,"g");o=a.exec(i);)"dll-reference"!==o[3]&&r[n].push(o[3]);for(a=new RegExp("\\("+p(t)+'\\("(dll-reference\\s('+d+'))"\\)\\)'+h,"g");o=a.exec(i);)e[o[2]]||(r[n].push(o[1]),e[o[2]]=f(o[1]).m),r[o[2]]=r[o[2]]||[],r[o[2]].push(o[4]);for(var c,s=Object.keys(r),u=0;u<s.length;u++)for(var l=0;l<r[s[u]].length;l++)c=r[s[u]][l],isNaN(+c)||(r[s[u]][l]=+r[s[u]][l]);return r}function a(e,c){for(var t={main:[c]},n={main:[]},r={main:{}};function(n){return Object.keys(n).reduce(function(e,t){return e||0<n[t].length},!1)}(t);)for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o],s=t[a].pop();if(r[a]=r[a]||{},!r[a][s]&&e[a][s]){r[a][s]=!0,n[a]=n[a]||[],n[a].push(s);for(var f=g(e,e[a][s],a),u=Object.keys(f),l=0;l<u.length;l++)t[u[l]]=t[u[l]]||[],t[u[l]]=t[u[l]].concat(f[u[l]])}}return n}e.exports=function(e,t){var n={main:f.m},r=(t=t||{}).all?{main:Object.keys(n.main)}:a(n,e),i="",e=(Object.keys(r).filter(function(e){return"main"!==e}).forEach(function(t){for(var e=0;r[t][e];)e++;r[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",i=i+"var "+t+" = ("+o.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r[t].map(function(e){return JSON.stringify(e)+": "+n[t][e].toString()}).join(",")+"});\n"}),i=i+"new (("+o.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);",new window.Blob([i],{type:"text/javascript"}));if(t.bare)return e;t=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(e),e=new window.Worker(t);return e.objectURL=t,e}},"./src/crypt/decrypter.js":
/*!********************************************!*\
  !*** ./src/crypt/decrypter.js + 3 modules ***!
  \********************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(n,e,t){"use strict";t.r(e);var s=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),u=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();var l=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){for(var c=this.sBox,f=this.invSBox,e=this.subMix,d=e[0],h=e[1],p=e[2],g=e[3],e=this.invSubMix,v=e[0],y=e[1],m=e[2],b=e[3],t=new Uint32Array(256),n=0,r=0,i=0,i=0;i<256;i++)t[i]=i<128?i<<1:i<<1^283;for(i=0;i<256;i++){var o=r^r<<1^r<<2^r<<3^r<<4,a=(c[n]=o=o>>>8^255&o^99,t[f[o]=n]),s=t[a],u=t[s],l=257*t[o]^16843008*o;d[n]=l<<24|l>>>8,h[n]=l<<16|l>>>16,p[n]=l<<8|l>>>24,g[n]=l,v[o]=(l=16843009*u^65537*s^257*a^16843008*n)<<24|l>>>8,y[o]=l<<16|l>>>16,m[o]=l<<8|l>>>24,b[o]=l,n?(n=a^t[t[t[u^a]]],r^=t[t[r]]):n=r=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),c=!0,n=0;n<t.length&&c;)c=t[n]===this.key[n],n++;if(!c){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);for(var i,f,o,a=this.ksRows=4*(r+6+1),s=this.keySchedule=new Uint32Array(a),d=this.invKeySchedule=new Uint32Array(a),u=this.sBox,h=this.rcon,e=this.invSubMix,p=e[0],g=e[1],v=e[2],y=e[3],l=0;l<a;l++)l<r?f=s[l]=t[l]:(o=f,l%r==0?(o=u[(o=o<<8|o>>>24)>>>24]<<24|u[o>>>16&255]<<16|u[o>>>8&255]<<8|u[255&o],o^=h[l/r|0]<<24):6<r&&l%r==4&&(o=u[o>>>24]<<24|u[o>>>16&255]<<16|u[o>>>8&255]<<8|u[255&o]),s[l]=f=(s[l-r]^o)>>>0);for(i=0;i<a;i++)l=a-i,o=3&i?s[l]:s[l-4],d[i]=i<4||l<=4?o:p[u[o>>>24]]^g[u[o>>>16&255]]^v[u[o>>>8&255]]^y[u[255&o]],d[i]=d[i]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(c,e,f,d){for(var h,p,g,v,t,n,r,i,y,m,b,w,o,_,E=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,u=this.invSubMix,S=u[0],k=u[1],T=u[2],x=u[3],u=this.uint8ArrayToUint32Array_(f),O=u[0],P=u[1],A=u[2],C=u[3],R=new Int32Array(c),L=new Int32Array(R.length),l=this.networkToHostOrderSwap;e<R.length;){for(y=l(R[e]),m=l(R[e+1]),b=l(R[e+2]),w=l(R[e+3]),t=y^a[0],n=w^a[1],r=b^a[2],i=m^a[3],o=4,_=1;_<E;_++)h=S[t>>>24]^k[n>>16&255]^T[r>>8&255]^x[255&i]^a[o],p=S[n>>>24]^k[r>>16&255]^T[i>>8&255]^x[255&t]^a[o+1],g=S[r>>>24]^k[i>>16&255]^T[t>>8&255]^x[255&n]^a[o+2],v=S[i>>>24]^k[t>>16&255]^T[n>>8&255]^x[255&r]^a[o+3],t=h,n=p,r=g,i=v,o+=4;h=s[t>>>24]<<24^s[n>>16&255]<<16^s[r>>8&255]<<8^s[255&i]^a[o],p=s[n>>>24]<<24^s[r>>16&255]<<16^s[i>>8&255]<<8^s[255&t]^a[o+1],g=s[r>>>24]<<24^s[i>>16&255]<<16^s[t>>8&255]<<8^s[255&n]^a[o+2],v=s[i>>>24]<<24^s[t>>16&255]<<16^s[n>>8&255]<<8^s[255&r]^a[o+3],o+=3,L[e]=l(h^O),L[e+1]=l(v^P),L[e+2]=l(g^A),L[e+3]=l(p^C),O=y,P=m,A=b,C=w,e+=4}return d?(f=L.buffer,u=f.byteLength,(c=u&&new DataView(f).getUint8(u-1))?f.slice(0,u-c):f):L.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),o=t("./src/errors.ts"),c=t("./src/utils/logger.js"),a=t("./src/events.js"),t=t("./src/utils/get-self-scope.js"),i=Object(t.getSelfScope)();e.default=function(){function e(e,t,n){n=(void 0===n?{}:n).removePKCS7Padding,n=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=n)try{var r=i.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(t,n,r,i){var e,o,a=this;this.disableWebCrypto&&this.config.enableSoftwareAES?(this.logEnabled&&(c.logger.log("JS AES decrypt"),this.logEnabled=!1),(e=this.decryptor)||(this.decryptor=e=new l),e.expandKey(n),i(e.decrypt(t,0,r,this.removePKCS7Padding))):(this.logEnabled&&(c.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1),o=this.subtle,this.key!==n&&(this.key=n,this.fastAesKey=new u(o,n)),this.fastAesKey.expandKey().then(function(e){new s(o,r).decrypt(t,e).catch(function(e){a.onWebCryptoError(e,t,n,r,i)}).then(function(e){i(e)})}).catch(function(e){a.onWebCryptoError(e,t,n,r,i)}))},t.onWebCryptoError=function(e,t,n,r,i){this.config.enableSoftwareAES?(c.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,i)):(c.logger.error("decrypting error : "+e.message),this.observer.trigger(a.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}()},"./src/demux/demuxer-inline.js":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 12 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(e,n,t){"use strict";t.r(n);var B=t("./src/events.js"),z=t("./src/errors.ts"),g=t("./src/crypt/decrypter.js"),v=t("./src/polyfills/number-isFinite.js"),V=t("./src/utils/logger.js"),r=t("./src/utils/get-self-scope.js");function i(e,t){return 255===e[t]&&240==(246&e[t+1])}function u(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function y(e,t){return!!(t+1<e.length&&i(e,t))}function m(e,t,n,r,i){e.samplerate||(t=function(e,t,n,r){var i,o,a=navigator.userAgent.toLowerCase(),c=r,s=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],u=1+((192&t[n+2])>>>6),l=(60&t[n+2])>>>2;if(!(s.length-1<l))return i=(1&t[n+2])<<2,i|=(192&t[n+3])>>>6,V.logger.log("manifest codec:"+r+",ADTS data:type:"+u+",sampleingIndex:"+l+"["+s[l]+"Hz],channelConfig:"+i),t=/firefox/i.test(a)?6<=l?(u=5,o=new Array(4),l-3):(u=2,o=new Array(2),l):-1!==a.indexOf("android")?(u=2,o=new Array(2),l):(u=5,o=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=l?l-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=l&&1==i||/vivaldi/i.test(a))||!r&&1==i)&&(u=2,o=new Array(2)),l)),o[0]=u<<3,o[0]|=(14&l)>>1,o[1]|=(1&l)<<7,o[1]|=i<<3,5===u&&(o[1]|=(14&t)>>1,o[2]=(1&t)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:s[l],channelCount:i,codec:"mp4a.40."+u,manifestCodec:c};e.trigger(B.default.ERROR,{type:z.ErrorTypes.MEDIA_ERROR,details:z.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}(t,n,r,i),e.config=t.config,e.samplerate=t.samplerate,e.channelCount=t.channelCount,e.codec=t.codec,e.manifestCodec=t.manifestCodec,V.logger.log("parsed codec:"+e.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount))}function d(e){return 9216e4/e}function b(e,t,n,r,i){var o,r=function(e,t,n,r,i){var o=e.length,a=u(e,t),e=l(e,t);if(0<(e-=a)&&t+a+e<=o)return{headerLength:a,frameLength:e,stamp:n+r*i}}(t,n,r,i,d(e.samplerate));if(r)return i=r.stamp,o=r.headerLength,r=r.frameLength,t={unit:t.subarray(n+o,n+o+r),pts:i,dts:i},e.samples.push(t),{sample:t,length:r+o}}var T=t("./src/demux/id3.js"),S=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(T.default.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(function(e,t){if(y(e,t)){var n=u(e,t),t=t+(n=t+5<e.length?l(e,t):n);if(t===e.length||t+1<e.length&&i(e,t))return 1}}(e,t))return V.logger.log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,c,f){for(var n=this._audioTrack,r=T.default.getID3Data(e,0)||[],i=T.default.getTimeStamp(r),o=Object(v.isFiniteNumber)(i)?90*i:9e4*t,a=0,s=o,d=e.length,u=r.length,h=[{pts:s,dts:s,data:r}];u<d-1;)if(y(e,u)&&u+5<d){m(n,this.observer,e,u,n.manifestCodec);var l=b(n,e,u,o,a);if(!l){V.logger.log("Unable to parse AAC frame");break}u+=l.length,s=l.sample.pts,a++}else T.default.isHeader(e,u)?(r=T.default.getID3Data(e,u),h.push({pts:s,dts:s,data:r}),u+=r.length):u++;this.remuxer.remux(n,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,c,f)},t.destroy=function(){},e}(),k=t("./src/demux/mp4demuxer.js"),s={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,r,i){var o;if(!(n+24>t.length))return o=this.parseHeader(t,n),o&&n+o.frameLength<=t.length?(r=r+i*(9e4*o.samplesPerFrame/o.sampleRate),i={unit:t.subarray(n,n+o.frameLength),pts:r,dts:r},e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(i),{sample:i,length:o.frameLength}):void 0},parseHeader:function(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3,a=e[t+2]>>1&1;if(1!=n&&0!=i&&15!=i&&3!=o)return i=1e3*s.BitratesMap[14*(3==n?3-r:3==r?3:4)+i-1],o=s.SamplingRateMap[3*(3==n?0:2==n?1:2)+o],e=e[t+3]>>6==3?1:2,r=8*(t=s.SamplesCoefficients[n][r])*(n=s.BytesInSlot[r]),{sampleRate:o,channelCount:e,frameLength:parseInt(t*i/o+a,10)*n,samplesPerFrame:r}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4,t=t+(r=n&&n.frameLength?n.frameLength:r);if(t===e.length||t+1<e.length&&this.isHeaderPattern(e,t))return!0}return!1}},p=s,x=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),t=Math.min(4,t);if(0===t)throw new Error("no bytes available");r.set(e.subarray(n,n+t)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*t,this.bytesAvailable-=t},t.skipBits=function(e){var t;this.bitsAvailable>e||(e=(e-=this.bitsAvailable)-((t=e>>3)>>3),this.bytesAvailable-=t,this.loadWord()),this.word<<=e,this.bitsAvailable-=e},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return 32<e&&V.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,0<this.bitsAvailable?this.word<<=t:0<this.bytesAvailable&&this.loadWord(),0<(t=e-t)&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){for(var e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)t=0===(n=0!==n?(t+this.readEG()+256)%256:n)?t:n},t.readSPS=function(){var c,f,e,d=0,h=0,p=0,g=0,t=this.readUByte.bind(this),n=this.readBits.bind(this),r=this.readUEG.bind(this),i=this.readBoolean.bind(this),o=this.skipBits.bind(this),a=this.skipEG.bind(this),s=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(t(),u=t(),n(5),o(3),t(),s(),100===u||110===u||122===u||244===u||44===u||83===u||86===u||118===u||128===u){var u=r();if(3===u&&o(1),s(),s(),o(1),i())for(f=3!==u?8:12,e=0;e<f;e++)i()&&v(e<6?16:64)}s();var u=r();if(0===u)r();else if(1===u)for(o(1),a(),a(),c=r(),e=0;e<c;e++)a();s(),o(1),u=r(),s=r(),0===(n=n(1))&&o(1),o(1),i()&&(d=r(),h=r(),p=r(),g=r());var l=[1,1];if(i()&&i())switch(t()){case 1:l=[1,1];break;case 2:l=[12,11];break;case 3:l=[10,11];break;case 4:l=[16,11];break;case 5:l=[40,33];break;case 6:l=[24,11];break;case 7:l=[20,11];break;case 8:l=[32,11];break;case 9:l=[80,33];break;case 10:l=[18,11];break;case 11:l=[15,11];break;case 12:l=[64,33];break;case 13:l=[160,99];break;case 14:l=[4,3];break;case 15:l=[3,2];break;case 16:l=[2,1];break;case 255:l=[t()<<8|t(),t()<<8|t()]}return{width:Math.ceil(16*(u+1)-2*d-2*h),height:(2-n)*(s+1)*16-(n?2:4)*(p+g),pixelRatio:l}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),a=function(){function e(e,t,n,r){this.decryptdata=n,this.discardEPB=r,this.decrypter=new g.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(t,n,r,i){var o=t[n].unit,e=o.subarray(16,o.length-o.length%16),e=e.buffer.slice(e.byteOffset,e.byteOffset+e.length),a=this;this.decryptBuffer(e,function(e){e=new Uint8Array(e),o.set(e,16),i||a.decryptAacSamples(t,n+1,r)})},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e},t.decryptAvcSample=function(t,n,r,i,o,a){var s=this.discardEPB(o.data),e=this.getAvcEncryptedData(s),u=this;this.decryptBuffer(e.buffer,function(e){o.data=u.getAvcDecryptedUnit(s,e),a||u.decryptAvcSamples(t,n,r+1,i)})},t.decryptAvcSamples=function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,o,a),!a)return}}}},e}(),c={video:1,audio:2,id3:3,text:4},O=function(){function R(e,t,n,r){this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=t,this.sampleAes=null}var e=R.prototype;return e.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new a(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},R.probe=function(e){e=R._syncOffset(e);return!(e<0)&&(e&&V.logger.warn("MPEG2-TS detected but first sync word found @ offset "+e+", junk ahead ?"),!0)},R._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},R.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:c[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.resetInitSegment=function(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=R.createTrack("video",r),this._audioTrack=R.createTrack("audio",r),this._id3Track=R.createTrack("id3",r),this._txtTrack=R.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},e.resetTimeStamp=function(){},e.append=function(e,c,f,d){var t,h,p,n,r,g=e.length,v=!1,y=(this.contiguous=f,this.pmtParsed),i=this._avcTrack,o=this._audioTrack,a=this._id3Track,m=i.pid,b=o.pid,w=a.pid,_=this._pmtId,s=i.pesData,u=o.pesData,l=a.pesData,E=this._parsePAT,S=this._parsePMT,k=this._parsePES,T=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this),A=R._syncOffset(e);for(g-=(g+A)%188,t=A;t<g;t+=188)if(71===e[t]){if(h=!!(64&e[t+1]),p=((31&e[t+1])<<8)+e[t+2],1<(48&e[t+3])>>4){if((n=t+5+e[t+4])===t+188)continue}else n=t+4;switch(p){case m:h&&(s&&(r=k(s))&&T(r,!1),s={data:[],size:0}),s&&(s.data.push(e.subarray(n,t+188)),s.size+=t+188-n);break;case b:h&&(u&&(r=k(u))&&(o.isAAC?x:O)(r),u={data:[],size:0}),u&&(u.data.push(e.subarray(n,t+188)),u.size+=t+188-n);break;case w:h&&(l&&(r=k(l))&&P(r),l={data:[],size:0}),l&&(l.data.push(e.subarray(n,t+188)),l.size+=t+188-n);break;case 0:h&&(n+=e[n]+1),_=this._pmtId=E(e,n);break;case _:h&&(n+=e[n]+1);var C=S(e,n,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(m=C.avc)&&(i.pid=m),0<(b=C.audio)&&(o.pid=b,o.isAAC=C.isAAC),0<(w=C.id3)&&(a.pid=w),v&&!y&&(V.logger.log("reparse from beginning"),v=!1,t=A-188),y=this.pmtParsed=!0;break;case 17:case 8191:break;default:v=!0}}else this.observer.trigger(B.default.ERROR,{type:z.ErrorTypes.MEDIA_ERROR,details:z.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});s&&(r=k(s))?(T(r,!0),i.pesData=null):i.pesData=s,u&&(r=k(u))?((o.isAAC?x:O)(r),o.pesData=null):(u&&u.size&&V.logger.log("last AAC PES packet truncated,might overlap between fragments"),o.pesData=u),l&&(r=k(l))?(P(r),a.pesData=null):a.pesData=l,null==this.sampleAes?this.remuxer.remux(o,i,a,this._txtTrack,c,f,d):this.decryptAndRemux(o,i,a,this._txtTrack,c,f,d)},e.decryptAndRemux=function(e,t,n,r,i,o,a){var s;e.samples&&e.isAAC?(s=this).sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,n,r,i,o,a)}):this.decryptAndRemuxAvc(e,t,n,r,i,o,a)},e.decryptAndRemuxAvc=function(e,t,n,r,i,o,a){var s;t.samples?(s=this).sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,n,r,i,o,a)}):this.remuxer.remux(e,t,n,r,i,o,a)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e._parsePMT=function(e,t,n,r){var i,o={audio:-1,avc:-1,id3:-1,isAAC:!0},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){V.logger.log("unknown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=i);break;case 21:-1===o.id3&&(o.id3=i);break;case 219:if(!r){V.logger.log("unknown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=i);break;case 3:case 4:n?-1===o.audio&&(o.audio=i,o.isAAC=!1):V.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:V.logger.warn("HEVC stream type found, not supported for now");break;default:V.logger.log("unknown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},e._parsePES=function(e){var t,n,r,i,o,c=0,a=e.data;if(!e||0===e.size)return null;for(;a[0].length<19&&1<a.length;){var s=new Uint8Array(a[0].length+a[1].length);s.set(a[0]),s.set(a[1],a[0].length),a[0]=s,a.splice(1,1)}if(1!==((u=a[0])[0]<<16)+(u[1]<<8)+u[2])return null;if((t=(u[4]<<8)+u[5])&&t>e.size-6)return null;if(192&(n=u[7])&&(4294967295<(r=536870912*(14&u[9])+4194304*(255&u[10])+16384*(254&u[11])+128*(255&u[12])+(254&u[13])/2)&&(r-=8589934592),64&n?(4294967295<(i=536870912*(14&u[14])+4194304*(255&u[15])+16384*(254&u[16])+128*(255&u[17])+(254&u[18])/2)&&(i-=8589934592),54e5<r-i&&(V.logger.warn(Math.round((r-i)/9e4)+"s delta between PTS and DTS, align them"),r=i)):i=r),n=u[8],e.size<=(o=n+9))return null;e.size-=o;for(var f=new Uint8Array(e.size),d=0,h=a.length;d<h;d++){var u,l=(u=a[d]).byteLength;if(o){if(l<o){o-=l;continue}u=u.subarray(o),l-=o,o=0}f.set(u,c),c+=l}return t&&(t-=n+3),{data:f,pts:r,dts:i,len:t}},e.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;if(isNaN(e.pts)){if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&V.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e._parseAVCPES=function(g,t){function v(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}}var y,m,b,w=this,_=this._avcTrack,e=this._parseAVCNALu(g.data),E=this.avcSample,k=!1,S=this.pushAccesUnit.bind(this);g.data=null,E&&e.length&&!_.audFound&&(S(E,_),E=this.avcSample=v(!1,g.pts,g.dts,"")),e.forEach(function(e){switch(e.type){case 1:m=!0,(E=E||(w.avcSample=v(!0,g.pts,g.dts,""))).frame=!0;var t=e.data;k&&4<t.length&&(2!==(t=new x(t).readSliceType())&&4!==t&&7!==t&&9!==t||(E.key=!0));break;case 5:m=!0,(E=E||(w.avcSample=v(!0,g.pts,g.dts,""))).key=!0,E.frame=!0;break;case 6:m=!0,(y=new x(w.discardEPB(e.data))).readUByte();for(var n=0,r=0,c=!1,i=0;!c&&1<y.bytesAvailable;){for(n=0;n+=i=y.readUByte(),255===i;);for(r=0;r+=i=y.readUByte(),255===i;);if(4===n&&0!==y.bytesAvailable){var c=!0,o=y.readUByte();if(181===o)if(49===y.readUShort()){o=y.readUInt();if(1195456820===o)if(3===y.readUByte()){var o=y.readUByte(),f=31&o,a=[o,y.readUByte()];for(b=0;b<f;b++)a.push(y.readUByte()),a.push(y.readUByte()),a.push(y.readUByte());w._insertSampleInOrder(w._txtTrack.samples,{type:3,pts:g.pts,bytes:a})}}}else if(5===n&&0!==y.bytesAvailable){if(c=!0,16<r){var s=[];for(b=0;b<16;b++)s.push(y.readUByte().toString(16)),3!==b&&5!==b&&7!==b&&9!==b||s.push("-");var d=r-16,u=new Uint8Array(d);for(b=0;b<d;b++)u[b]=y.readUByte();w._insertSampleInOrder(w._txtTrack.samples,{pts:g.pts,payloadType:n,uuid:s.join(""),userDataBytes:u,userData:Object(T.utf8ArrayToStr)(u.buffer)})}}else if(r<y.bytesAvailable)for(b=0;b<r;b++)y.readUByte()}break;case 7:if(k=m=!0,!_.sps){var t=(y=new x(e.data)).readSPS(),h=(_.width=t.width,_.height=t.height,_.pixelRatio=t.pixelRatio,_.sps=[e.data],_.duration=w._duration,e.data.subarray(1,4)),p="avc1.";for(b=0;b<3;b++){var l=h[b].toString(16);p+=l=l.length<2?"0"+l:l}_.codec=p}break;case 8:m=!0,_.pps||(_.pps=[e.data]);break;case 9:m=!1,_.audFound=!0,E&&S(E,_),E=w.avcSample=v(!1,g.pts,g.dts,"");break;case 12:m=!1;break;default:m=!1,E&&(E.debug+="unknown NAL "+e.type+" ")}E&&m&&E.units.push(e)}),t&&E&&(S(E,_),this.avcSample=null)},e._insertSampleInOrder=function(e,t){var n=e.length;if(0<n){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;0<=r;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},e._getLastNalUnit=function(){var e,t,n=this.avcSample;return t=(n=!n||0===n.units.length?(e=this._avcTrack.samples)[e.length-1]:n)?(e=n.units)[e.length-1]:t},e._parseAVCNALu=function(e){var c,t,n,r,f,i=0,d=e.byteLength,h=this._avcTrack,p=u=h.naluState||0,o=[],a=-1;for(-1===u&&(n=31&e[a=0],u=0,i=1);i<d;){var s,g,u,l=e[i++];u?u=1!==u?l?1===l?(0<=a?(t={data:e.subarray(a,i-u-1),type:n},o.push(t)):(s=this._getLastNalUnit())&&(p&&i<=4-p&&s.state&&(s.data=s.data.subarray(0,s.data.byteLength-p)),0<(c=i-u-1)&&((g=new Uint8Array(s.data.byteLength+c)).set(s.data,0),g.set(e.subarray(0,c),s.data.byteLength),s.data=g)),i<d?(n=31&e[a=i],0):-1):0:3:l?0:2:u=l?0:1}return 0<=a&&0<=u&&(t={data:e.subarray(a,d),type:n,state:u},o.push(t)),0!==o.length||(r=this._getLastNalUnit())&&((f=new Uint8Array(r.data.byteLength+e.byteLength)).set(r.data,0),f.set(e,r.data.byteLength),r.data=f),h.naluState=u,o},e.discardEPB=function(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;for(var i=t-n.length,o=new Uint8Array(i),a=0,r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o},e._parseAACPES=function(e){var t,n,c,r,i=this._audioTrack,o=e.data,a=e.pts,e=this.aacOverFlow,f=this.aacLastPTS;for(e&&((u=new Uint8Array(e.byteLength+o.byteLength)).set(e,0),u.set(o,e.byteLength),o=u),n=0,r=o.length;n<r-1&&!y(o,n);n++);if(n){var s,u=n<r-1?(s="AAC PES did not start with ADTS header,offset:"+n,!1):(s="no ADTS header found in AAC PES",!0);if(V.logger.warn("parsing error:"+s),this.observer.trigger(B.default.ERROR,{type:z.ErrorTypes.MEDIA_ERROR,details:z.ErrorDetails.FRAG_PARSING_ERROR,fatal:u,reason:s}),u)return}for(m(i,this.observer,o,n,this.audioCodec),t=0,s=d(i.samplerate),e&&f&&(u=f+s,1<Math.abs(u-a)&&(V.logger.log("AAC: align PTS for overlapping frames by "+Math.round((u-a)/90)),a=u));n<r;){if(y(o,n)){if(n+5<r){var l=b(i,o,n,a,t);if(l){n+=l.length,c=l.sample.pts,t++;continue}}break}n++}e=n<r?o.subarray(n,r):null,this.aacOverFlow=e,this.aacLastPTS=c},e._parseMPEGPES=function(e){for(var t=e.data,n=t.length,r=0,i=0,o=e.pts;i<n;)if(p.isHeader(t,i)){var a=p.appendFrame(this._audioTrack,t,i,o,r);if(!a)break;i+=a.length,r++}else i++},e._parseID3PES=function(e){this._id3Track.samples.push(e)},R}(),P=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,n,r=T.default.getID3Data(e,0);if(r&&void 0!==T.default.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(p.probe(e,t))return V.logger.log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,c,f){for(var n=T.default.getID3Data(e,0),r=T.default.getTimeStamp(n),i=r?90*r:9e4*t,o=n.length,d=e.length,a=0,s=0,u=this._audioTrack,h=[{pts:i,dts:i,data:n}];o<d;)if(p.isHeader(e,o)){var l=p.appendFrame(u,e,o,i,a);if(!l)break;o+=l.length,s=l.sample.pts,a++}else T.default.isHeader(e,o)?(n=T.default.getID3Data(e,o),h.push({pts:s,dts:s,data:n}),o+=n.length):o++;this.remuxer.remux(u,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,c,f)},t.destroy=function(){},e}(),j=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),o=Math.pow(2,32)-1,G=function(){function f(){}return f.init=function(){for(var e in f.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})f.types.hasOwnProperty(e)&&(f.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),t=(f.HDLR_TYPES={video:t,audio:n},new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])),n=new Uint8Array([0,0,0,0,0,0,0,0]),n=(f.STTS=f.STSC=f.STCO=n,f.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),f.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),f.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),f.STSD=new Uint8Array([0,0,0,0,0,0,0,1]),new Uint8Array([105,115,111,109])),r=new Uint8Array([97,118,99,49]),i=new Uint8Array([0,0,0,1]);f.FTYP=f.box(f.types.ftyp,n,i,n,r),f.DINF=f.box(f.types.dinf,f.box(f.types.dref,t))},f.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;i<o;i++)t.set(n[i],r),r+=n[i].byteLength;return t},f.hdlr=function(e){return f.box(f.types.hdlr,f.HDLR_TYPES[e])},f.mdat=function(e){return f.box(f.types.mdat,e)},f.mdhd=function(e,t){t*=e;var n=Math.floor(t/(1+o)),t=Math.floor(t%(1+o));return f.box(f.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t,85,196,0,0]))},f.mdia=function(e){return f.box(f.types.mdia,f.mdhd(e.timescale,e.duration),f.hdlr(e.type),f.minf(e))},f.mfhd=function(e){return f.box(f.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},f.minf=function(e){return"audio"===e.type?f.box(f.types.minf,f.box(f.types.smhd,f.SMHD),f.DINF,f.stbl(e)):f.box(f.types.minf,f.box(f.types.vmhd,f.VMHD),f.DINF,f.stbl(e))},f.moof=function(e,t,n){return f.box(f.types.moof,f.mfhd(e),f.traf(n,t))},f.moov=function(e){for(var t=e.length,n=[];t--;)n[t]=f.trak(e[t]);return f.box.apply(null,[f.types.moov,f.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(f.mvex(e)))},f.mvex=function(e){for(var t=e.length,n=[];t--;)n[t]=f.trex(e[t]);return f.box.apply(null,[f.types.mvex].concat(n))},f.mvhd=function(e,t){t*=e;var n=Math.floor(t/(1+o)),t=Math.floor(t%(1+o)),e=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return f.box(f.types.mvhd,e)},f.sdtp=function(e){for(var t,n=e.samples||[],r=new Uint8Array(4+n.length),i=0;i<n.length;i++)t=n[i].flags,r[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return f.box(f.types.sdtp,r)},f.stbl=function(e){return f.box(f.types.stbl,f.stsd(e),f.box(f.types.stts,f.STTS),f.box(f.types.stsc,f.STSC),f.box(f.types.stsz,f.STSZ),f.box(f.types.stco,f.STCO))},f.avc1=function(e){for(var t,n,r=[],i=[],o=0;o<e.sps.length;o++)n=(t=e.sps[o]).byteLength,r.push(n>>>8&255),r.push(255&n),r=r.concat(Array.prototype.slice.call(t));for(o=0;o<e.pps.length;o++)n=(t=e.pps[o]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(t));var c=f.box(f.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(i))),a=e.width,s=e.height,u=e.pixelRatio[0],l=e.pixelRatio[1];return f.box(f.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,s>>8&255,255&s,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,f.box(f.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),f.box(f.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,l>>24,l>>16&255,l>>8&255,255&l])))},f.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},f.mp4a=function(e){var t=e.samplerate;return f.box(f.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]),f.box(f.types.esds,f.esds(e)))},f.mp3=function(e){var t=e.samplerate;return f.box(f.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]))},f.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?f.box(f.types.stsd,f.STSD,f.mp4a(e)):f.box(f.types.stsd,f.STSD,f.mp3(e)):f.box(f.types.stsd,f.STSD,f.avc1(e))},f.tkhd=function(e){var t=e.id,n=e.duration*e.timescale,r=e.width,e=e.height,i=Math.floor(n/(1+o)),n=Math.floor(n%(1+o));return f.box(f.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,e>>8&255,255&e,0,0]))},f.traf=function(e,t){var n=f.sdtp(e),r=e.id,i=Math.floor(t/(1+o)),t=Math.floor(t%(1+o));return f.box(f.types.traf,f.box(f.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),f.box(f.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,t>>24,t>>16&255,t>>8&255,255&t])),f.trun(e,n.length+16+20+8+16+8+8),n)},f.trak=function(e){return e.duration=e.duration||4294967295,f.box(f.types.trak,f.tkhd(e),f.mdia(e))},f.trex=function(e){e=e.id;return f.box(f.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},f.trun=function(e,t){var n,r,i,o,a,s=e.samples||[],u=s.length,e=12+16*u,l=new Uint8Array(e);for(l.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,(t+=8+e)>>>24&255,t>>>16&255,t>>>8&255,255&t],0),n=0;n<u;n++)r=(a=s[n]).duration,i=a.size,o=a.flags,a=a.cts,l.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*n);return f.box(f.types.trun,l)},f.initSegment=function(e){f.types||f.init();var e=f.moov(e),t=new Uint8Array(f.FTYP.byteLength+e.byteLength);return t.set(f.FTYP),t.set(e,f.FTYP.byteLength),t},f}();function f(e,t,n,r){e=e*t*(n=void 0===n?1:n);return(r=void 0===r?!1:r)?Math.round(e):e}function W(e,t){return f(e,1e3,1/9e4,t=void 0===t?!1:t)}function h(e,t){return f(e,9e4,1/(t=void 0===t?1:t))}var w,N=h(10),H=h(.2),A=function(){function e(e,t,n,r){this.observer=e,this.config=t,this.typeSupported=n;e=navigator.userAgent;this.isSafari=r&&-1<r.indexOf("Apple")&&e&&!e.match("CriOS"),this.ISGenerated=!1}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.remux=function(e,t,c,f,n,r,i){var o,a,s,u,d,l;this.ISGenerated||this.generateIS(e,t,n),this.ISGenerated&&(l=e.samples.length,o=t.samples.length,s=a=n,l&&o&&(u=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale,a+=Math.max(0,u),s+=Math.max(0,-u)),l?(e.timescale||(V.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,n)),u=this.remuxAudio(e,a,r,i),o&&(u&&(d=u.endPTS-u.startPTS),t.timescale||(V.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,n)),this.remuxVideo(t,s,r,d,i))):!o||(l=this.remuxVideo(t,s,r,0,i))&&e.codec&&this.remuxEmptyAudio(e,a,r,l)),c.samples.length&&this.remuxID3(c,n),f.samples.length&&this.remuxText(f,n),this.observer.trigger(B.default.FRAG_PARSED)},t.generateIS=function(e,t,n){var r,i,c=this.observer,f=e.samples,o=t.samples,a=this.typeSupported,s="audio/mp4",u={},d={tracks:u},l=void 0===this._initPTS;l&&(r=i=1/0),e.config&&f.length&&(e.timescale=e.samplerate,V.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(a.mpeg?(s="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3")),u.audio={container:s,codec:e.codec,initSegment:!e.isAAC&&a.mpeg?new Uint8Array:G.initSegment([e]),metadata:{channelCount:e.channelCount}},l&&(r=i=f[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&o.length&&(s=t.inputTimeScale,t.timescale=s,u.video={container:"video/mp4",codec:t.codec,initSegment:G.initSegment([t]),metadata:{width:t.width,height:t.height}},l&&(r=Math.min(r,o[0].pts-s*n),i=Math.min(i,o[0].dts-s*n),this.observer.trigger(B.default.INIT_PTS_FOUND,{initPTS:r}))),Object.keys(u).length?(c.trigger(B.default.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,l&&(this._initPTS=r,this._initDTS=i)):c.trigger(B.default.ERROR,{type:z.ErrorTypes.MEDIA_ERROR,details:z.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,n,c,r){var i,f,d=8,o=e.timescale,a=e.samples,h=[],p=a.length,g=this._PTSNormalize,v=this._initPTS,s=this.nextAvcDts,y=this.isSafari;if(0!==p){y&&(n|=a.length&&s&&(r&&Math.abs(t-s/o)<.1||Math.abs(a[0].pts-s-v)<o/5)),n||(s=t*o),a.forEach(function(e){e.pts=g(e.pts-v,s),e.dts=g(e.dts-v,s)}),a.sort(function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id});var m=a.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-1*H)},0);if(m<0){V.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+W(m,!0)+" ms to overcome this issue");for(var b=0;b<a.length;b++)a[b].dts+=m}for(var r=a[0],u=Math.max(r.dts,0),w=Math.max(r.pts,0),t=u-s,_=(n&&t&&(1<t?V.logger.log("AVC: "+W(t,!0)+" ms hole between fragments detected,filling it"):t<-1&&V.logger.log("AVC: "+W(-t,!0)+" ms overlapping between fragments detected"),u=s,a[0].dts=u,w=Math.max(w-t,s),a[0].pts=w,V.logger.log("Video: PTS/DTS adjusted: "+W(w,!0)+"/"+W(u,!0)+", delta: "+W(t,!0)+" ms")),r=a[a.length-1],n=Math.max(r.dts,0),t=Math.max(r.pts,0,n),y&&(i=Math.round((n-u)/(a.length-1))),0),E=0,S=0;S<p;S++){for(var k=a[S],T=k.units,x=T.length,O=0,P=0;P<x;P++)O+=T[P].data.length;E+=O,_+=x,k.length=O,k.dts=y?u+S*i:Math.max(k.dts,u),k.pts=Math.max(k.pts,k.dts)}r=E+4*_+8;try{f=new Uint8Array(r)}catch(e){return void this.observer.trigger(B.default.ERROR,{type:z.ErrorTypes.MUX_ERROR,details:z.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:r,reason:"fail allocating video mdat "+r})}var A=new DataView(f.buffer);A.setUint32(0,r),f.set(G.types.mdat,4);for(var C=0;C<p;C++){for(var R,L,l=a[C],D=l.units,I=0,M=void 0,F=0,j=D.length;F<j;F++){var N=D[F],U=N.data,N=N.data.byteLength;A.setUint32(d,N),d+=4,f.set(U,d),d+=N,I+=4+N}M=y?Math.max(0,i*Math.round((l.pts-l.dts)/i)):(C<p-1?i=a[C+1].dts-l.dts:(L=this.config,R=l.dts-a[0<C?C-1:C].dts,L.stretchShortVideoTrack?(L=L.maxBufferHole,Math.floor(L*o)<(L=(c?w+c*o:this.nextAudioPts)-l.pts)?((i=L-R)<0&&(i=R),V.logger.log("It is approximately "+W(L,!1)+" ms to the next segment; using duration "+W(i,!1)+" ms for the last video frame.")):i=R):i=R),Math.round(l.pts-l.dts)),h.push({size:I,duration:i,cts:M,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:l.key?2:1,isNonSync:l.key?0:1}})}this.nextAvcDts=n+i;r=e.dropped,e=(e.nbNalu=0,e.dropped=0,h.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&((n=h[0].flags).dependsOn=2,n.isNonSync=0),e.samples=h,n=G.moof(e.sequenceNumber++,u,e),e.samples=[],{data1:n,data2:f,startPTS:w/o,endPTS:(t+i)/o,startDTS:u/o,endDTS:this.nextAvcDts/o,type:"video",hasAudio:!1,hasVideo:!0,nb:h.length,dropped:r});return this.observer.trigger(B.default.FRAG_PARSING_DATA,e),e}},t.remuxAudio=function(e,c,f,d){var h,p,g,v,y=e.inputTimeScale,t=e.timescale,m=y/t,n=(e.isAAC?1024:1152)*m,b=this._PTSNormalize,w=this._initPTS,_=!e.isAAC&&this.typeSupported.mpeg,E=_?0:8,r=e.samples,S=[],i=this.nextAudioPts;if(f|=r.length&&i&&(d&&Math.abs(c-i/y)<.1||Math.abs(r[0].pts-i-w)<20*n),r.forEach(function(e){e.pts=e.dts=b(e.pts-w,c*y)}),0!==(r=r.filter(function(e){return 0<=e.pts})).length){if(f||(i=d?c*y:r[0].pts),e.isAAC)for(var k=this.config.maxAudioFramesDrift,T=0,o=i;T<r.length;){var x=r[T],O=x.pts-o;if(O<=-k*n)V.logger.warn("Dropping 1 audio frame @ "+W(o,!0)+" ms due to "+W(O,!0)+" ms overlap."),r.splice(T,1);else if(k*n<=O&&O<N&&o){var P=Math.round(O/n);V.logger.warn("Injecting "+P+" audio frames @ "+W(o,!0)+" ms due to "+W(o,!0)+" ms gap.");for(var A=0;A<P;A++){var a,C=Math.max(o,0);(a=j.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(V.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),a=x.unit.subarray()),r.splice(T,0,{unit:a,pts:C,dts:C}),o+=n,T++}x.pts=x.dts=o,o+=n,T++}else Math.abs(O),x.pts=x.dts=o,o+=n,T++}for(var R=r.length,s=0;R--;)s+=r[R].unit.byteLength;for(var L=0,D=r.length;L<D;L++){var u=r[L],I=u.unit,u=u.pts;if(void 0!==v)h.duration=Math.round((u-v)/m);else{var l=u-i,M=0;if(f&&e.isAAC&&l){if(0<l&&l<N)M=Math.round((u-i)/n),V.logger.log(W(l,!0)+" ms hole between AAC samples detected,filling it"),0<M&&(s+=M*(a=(a=j.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||I.subarray()).length);else if(l<-12){V.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+W(i,!0)+" ms / "+W(u,!0)+" ms / "+W(-l,!0)+" ms"),s-=I.byteLength;continue}u=i}if(g=u,!(0<s))return;s+=E;try{p=new Uint8Array(s)}catch(e){return void this.observer.trigger(B.default.ERROR,{type:z.ErrorTypes.MUX_ERROR,details:z.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:s,reason:"fail allocating audio mdat "+s})}_||(new DataView(p.buffer).setUint32(0,s),p.set(G.types.mdat,4));for(var F=0;F<M;F++)(a=j.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(V.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),a=I.subarray()),p.set(a,E),E+=a.byteLength,h={size:a.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(h)}p.set(I,E);l=I.byteLength;E+=l,S.push(h={size:l,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),v=u}var t=0;return 2<=(R=S.length)&&(t=S[R-2].duration,h.duration=t),R?(this.nextAudioPts=i=v+m*t,e.samples=S,d=_?new Uint8Array:G.moof(e.sequenceNumber++,g/m,e),e.samples=[],this.observer.trigger(B.default.FRAG_PARSING_DATA,t={data1:d,data2:p,startPTS:t=g/y,endPTS:d=i/y,startDTS:t,endDTS:d,type:"audio",hasAudio:!0,hasVideo:!1,nb:R}),t):null}},t.remuxEmptyAudio=function(e,c,f,t){var n=e.inputTimeScale,d=e.samplerate||n,r=this.nextAudioPts,i=(void 0!==r?r:t.startDTS*n)+this._initDTS,r=t.endDTS*n+this._initDTS,o=1024*(n/d),h=Math.ceil((r-i)/o),a=j.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(V.logger.warn("remux empty Audio"),a){for(var s=[],u=0;u<h;u++){var l=i+u*o;s.push({unit:a,pts:l,dts:l})}e.samples=s,this.remuxAudio(e,c,f)}else V.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.remuxID3=function(e){var t,n=e.samples.length,r=e.inputTimeScale,i=this._initPTS,o=this._initDTS;if(n){for(var a=0;a<n;a++)(t=e.samples[a]).pts=(t.pts-i)/r,t.dts=(t.dts-o)/r;this.observer.trigger(B.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},t.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,n=e.samples.length,r=e.inputTimeScale,i=this._initPTS;if(n){for(var o=0;o<n;o++)(t=e.samples[o]).pts=(t.pts-i)/r;this.observer.trigger(B.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},t._PTSNormalize=function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;4294967296<Math.abs(e-t);)e+=n;return e},e}(),C=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,n,r,i,o,l,a){var s=this.observer,u="";e&&(u+="audio"),t&&(u+="video"),s.trigger(B.default.FRAG_PARSING_DATA,{data1:a,startPTS:i,startDTS:i,type:u,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),s.trigger(B.default.FRAG_PARSED)},e}(),t=Object(r.getSelfScope)();try{w=t.performance.now.bind(t.performance)}catch(e){V.logger.debug("Unable to use Performance API on this environment"),w=t.Date.now}n.default=function(){function e(e,t,n,r){this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,n,r,i,o,a,s,u,l,c,f,d){var t,h,p=this;0<e.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method?(null==(t=this.decrypter)&&(t=this.decrypter=new g.default(this.observer,this.config)),h=w(),t.decrypt(e,n.key.buffer,n.iv.buffer,function(e){var t=w();p.observer.trigger(B.default.FRAG_DECRYPTED,{stats:{tstart:h,tdecrypt:t}}),p.pushDecrypted(new Uint8Array(e),n,new Uint8Array(r),i,o,a,s,u,l,c,f,d)})):this.pushDecrypted(new Uint8Array(e),n,new Uint8Array(r),i,o,a,s,u,l,c,f,d)},t.pushDecrypted=function(e,c,f,d,h,p,t,n,g,v,y,r){if(!(l=this.demuxer)||(t||n)&&!this.probe(e)){for(var i=this.observer,o=this.typeSupported,a=this.config,m=[{demux:O,remux:A},{demux:k.default,remux:C},{demux:S,remux:A},{demux:P,remux:A}],s=0,b=m.length;s<b;s++){var u=m[s],w=u.demux.probe;if(w(e)){var _=this.remuxer=new u.remux(i,a,o,this.vendor),l=new u.demux(i,_,a,o);this.probe=w;break}}if(!l)return void i.trigger(B.default.ERROR,{type:z.ErrorTypes.MEDIA_ERROR,details:z.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=l}var E=this.remuxer;(t||n)&&(l.resetInitSegment(f,d,h,v),E.resetInitSegment()),t&&(l.resetTimeStamp(r),E.resetTimeStamp(r)),"function"==typeof l.setDecryptData&&l.setDecryptData(c),l.append(e,p,g,y)},e}()},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */function(e,t,n){"use strict";n.r(t);var a=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),s=n(/*! ../events */"./src/events.js"),u=n(/*! ../utils/logger */"./src/utils/logger.js"),l=n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");t.default=function(r){function i(e,t){r.postMessage({event:e,data:t})}var o=new l.EventEmitter;o.trigger=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e,e].concat(n))},o.off=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.removeListener.apply(o,[e].concat(n))};r.addEventListener("message",function(e){var t=e.data;switch(t.cmd){case"init":var n=JSON.parse(t.config);r.demuxer=new a.default(o,t.typeSupported,n,t.vendor),Object(u.enableLogs)(n.debug),i("init",null);break;case"demux":r.demuxer.push(t.data,t.decryptdata,t.initSegment,t.audioCodec,t.videoCodec,t.timeOffset,t.discontinuity,t.trackSwitch,t.contiguous,t.duration,t.accurateTimeOffset,t.defaultInitPTS)}}),o.on(s.default.FRAG_DECRYPTED,i),o.on(s.default.FRAG_PARSING_INIT_SEGMENT,i),o.on(s.default.FRAG_PARSED,i),o.on(s.default.ERROR,i),o.on(s.default.FRAG_PARSING_METADATA,i),o.on(s.default.FRAG_PARSING_USERDATA,i),o.on(s.default.INIT_PTS_FOUND,i),o.on(s.default.FRAG_PARSING_DATA,function(e,t){var n=[],e={event:e,data:t};t.data1&&(e.data1=t.data1.buffer,n.push(t.data1.buffer),delete t.data1),t.data2&&(e.data2=t.data2.buffer,n.push(t.data2.buffer),delete t.data2),r.postMessage(e,n)})}},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */function(e,t,n){"use strict";n.r(t),n.d(t,"utf8ArrayToStr",function(){return r});var c,f=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),n=function(){function s(){}return s.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s.getID3Data=function(e,t){for(var n=t,r=0;s.isHeader(e,t);){r=(r+=10)+s._readSize(e,t+6);s.isFooter(e,t+10)&&(r+=10),t+=r}if(0<r)return e.subarray(n,n+r)},s._readSize=function(e,t){var n=(127&e[t])<<21;return(n|=(127&e[t+1])<<14)|(127&e[t+2])<<7|127&e[t+3]},s.getTimeStamp=function(e){for(var t=s.getID3Frames(e),n=0;n<t.length;n++){var r=t[n];if(s.isTimeStampFrame(r))return s._readTimeStamp(r)}},s.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},s._getFrameData=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s._readSize(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},s.getID3Frames=function(e){for(var t=0,n=[];s.isHeader(e,t);){for(var r=s._readSize(e,t+6),i=(t+=10)+r;t+8<i;){var o=s._getFrameData(e.subarray(t)),a=s._decodeFrame(o);a&&n.push(a),t+=o.size+10}s.isFooter(e,t)&&(t+=10)}return n},s._decodeFrame=function(e){return"PRIV"===e.type?s._decodePrivFrame(e):"T"===e.type[0]?s._decodeTextFrame(e):"W"===e.type[0]?s._decodeURLFrame(e):void 0},s._readTimeStamp=function(e){var t;if(8===e.data.byteLength)return t=1&(e=new Uint8Array(e.data))[3],e=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7],e/=45,t&&(e+=47721858.84),Math.round(e)},s._decodePrivFrame=function(e){var t,n;if(!(e.size<2))return t=s._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1)),{key:e.type,info:t,data:n.buffer}},s._decodeTextFrame=function(e){var t,n;if(!(e.size<2))return"TXXX"===e.type?(t=1,t+=(n=s._utf8ArrayToStr(e.data.subarray(1),!0)).length+1,t=s._utf8ArrayToStr(e.data.subarray(t)),{key:e.type,info:n,data:t}):(n=s._utf8ArrayToStr(e.data.subarray(1)),{key:e.type,data:n})},s._decodeURLFrame=function(e){var t,n;return"WXXX"!==e.type?(n=s._utf8ArrayToStr(e.data),{key:e.type,data:n}):e.size<2?void 0:(n=1,n+=(t=s._utf8ArrayToStr(e.data.subarray(1))).length+1,n=s._utf8ArrayToStr(e.data.subarray(n)),{key:e.type,info:t,data:n})},s._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var n,r=function(){var e=Object(f.getSelfScope)();c||void 0===e.TextDecoder||(c=new e.TextDecoder("utf-8"));return c}();if(r)return r=r.decode(e),t?-1!==(n=r.indexOf("\0"))?r.substring(0,n):r:r.replace(/\0/g,"");for(var i,o,a,s=e.length,u="",l=0;l<s;){if(0===(i=e[l++])&&t)return u;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(i);break;case 12:case 13:o=e[l++],u+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=e[l++],a=e[l++],u+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}}return u},s}();var r=n._utf8ArrayToStr;t.default=n},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var o=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! ../events */"./src/events.js"),a=Math.pow(2,32)-1;t.default=function(){function d(e,t){this.observer=e,this.remuxer=t}var e=d.prototype;return e.resetTimeStamp=function(e){this.initPTS=e},e.resetInitSegment=function(e,t,n,r){var i,o;e&&e.byteLength?(null==t&&(t="mp4a.40.5"),null==n&&(n="avc1.42e01e"),o={},(i=this.initData=d.parseInitSegment(e)).audio&&i.video?o.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:r?e:null}:(i.audio&&(o.audio={container:"audio/mp4",codec:t,initSegment:r?e:null}),i.video&&(o.video={container:"video/mp4",codec:n,initSegment:r?e:null})),this.observer.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,{tracks:o})):(t&&(this.audioCodec=t),n&&(this.videoCodec=n))},d.probe=function(e){return 0<d.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length},d.bin2str=function(e){return String.fromCharCode.apply(null,e)},d.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);e=e[t]<<8|e[t+1];return e<0?65536+e:e},d.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);e=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return e<0?4294967296+e:e},d.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},d.findBox=function(e,t){var n,r,i,o,a,s=[];if(e.data?(o=e.start,r=e.end,e=e.data):(o=0,r=e.byteLength),!t.length)return null;for(n=o;n<r;)a=1<(a=d.readUint32(e,n))?n+a:r,d.bin2str(e.subarray(n+4,n+8))===t[0]&&(1===t.length?s.push({data:e,start:n+8,end:a}):(i=d.findBox({data:e,start:n+8,end:a},t.slice(1))).length&&(s=s.concat(i))),n=a;return s},d.parseSegmentIndex=function(e){var t=d.findBox(e,["moov"])[0],t=t?t.end:null,n=0,r=d.findBox(e,["sidx"]);if(!r||!r[0])return null;var i=[],e=(r=r[0]).data[0],n=0===e?8:16,o=d.readUint32(r,n),a=r.end+0,c=d.readUint16(r,n=(n+=4)+(0===e?8:16)+2);n+=2;for(var f=0;f<c;f++){var s=n,u=d.readUint32(r,s),l=(s+=4,2147483647&u);if(1==(2147483648&u)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");u=d.readUint32(r,s);s+=4,i.push({referenceSize:l,subsegmentDuration:u,info:{duration:u/o,start:a,end:a+l-1}}),a+=l,n=s+=4}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:c,references:i,moovEndOffset:t}},d.parseInitSegment=function(e){var i=[];return d.findBox(e,["moov","trak"]).forEach(function(e){var t,n,r=d.findBox(e,["tkhd"])[0];r&&(n=r.data[r.start],r=d.readUint32(r,0===n?12:20),(t=d.findBox(e,["mdia","mdhd"])[0])&&(n=t.data[t.start],t=d.readUint32(t,0===n?12:20),!(n=d.findBox(e,["mdia","hdlr"])[0])||(n={soun:"audio",vide:"video"}[d.bin2str(n.data.subarray(n.start+8,n.start+12))])&&((e=d.findBox(e,["mdia","minf","stbl","stsd"])).length&&(e=e[0],e=d.bin2str(e.data.subarray(e.start+12,e.start+16)),o.logger.log("MP4Demuxer:"+n+":"+e+" found")),i[r]={timescale:t,type:n},i[n]={timescale:t,id:r})))}),i},d.getStartDTS=function(n,e){e=d.findBox(e,["moof","traf"]),e=[].concat.apply([],e.map(function(t){return d.findBox(t,["tfhd"]).map(function(e){e=d.readUint32(e,4),e=n[e].timescale||9e4;return d.findBox(t,["tfdt"]).map(function(e){var t=e.data[e.start],n=d.readUint32(e,4);return n=1===t?(n*=Math.pow(2,32))+d.readUint32(e,8):n})[0]/e})})),e=Math.min.apply(null,e);return isFinite(e)?e:0},d.offsetStartDTS=function(n,e,i){d.findBox(e,["moof","traf"]).map(function(t){return d.findBox(t,["tfhd"]).map(function(e){var e=d.readUint32(e,4),r=n[e].timescale||9e4;d.findBox(t,["tfdt"]).map(function(e){var t=e.data[e.start],n=d.readUint32(e,4);0===t?d.writeUint32(e,4,n-i*r):(n=(n=(n*=Math.pow(2,32))+d.readUint32(e,8))-i*r,n=Math.max(n,0),t=Math.floor(n/(1+a)),n=Math.floor(n%(1+a)),d.writeUint32(e,4,t),d.writeUint32(e,8,n))})})})},e.append=function(e,t,n,r){var i=this.initData;i||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),i=this.initData);var o,a=this.initPTS;void 0===a&&(o=d.getStartDTS(i,e),this.initPTS=a=o-t,this.observer.trigger(s.default.INIT_PTS_FOUND,{initPTS:a})),d.offsetStartDTS(i,e,a),o=d.getStartDTS(i,e),this.remuxer.remux(i.audio,i.video,null,null,o,n,r,e)},e.destroy=function(){},d}()},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */function(e,t,n){"use strict";var r,i;n.r(t),n.d(t,"ErrorTypes",function(){return r}),n.d(t,"ErrorDetails",function(){return i}),(n=r=r||{}).NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",(t=i=i||{}).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException"},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":
/*!*********************************!*\
  !*** ./src/hls.ts + 50 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */function(t,n,e){"use strict";e.r(n);var h,a,r={},i=(e.r(r),e.d(r,"newCue",function(){return dt}),e("./node_modules/url-toolkit/src/url-toolkit.js")),l=e("./src/errors.ts"),P=e("./src/polyfills/number-isFinite.js"),b=e("./src/events.js"),A=e("./src/utils/logger.js"),s={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},o=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(s[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(t,e){try{!function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}.call(this,t,e).call()}catch(e){A.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},e}(),c=((K=h=h||{}).MANIFEST="manifest",K.LEVEL="level",K.AUDIO_TRACK="audioTrack",K.SUBTITLE_TRACK="subtitleTrack",(K=a=a||{}).MAIN="main",K.AUDIO="audio",K.SUBTITLE="subtitle",e("./src/demux/mp4demuxer.js"));function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d,C=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}var t,n,r;return t=e,(n=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(i.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&f(t.prototype,n),r&&f(t,r),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(K=d=d||{}).AUDIO="audio",K.VIDEO="video";var R=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((e={})[d.AUDIO]=!1,e[d.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t,n,r=e.prototype;return r.setByteRange=function(e,t){var e=e.split("@",2),n=[];1===e.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(e[1]),n[1]=parseInt(e[0])+n[0],this._byteRange=n},r.addElementaryStream=function(e){this._elementaryStreams[e]=!0},r.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},r.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},r.setDecryptDataFromLevelKey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new C(e.baseuri,e.reluri)).method=e.method,n.iv=this.createInitializationVector(t)),n},r=e,(t=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(i.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange||[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this.levelkey||this._decryptdata?(!this._decryptdata&&this.levelkey&&("number"!=typeof(e=this.sn)&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&A.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)),this._decryptdata):null;var e}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(P.isFiniteNumber)(this.programDateTime))return null;var e=Object(P.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&p(r.prototype,t),n&&p(r,n),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}var t,n,r;return t=e,(n=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(P.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&v(t.prototype,n),r&&v(t,r),e}(),y=/^(\d+)x(\d+)$/,m=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,D=function(){function n(e){for(var t in e="string"==typeof e?n.parseAttrList(e):e)e.hasOwnProperty(t)&&(this[t]=e[t])}var e=n.prototype;return e.decimalInteger=function(e){e=parseInt(this[e],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(e){if(this[e]){for(var t=(1&(t=(this[e]||"0x").slice(2)).length?"0":"")+t,n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(e){e=parseInt(this[e],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.enumeratedString=function(e){return this[e]},e.decimalResolution=function(e){e=y.exec(this[e]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},n.parseAttrList=function(e){var t,n={};for(m.lastIndex=0;null!==(t=m.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},n}(),_={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function E(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var S=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,k=/#EXT-X-MEDIA:(.*)/g,I=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),M=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,F=/\.(mp4|m4s|m4v|m4a)$/i,T=function(){function u(){}return u.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},u.convertAVC1ToAVCOTI=function(e){var t=e.split("."),n=2<t.length?(n=t.shift()+".",(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return n},u.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},u.parseMasterPlaylist=function(e,t){var n=[];function r(r,i){["video","audio"].forEach(function(n){var e,t=r.filter(function(e){return e=e,!!(t=_[t=n])&&!0===t[e.slice(0,4)];var t});t.length&&(e=t.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}),i[n+"Codec"]=(0<e.length?e:t)[0],r=r.filter(function(e){return-1===t.indexOf(e)}))}),i.unknownCodecs=r}for(S.lastIndex=0;null!=(a=S.exec(e));){var i={},o=i.attrs=new D(a[1]),a=(i.url=u.resolve(a[2],t),o.decimalResolution("RESOLUTION"));a&&(i.width=a.width,i.height=a.height),i.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),i.name=o.NAME,r([].concat((o.CODECS||"").split(/[ ,]+/)),i),i.videoCodec&&-1!==i.videoCodec.indexOf("avc1")&&(i.videoCodec=u.convertAVC1ToAVCOTI(i.videoCodec)),n.push(i)}return n},u.parseMasterPlaylistMedia=function(e,t,n,r){void 0===r&&(r=[]);var i=[],o=0;for(k.lastIndex=0;null!==(s=k.exec(e));){var a,s=new D(s[1]);s.TYPE===n&&(a={id:o++,groupId:s["GROUP-ID"],name:s.NAME||s.LANGUAGE,type:n,default:"YES"===s.DEFAULT,autoselect:"YES"===s.AUTOSELECT,forced:"YES"===s.FORCED,lang:s.LANGUAGE},s.URI&&(a.url=u.resolve(s.URI,t)),r.length&&(s=u.findGroup(r,a.groupId),a.audioCodec=(s||r[0]).codec),i.push(a))}return i},u.parseLevelPlaylist=function(c,e,f,d,h){var t,n,r,p=0,g=0,i=new L(e),v=0,y=null,o=new R,m=null;for(I.lastIndex=0;null!==(t=I.exec(c));){var a=t[1];if(a){o.duration=parseFloat(a);var b=(" "+t[2]).slice(1);o.title=b||null,o.tagList.push(b?["INF",a,b]:["INF",a])}else if(t[3])Object(P.isFiniteNumber)(o.duration)&&(b=p++,o.type=d,o.start=g,r&&(o.levelkey=r),o.sn=b,o.level=f,o.cc=v,o.urlId=h,o.baseurl=e,o.relurl=(" "+t[3]).slice(1),s=a=void 0,s=y,(a=o).rawProgramDateTime?a.programDateTime=Date.parse(a.rawProgramDateTime):s&&s.programDateTime&&(a.programDateTime=s.endProgramDateTime),Object(P.isFiniteNumber)(a.programDateTime)||(a.programDateTime=null,a.rawProgramDateTime=null),i.fragments.push(o),g+=(y=o).duration,o=new R);else if(t[4]){var s=(" "+t[4]).slice(1);y?o.setByteRange(s,y):o.setByteRange(s)}else if(t[5])o.rawProgramDateTime=(" "+t[5]).slice(1),o.tagList.push(["PROGRAM-DATE-TIME",o.rawProgramDateTime]),null===m&&(m=i.fragments.length);else if(t=t[0].match(M)){for(n=1;n<t.length&&void 0===t[n];n++);var u=(" "+t[n+1]).slice(1),w=(" "+t[n+2]).slice(1);switch(t[n]){case"#":o.tagList.push(w?[u,w]:[u]);break;case"PLAYLIST-TYPE":i.type=u.toUpperCase();break;case"MEDIA-SEQUENCE":p=i.startSN=parseInt(u);break;case"TARGETDURATION":i.targetduration=parseFloat(u);break;case"VERSION":i.version=parseInt(u);break;case"EXTM3U":break;case"ENDLIST":i.live=!1;break;case"DIS":v++,o.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":v=parseInt(u);break;case"KEY":var _=new D(u),l=_.enumeratedString("METHOD"),E=_.URI,_=_.hexadecimalInteger("IV");l&&(r=new C(e,E),E&&0<=["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(l)&&(r.method=l,r.key=null,r.iv=_));break;case"START":E=new D(u).decimalFloatingPoint("TIME-OFFSET");Object(P.isFiniteNumber)(E)&&(i.startTimeOffset=E);break;case"MAP":l=new D(u);o.relurl=l.URI,l.BYTERANGE&&o.setByteRange(l.BYTERANGE),o.baseurl=e,o.level=f,o.type=d,o.sn="initSegment",i.initSegment=o,(o=new R).rawProgramDateTime=i.initSegment.rawProgramDateTime;break;default:A.logger.warn("line parsed but not handled: "+t)}}else A.logger.warn("No matches on slow regex match for level playlist!")}if((o=y)&&!o.relurl&&(i.fragments.pop(),g-=o.duration),i.totalduration=g,i.averagetargetduration=g/i.fragments.length,i.endSN=p-1,i.startCC=i.fragments[0]?i.fragments[0].cc:0,i.endCC=v,!i.initSegment&&i.fragments.length&&i.fragments.every(function(e){return F.test(e.relurl)})&&(A.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(o=new R).relurl=i.fragments[0].relurl,o.baseurl=e,o.level=f,o.type=d,o.sn="initSegment",i.initSegment=o,i.needSidxRanges=!0),m)for(var S=i.fragments,k=m,T=S[k],x=k-1;0<=x;x--){var O=S[x];O.programDateTime=T.programDateTime-1e3*O.duration,T=O}return i},u}();var x=window.performance,O=function(t){var e;function d(e){e=t.call(this,e,b.default.MANIFEST_LOADING,b.default.LEVEL_LOADING,b.default.AUDIO_TRACK_LOADING,b.default.SUBTITLE_TRACK_LOADING)||this;return e.loaders={},e}e=t,(n=d).prototype=Object.create(e.prototype),(n.prototype.constructor=n).__proto__=e,d.canHaveQualityLevels=function(e){return e!==h.AUDIO_TRACK&&e!==h.SUBTITLE_TRACK},d.mapContextToLevelType=function(e){switch(e.type){case h.AUDIO_TRACK:return a.AUDIO;case h.SUBTITLE_TRACK:return a.SUBTITLE;default:return a.MAIN}},d.getResponseUrl=function(e,t){e=e.url;return e=void 0===e||0===e.indexOf("data:")?t.url:e};var n=d.prototype;return n.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,n=new(n||r)(t);return e.loader=n,this.loaders[e.type]=n},n.getInternalLoader=function(e){return this.loaders[e.type]},n.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},n.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},n.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},n.onManifestLoading=function(e){this.load({url:e.url,type:h.MANIFEST,level:0,id:null,responseType:"text"})},n.onLevelLoading=function(e){this.load({url:e.url,type:h.LEVEL,level:e.level,id:e.id,responseType:"text"})},n.onAudioTrackLoading=function(e){this.load({url:e.url,type:h.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},n.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:h.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},n.load=function(e){var t,n,r,i,o=this.hls.config;if(A.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id),s=this.getInternalLoader(e)){var a=s.context;if(a&&a.url===e.url)return A.logger.trace("playlist request ongoing"),!1;A.logger.warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case h.MANIFEST:t=o.manifestLoadingMaxRetry,n=o.manifestLoadingTimeOut,r=o.manifestLoadingRetryDelay,i=o.manifestLoadingMaxRetryTimeout;break;case h.LEVEL:r=i=t=0,n=o.levelLoadingTimeOut;break;default:t=o.levelLoadingMaxRetry,n=o.levelLoadingTimeOut,r=o.levelLoadingRetryDelay,i=o.levelLoadingMaxRetryTimeout}var s=this.createInternalLoader(e),a={timeout:n,maxRetry:t,retryDelay:r,maxRetryDelay:i},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return A.logger.debug("Calling internal loader delegate for URL: "+e.url),s.load(e,a,u),!0},n.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,r);if(this.resetInternalLoader(n.type),"string"!=typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=e.data;t.tload=x.now(),0===i.indexOf("#EXTM3U")?0<i.indexOf("#EXTINF:")||0<i.indexOf("#EXT-X-TARGETDURATION:")?this._handleTrackOrLevelPlaylist(e,t,n,r):this._handleMasterPlaylist(e,t,n,r):this._handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},n.loaderror=function(e,t,n){this._handleNetworkError(t,n=void 0===n?null:n,!1,e)},n.loadtimeout=function(e,t,n){this._handleNetworkError(t,n=void 0===n?null:n,!0)},n._handleMasterPlaylist=function(e,t,n,r){var i,o,a=this.hls,s=e.data,u=d.getResponseUrl(e,n),l=T.parseMasterPlaylist(s,u);l.length?(i=l.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),i=T.parseMasterPlaylistMedia(s,u,"AUDIO",i),s=T.parseMasterPlaylistMedia(s,u,"SUBTITLES"),i.length&&(o=!1,i.forEach(function(e){e.url||(o=!0)}),!1===o&&l[0].audioCodec&&!l[0].attrs.AUDIO&&(A.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),i.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1}))),a.trigger(b.default.MANIFEST_LOADED,{levels:l,audioTracks:i,subtitles:s,url:u,stats:t,networkDetails:r})):this._handleManifestParsingError(e,n,"no level found in manifest",r)},n._handleTrackOrLevelPlaylist=function(e,t,n,r){var c=this.hls,i=n.id,o=n.level,a=n.type,s=d.getResponseUrl(e,n),f=Object(P.isFiniteNumber)(i)?i:0,u=Object(P.isFiniteNumber)(o)?o:f,l=d.mapContextToLevelType(n),u=T.parseLevelPlaylist(e.data,s,u,l,f);if(u.tload=t.tload,a===h.MANIFEST&&c.trigger(b.default.MANIFEST_LOADED,{levels:[{url:s,details:u}],audioTracks:[],url:s,stats:t,networkDetails:r}),t.tparsed=x.now(),u.needSidxRanges)return l=u.initSegment.url,void this.load({url:l,isSidxRequest:!0,type:a,level:o,levelDetails:u,id:i,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"});n.levelDetails=u,this._handlePlaylistLoaded(e,t,n,r)},n._handleSidxRequest=function(e,t){if("string"==typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var n,r,e=c.default.parseSegmentIndex(new Uint8Array(e.data));e&&(n=e.references,r=t.levelDetails,n.forEach(function(e,t){e=e.info;!r||0===(t=r.fragments[t]).byteRange.length&&t.setByteRange(String(1+e.end-e.start)+"@"+String(e.start))}),r&&r.initSegment.setByteRange(String(e.moovEndOffset)+"@0"))},n._handleManifestParsingError=function(e,t,n,r){this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.NETWORK_ERROR,details:l.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:r})},n._handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=null),A.logger.info("A network error occured while loading a "+e.type+"-type playlist");var i,o,a=this.getInternalLoader(e);switch(e.type){case h.MANIFEST:i=n?l.ErrorDetails.MANIFEST_LOAD_TIMEOUT:l.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case h.LEVEL:i=n?l.ErrorDetails.LEVEL_LOAD_TIMEOUT:l.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case h.AUDIO_TRACK:i=n?l.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}a&&(a.abort(),this.resetInternalLoader(e.type));a={type:l.ErrorTypes.NETWORK_ERROR,details:i,fatal:o,url:e.url,loader:a,context:e,networkDetails:t};r&&(a.response=r),this.hls.trigger(b.default.ERROR,a)},n._handlePlaylistLoaded=function(e,t,n,r){var i=n.type,o=n.level,a=n.id,s=n.levelDetails;if(s&&s.targetduration)if(d.canHaveQualityLevels(n.type))this.hls.trigger(b.default.LEVEL_LOADED,{details:s,level:o||0,id:a||0,stats:t,networkDetails:r});else switch(i){case h.AUDIO_TRACK:this.hls.trigger(b.default.AUDIO_TRACK_LOADED,{details:s,id:a,stats:t,networkDetails:r});break;case h.SUBTITLE_TRACK:this.hls.trigger(b.default.SUBTITLE_TRACK_LOADED,{details:s,id:a,stats:t,networkDetails:r})}else this._handleManifestParsingError(e,n,"invalid target duration",r)},d}(o);var j=function(r){var e;function t(e){e=r.call(this,e,b.default.FRAG_LOADING)||this;return e.loaders={},e}e=r,(n=t).prototype=Object.create(e.prototype),(n.prototype.constructor=n).__proto__=e;var n=t.prototype;return n.destroy=function(){var e,t=this.loaders;for(e in t){var n=t[e];n&&n.destroy()}this.loaders={},r.prototype.destroy.call(this)},n.onFragLoading=function(e){var e=e.frag,t=e.type,n=this.loaders,r=this.hls.config,i=r.fLoader,o=r.loader,a=(e.loaded=0,n[t]),t=(a&&(A.logger.warn("abort previous fragment loader for type: "+t),a.abort()),a=n[t]=e.loader=new(r.fLoader?i:o)(r),n={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1},e.byteRangeStartOffset),i=e.byteRangeEndOffset;Object(P.isFiniteNumber)(t)&&Object(P.isFiniteNumber)(i)&&(n.rangeStart=t,n.rangeEnd=i),o={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},e={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},a.load(n,o,e)},n.loadsuccess=function(e,t,n,r){void 0===r&&(r=null);e=e.data,n=n.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(b.default.FRAG_LOADED,{payload:e,frag:n,stats:t,networkDetails:r})},n.loaderror=function(e,t,n){void 0===n&&(n=null);var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[r.type]=void 0,this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.NETWORK_ERROR,details:l.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},n.loadtimeout=function(e,t,n){void 0===n&&(n=null);var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[r.type]=void 0,this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.NETWORK_ERROR,details:l.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},n.loadprogress=function(e,t,n,r){void 0===r&&(r=null);t=t.frag;t.loaded=e.loaded,this.hls.trigger(b.default.FRAG_LOAD_PROGRESS,{frag:t,stats:e,networkDetails:r})},t}(o);var N=function(t){var e;function n(e){e=t.call(this,e,b.default.KEY_LOADING)||this;return e.loaders={},e.decryptkey=null,e.decrypturl=null,e}e=t,(r=n).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e;var r=n.prototype;return r.destroy=function(){for(var e in this.loaders){e=this.loaders[e];e&&e.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onKeyLoading=function(e){var t,n,e=e.frag,r=e.type,i=this.loaders[r];e.decryptdata?(n=e.decryptdata.uri)!==this.decrypturl||null===this.decryptkey?(t=this.hls.config,i&&(A.logger.warn("abort previous key loader for type:"+r),i.abort()),n?(e.loader=this.loaders[r]=new t.loader(t),this.decrypturl=n,this.decryptkey=null,i={url:n,frag:e,responseType:"arraybuffer"},r={timeout:t.fragLoadingTimeOut,maxRetry:0,retryDelay:t.fragLoadingRetryDelay,maxRetryDelay:t.fragLoadingMaxRetryTimeout},n={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(i,r,n)):A.logger.warn("key uri is falsy")):this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(b.default.KEY_LOADED,{frag:e})):A.logger.warn("Missing decryption data on fragment in onKeyLoading")},r.loadsuccess=function(e,t,n){n=n.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,delete this.loaders[n.type],this.hls.trigger(b.default.KEY_LOADED,{frag:n})):A.logger.error("after key load, decryptdata unset")},r.loaderror=function(e,t){var t=t.frag,n=t.loader;n&&n.abort(),delete this.loaders[t.type],this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.NETWORK_ERROR,details:l.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:t,response:e})},r.loadtimeout=function(e,t){var t=t.frag,n=t.loader;n&&n.abort(),delete this.loaders[t.type],this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.NETWORK_ERROR,details:l.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:t})},n}(o);var U="NOT_LOADED",B="APPENDING",z="PARTIAL",V="OK",G=function(n){var e;function t(e){var t=n.call(this,e,b.default.BUFFER_APPENDED,b.default.FRAG_BUFFERED,b.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}e=n,(r=t).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e;var r=t.prototype;return r.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,o.prototype.destroy.call(this),n.prototype.destroy.call(this)},r.getBufferedFrag=function(t,n){var r=this.fragments,e=Object.keys(r).filter(function(e){e=r[e];if(e.body.type!==n)return!1;if(!e.buffered)return!1;e=e.body;return e.startPTS<=t&&t<=e.endPTS});return 0===e.length?null:(e=e.pop(),r[e].body)},r.detectEvictedFragments=function(r,i){var o,a,s=this;Object.keys(this.fragments).forEach(function(e){var t=s.fragments[e];if(!0===t.buffered){e=t.range[r];if(e){o=e.time;for(var n=0;n<o.length;n++)if(a=o[n],!1===s.isTimeBuffered(a.startPTS,a.endPTS,i)){s.removeFragment(t.body);break}}}})},r.detectPartialFragments=function(n){var r=this,e=this.getFragmentKey(n),i=this.fragments[e];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(e){var t;n.hasElementaryStream(e)&&(t=r.timeRanges[e],i.range[e]=r.getBufferedTimes(n.startPTS,n.endPTS,t))}))},r.getBufferedTimes=function(e,t,n){for(var r,i,o=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,i=n.end(s)+this.bufferPadding,r<=e&&t<=i){o.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))});break}if(e<i&&r<t)o.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))}),a=!0;else if(t<=r)break}return{time:o,partial:a}},r.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},r.getPartialFragment=function(t){var n,r,i=this,o=null,a=0;return Object.keys(this.fragments).forEach(function(e){e=i.fragments[e];i.isPartial(e)&&(n=e.body.startPTS-i.bufferPadding,r=e.body.endPTS+i.bufferPadding,n<=t&&t<=r&&(n=Math.min(t-n,r-t),a<=n&&(o=e.body,a=n)))}),o},r.getState=function(e){var e=this.getFragmentKey(e),e=this.fragments[e],t=U;return t=void 0!==e?e.buffered?!0===this.isPartial(e)?z:V:B:t},r.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},r.isTimeBuffered=function(e,t,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,r<=e&&t<=i)return!0;if(t<=r)return!1}return!1},r.onFragLoaded=function(e){e=e.frag;Object(P.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},r.onBufferAppended=function(e){var n=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var t=n.timeRanges[e];n.detectEvictedFragments(e,t)})},r.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},r.hasFragment=function(e){e=this.getFragmentKey(e);return void 0!==this.fragments[e]},r.removeFragment=function(e){e=this.getFragmentKey(e);delete this.fragments[e]},r.removeAllFragments=function(){this.fragments=Object.create(null)},t}(o),W={search:function(e,t){for(var n=0,r=e.length-1;n<=r;){var i,o,a=t(o=e[i=(n+r)/2|0]);if(0<a)n=1+i;else{if(!(a<0))return o;r=i-1}}return null}},H=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,n){try{if(e){for(var r=e.buffered,i=[],o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,n){e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end});var r=[];if(n)for(var i=0;i<e.length;i++){var o,a=r.length;a?(o=r[a-1].end,e[i].start-o<n?e[i].end>o&&(r[a-1].end=e[i].end):r.push(e[i])):r.push(e[i])}else r=e;for(var s,c=0,f=t,d=t,u=0;u<r.length;u++){var l=r[u].start,h=r[u].end;if(l<=t+n&&t<h)f=l,c=(d=h)-t;else if(t+n<l){s=l;break}}return{len:c,start:f,end:d,nextStart:s}},e}(),K=e("./node_modules/eventemitter3/index.js"),q=e("./node_modules/webworkify-webpack/index.js"),$=e("./src/demux/demuxer-inline.js");function Y(){return window.MediaSource||window.WebKitMediaSource}var X=e("./src/utils/get-self-scope.js");var Q=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n,r.prototype.trigger=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(n))},r}(K.EventEmitter),Z=Object(X.getSelfScope)(),J=Y()||{isTypeSupported:function(){return!1}},ee=function(){function e(n,e){function t(e,t){(t=t||{}).frag=i.frag,t.id=i.id,n.trigger(e,t)}var r,i=this,o=(this.hls=n,this.id=e,this.observer=new Q),a=n.config,s=(o.on(b.default.FRAG_DECRYPTED,t),o.on(b.default.FRAG_PARSING_INIT_SEGMENT,t),o.on(b.default.FRAG_PARSING_DATA,t),o.on(b.default.FRAG_PARSED,t),o.on(b.default.ERROR,t),o.on(b.default.FRAG_PARSING_METADATA,t),o.on(b.default.FRAG_PARSING_USERDATA,t),o.on(b.default.INIT_PTS_FOUND,t),{mp4:J.isTypeSupported("video/mp4"),mpeg:J.isTypeSupported("audio/mpeg"),mp3:J.isTypeSupported('audio/mp4; codecs="mp3"')}),u=navigator.vendor;if(a.enableWorker&&"undefined"!=typeof Worker){A.logger.log("demuxing in webworker");try{r=this.w=q(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),r.addEventListener("message",this.onwmsg),r.onerror=function(e){n.trigger(b.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},r.postMessage({cmd:"init",typeSupported:s,vendor:u,id:e,config:JSON.stringify(a)})}catch(e){A.logger.warn("Error in worker:",e),A.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),r&&Z.URL.revokeObjectURL(r.objectURL),this.demuxer=new $.default(o,s,a,u),this.w=void 0}}else this.demuxer=new $.default(o,s,a,u)}var t=e.prototype;return t.destroy=function(){var e=this.w,e=(e?(e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null):(e=this.demuxer)&&(e.destroy(),this.demuxer=null),this.observer);e&&(e.removeAllListeners(),this.observer=null)},t.push=function(e,t,n,r,i,o,a,c){var f=this.w,d=Object(P.isFiniteNumber)(i.startPTS)?i.startPTS:i.start,h=i.decryptdata,s=this.frag,u=!(s&&i.cc===s.cc),l=!(s&&i.level===s.level),s=s&&i.sn===s.sn+1,s=!l&&s;u&&A.logger.log(this.id+":discontinuity detected"),l&&A.logger.log(this.id+":switch detected"),this.frag=i,f?f.postMessage({cmd:"demux",data:e,decryptdata:h,initSegment:t,audioCodec:n,videoCodec:r,timeOffset:d,discontinuity:u,trackSwitch:l,contiguous:s,duration:o,accurateTimeOffset:a,defaultInitPTS:c},e instanceof ArrayBuffer?[e]:[]):(i=this.demuxer)&&i.push(e,h,t,n,r,d,u,l,s,o,a,c)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":Z.URL.revokeObjectURL(this.w.objectURL);break;case b.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},e}();function te(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function ne(e,t,n){var r=e[t],e=e[n],i=e.startPTS;Object(P.isFiniteNumber)(i)?t<n?(r.duration=i-r.start,r.duration<0&&A.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(e.duration=r.start-i,e.duration<0&&A.logger.warn("negative duration computed for frag "+e.sn+",level "+e.level+", there should be some duration drift between playlist and fragment!")):e.start=t<n?r.start+r.duration:Math.max(r.start-e.duration,0)}function re(e,t,n,r,i,o){var a,s,u=n,l=(Object(P.isFiniteNumber)(t.startPTS)&&(l=Math.abs(t.startPTS-n),Object(P.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(l,t.deltaPTS):t.deltaPTS=l,u=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),r=Math.max(r,t.endPTS),i=Math.min(i,t.startDTS),o=Math.max(o,t.endDTS)),n-t.start),u=(t.start=t.startPTS=n,t.maxStartPTS=u,t.endPTS=r,t.startDTS=i,t.endDTS=o,t.duration=r-n,t.sn);if(!e||u<e.startSN||u>e.endSN)return 0;for(i=u-e.startSN,(a=e.fragments)[i]=t,s=i;0<s;s--)ne(a,s,s-1);for(s=i;s<a.length-1;s++)ne(a,s,s+1);return e.PTSKnown=!0,l}function ie(e,n){n.initSegment&&e.initSegment&&(n.initSegment=e.initSegment);var r,i=0;if(oe(e,n,function(e,t){i=e.cc-t.cc,Object(P.isFiniteNumber)(e.startPTS)&&(t.start=t.startPTS=e.startPTS,t.endPTS=e.endPTS,t.duration=e.duration,t.backtracked=e.backtracked,t.dropped=e.dropped,r=t),n.PTSKnown=!0}),n.PTSKnown){if(i){A.logger.log("discontinuity sliding from playlist, take drift into account");for(var t=n.fragments,o=0;o<t.length;o++)t[o].cc+=i}if(r)re(n,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else{var a=e,s=n,u=s.startSN-a.startSN,c=a.fragments,f=s.fragments;if(!(u<0||u>c.length))for(var l=0;l<f.length;l++)f[l].start+=c[u].start}n.PTSKnown=e.PTSKnown}}function oe(e,t,n){if(e&&t)for(var r=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,o=t.startSN-e.startSN,a=r;a<=i;a++){var s=e.fragments[o+a],u=t.fragments[a];if(!s||!u)break;n(s,u,a)}}function ae(e,t,n){var r=1e3*(t.averagetargetduration||t.targetduration),i=r/2;return e&&t.endSN===e.endSN&&(r=i),n&&(r=Math.max(i,r-(window.performance.now()-n))),Math.round(r)}var se={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}};function ue(e,t){e=e.fragments,t=t.fragments;if(t.length&&e.length){e=function(e,t){for(var n=null,r=0;r<e.length;r+=1){var i=e[r];if(i&&i.cc===t){n=i;break}}return n}(e,t[0].cc);if(e&&e.startPTS)return e;A.logger.log("No frag in previous level to align on")}else A.logger.log("No fragments to align")}function le(n,e){e.fragments.forEach(function(e){var t;e&&(t=e.start+n,e.start=e.startPTS=t,e.endPTS=t+e.duration)}),e.PTSKnown=!0}function ce(e,t,n){var r,i;!function(e,t,n){var r=!1;return r=t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)?!0:r}(e=e,r=t,i=n)||(e=ue(r.details,i))&&(A.logger.log("Adjusting PTS using last level due to CC increase within current level"),le(e.start,i)),!n.PTSKnown&&t&&(r=n,(e=t.details)&&e.fragments.length&&r.hasProgramDateTime&&e.hasProgramDateTime&&(i=e.fragments[0].programDateTime,i=(r.fragments[0].programDateTime-i)/1e3+e.fragments[0].start,Object(P.isFiniteNumber)(i)&&(A.logger.log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),le(i,r))))}function fe(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(P.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if((e[e.length-1].endProgramDateTime||0)<=t)return null;n=n||0;for(var r=0;r<e.length;++r){var i=e[r];if(function(e,t,n){t=1e3*Math.min(t,n.duration+(n.deltaPTS||0));return(n.endProgramDateTime||0)-t>e}(t,n,i))return i}return null}function de(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);e=e?t[e.sn-t[0].sn+1]:null;return e&&!he(n,r,e)?e:W.search(t,he.bind(null,n,r))}function he(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);t=Math.min(t,n.duration+(n.deltaPTS||0));return n.start+n.duration-t<=e?1:n.start-t>e&&n.start?-1:0}var pe=function(){function e(e,t,n,r){this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,n=this.media,r=this.stalled,i=n.currentTime,o=n.seeking,a=this.seeking&&!o,s=!this.seeking&&o;if(this.seeking=o,i!==e)return this.moved=!0,void(null!==r&&(this.stallReported&&(e=self.performance.now()-r,A.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(e)+"ms"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0));if((s||a)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){e=H.bufferInfo(n,i,0),s=0<e.len,a=e.nextStart||0;if(s||a){if(o){if(2<e.len||(!a||2<a-i))return;this.moved=!1}if(!this.moved&&this.stalled){s=Math.max(a,e.start||0)-i;if(0<s&&s<=2)return void this._trySkipBufferHole(null)}a=self.performance.now();null!==r?(s=a-r,!o&&250<=s&&this._reportStall(e.len),r=H.bufferInfo(n,i,t.maxBufferHole),this._tryFixBufferStall(r,s)):this.stalled=a}}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,r=r.getPartialFragment(i);if(r&&this._trySkipBufferHole(r))return;e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(A.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,A.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),t.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,r=this.media,i=r.currentTime,o=0,a=0;a<r.buffered.length;a++){var s=r.buffered.start(a);if(i+t.maxBufferHole>=o&&i<s)return s=Math.max(s+.05,r.currentTime+.1),A.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+s),this.moved=!0,this.stalled=null,r.currentTime=s,e&&n.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+s,frag:e}),s;o=r.buffered.end(a)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,i=(this.nudgeRetry||0)+1;(this.nudgeRetry=i)<e.nudgeMaxRetry?(i=r+i*e.nudgeOffset,A.logger.warn("Nudging 'currentTime' from "+r+" to "+i),n.currentTime=i,t.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})):(A.logger.error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0}))},e}();K=function(i){var e;function t(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(e=i.call.apply(i,[this,e].concat(n))||this)._boundTick=void 0,e._tickTimer=null,e._tickInterval=null,e._tickCallCount=0,e._boundTick=e.tick.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)),e}e=i,(n=t).prototype=Object.create(e.prototype),(n.prototype.constructor=n).__proto__=e;var n=t.prototype;return n.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},n.hasInterval=function(){return!!this._tickInterval},n.hasNextTick=function(){return!!this._tickTimer},n.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},n.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),!(this._tickInterval=null))},n.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),!(this._tickTimer=null))},n.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),1<this._tickCallCount&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},n.doTick=function(){},t}(o);var ge="STOPPED",ve="STARTING",w="IDLE",ye="PAUSED",me="KEY_LOADING",be="FRAG_LOADING",we="FRAG_LOADING_WAITING_RETRY",_e="WAITING_TRACK",Ee="PARSING",Se="PARSED",ke="BUFFER_FLUSHING",Te="ENDED",xe="ERROR",Oe="WAITING_INIT_PTS",Pe="WAITING_LEVEL",X=function(e){var t;function n(){return e.apply(this,arguments)||this}t=e,(r=n).prototype=Object.create(t.prototype),(r.prototype.constructor=r).__proto__=t;var r=n.prototype;return r.doTick=function(){},r.startLoad=function(){},r.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ge},r._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;return!(t.live||!n||n.backtracked||n.sn!==t.endSN||e.nextStart)&&((t=r.getState(n))===z||t===V)},r.onMediaSeeking=function(){var e,t,n=this.config,r=this.media,i=this.mediaBuffer,o=this.state,a=r?r.currentTime:null,i=H.bufferInfo(i||r,a,this.config.maxBufferHole);Object(P.isFiniteNumber)(a)&&A.logger.log("media seeking to "+a.toFixed(3)),o===be?(e=this.fragCurrent,0===i.len&&e&&(n=n.maxFragLookUpTolerance,t=e.start-n,n=e.start+e.duration+n,a<t||n<a?(e.loader&&(A.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=w):A.logger.log("seeking outside of buffer but within currently loaded fragment range"))):o===Te&&(0===i.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=w),r&&(this.lastCurrentTime=a),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=a),this.tick()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=ge,this.fragmentTracker=null},r.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},n}(K);function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ce=function(r){function e(e,t){var n=r.call(this,e,b.default.MEDIA_ATTACHED,b.default.MEDIA_DETACHING,b.default.MANIFEST_LOADING,b.default.MANIFEST_PARSED,b.default.LEVEL_LOADED,b.default.KEY_LOADED,b.default.FRAG_LOADED,b.default.FRAG_LOAD_EMERGENCY_ABORTED,b.default.FRAG_PARSING_INIT_SEGMENT,b.default.FRAG_PARSING_DATA,b.default.FRAG_PARSED,b.default.ERROR,b.default.AUDIO_TRACK_SWITCHING,b.default.AUDIO_TRACK_SWITCHED,b.default.BUFFER_CREATED,b.default.BUFFER_APPENDED,b.default.BUFFER_FLUSHED)||this;return n.fragmentTracker=t,n.config=e.config,n.audioCodecSwap=!1,n._state=ge,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n}t=r,(i=e).prototype=Object.create(t.prototype),(i.prototype.constructor=i).__proto__=t;var t,n,i=e.prototype;return i.startLoad=function(e){var t,n,r;this.levels?(t=this.lastCurrentTime,n=this.hls,this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,this.startFragRequested||(-1===(r=n.startLevel)&&(this.bitrateTest=!(r=0)),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1),0<t&&-1===e&&(A.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=w,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()):(this.forceStartLoad=!0,this.state=ge)},i.stopLoad=function(){this.forceStartLoad=!1,r.prototype.stopLoad.call(this)},i.doTick=function(){switch(this.state){case ke:this.fragLoadError=0;break;case w:this._doTickIdle();break;case Pe:var e=this.levels[this.level];e&&e.details&&(this.state=w);break;case we:var e=window.performance.now(),t=this.retryDate;(!t||t<=e||this.media&&this.media.seeking)&&(A.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=w)}this._checkBuffer(),this._checkFragmentChanged()},i._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var r=this.loadedmetadata?n.currentTime:this.nextLoadPosition,i=e.nextLoadLevel,o=this.levels[i];if(o){var a=o.bitrate,a=a?Math.max(8*t.maxBufferSize/a,t.maxBufferLength):t.maxBufferLength,n=(a=Math.min(a,t.maxMaxBufferLength),H.bufferInfo(this.mediaBuffer||n,r,t.maxBufferHole)),t=n.len;if(!(a<=t)){A.logger.trace("buffer length of "+t.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;t=o.details;if(t&&(!t.live||this.levelLastLoaded===i))return this._streamEnded(n,t)?(a={},this.altAudio&&(a.type="video"),this.hls.trigger(b.default.BUFFER_EOS,a),void(this.state=Te)):void this._fetchPayloadOrEos(r,n,t);this.state=Pe}}}},i._fetchPayloadOrEos=function(c,e,t){var n=this.fragPrevious,r=this.level,i=t.fragments,o=i.length;if(0!==o){var a,s=i[0].start,u=i[o-1].start+i[o-1].duration,e=e.end;if(t.initSegment&&!t.initSegment.data)a=t.initSegment;else if(t.live){var l=this.config.initialLiveManifestSize;if(o<l)return void A.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+l);if(null===(a=this._ensureFragmentAtLivePoint(t,e,s,u,n,i,o)))return}else e<s&&(a=i[0]);(a=a||this._findFragment(s,n,o,i,e,u,t))&&(a.encrypted?(A.logger.log("Loading key for "+a.sn+" of ["+t.startSN+" ,"+t.endSN+"],level "+r),this._loadKey(a)):(A.logger.log("Loading "+a.sn+" of ["+t.startSN+" ,"+t.endSN+"],level "+r+", currentTime:"+c.toFixed(3)+",bufferEnd:"+e.toFixed(3)),this._loadFragment(a)))}},i._ensureFragmentAtLivePoint=function(e,t,n,r,i,o,c){var a,s=this.hls.config,u=this.media,l=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;return t<Math.max(n-s.maxFragLookUpTolerance,r-l)&&(t=l=this.liveSyncPosition=this.computeLivePosition(n,e),u&&!u.paused&&u.readyState&&u.duration>l&&l>u.currentTime&&(A.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+l.toFixed(3)),u.currentTime=l),this.nextLoadPosition=l),e.PTSKnown&&r<t&&u&&u.readyState?null:(this.startFragRequested&&!e.PTSKnown&&(i&&(e.hasProgramDateTime?(A.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),a=fe(o,i.endProgramDateTime,s.maxFragLookUpTolerance)):((n=i.sn+1)>=e.startSN&&n<=e.endSN&&(l=o[n-e.startSN],i.cc===l.cc&&A.logger.log("live playlist, switching playlist, load frag with next SN: "+(a=l).sn)),a||(a=W.search(o,function(e){return i.cc-e.cc}))&&A.logger.log("live playlist, switching playlist, load frag with same CC: "+a.sn))),a||(a=o[Math.min(c-1,Math.round(c/2))],A.logger.log("live playlist, switching playlist, unknown, load middle frag : "+a.sn))),a)},i._findFragment=function(e,t,n,r,i,o,a){var s,u=this.hls.config;return(i=i<o?de(t,r,i,i>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance):r[n-1])&&(o=i.sn-a.startSN,n=t&&i.level===t.level,s=r[o-1],r=r[1+o],t&&i.sn===t.sn&&(n&&!i.backtracked?i.sn<a.endSN?(n=t.deltaPTS)&&n>u.maxBufferHole&&t.dropped&&o?(i=s,A.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):A.logger.log("Re-loading fragment with SN: "+(i=r).sn):i=null:i.backtracked&&(r&&r.backtracked?(A.logger.warn("Already backtracked from fragment "+r.sn+", will not backtrack to fragment "+i.sn+". Loading fragment "+r.sn),i=r):(A.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),i.dropped=0,s?(i=s).backtracked=!0:o&&(i=null))))),i},i._loadKey=function(e){this.state=me,this.hls.trigger(b.default.KEY_LOADING,{frag:e})},i._loadFragment=function(e){var t=this.fragmentTracker.getState(e);"initSegment"!==(this.fragCurrent=e).sn&&(this.startFragRequested=!0),Object(P.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===U||t===z?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(b.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new ee(this.hls,"main")),this.state=be):t===B&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},i.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,a.MAIN)},i.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},i._checkFragmentChanged=function(){var e,t,n=this.media;n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),H.isBuffered(n,t)?e=this.getBufferedFrag(t):H.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),!e||(n=e)!==this.fragPlaying&&(this.hls.trigger(b.default.FRAG_CHANGED,{frag:n}),t=n.level,this.fragPlaying&&this.fragPlaying.level===t||this.hls.trigger(b.default.LEVEL_SWITCHED,{level:t}),this.fragPlaying=n))},i.immediateLevelSwitch=function(){A.logger.log("immediateLevelSwitch"),this.immediateSwitch||(this.immediateSwitch=!0,(t=this.media)?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e);var e,t=this.fragCurrent;t&&t.loader&&t.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},i.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,H.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},i.nextLevelSwitch=function(){var e,t,n=this.media;n&&n.readyState&&((t=this.getBufferedFrag(n.currentTime))&&1<t.startPTS&&this.flushMainBuffer(0,t.startPTS-1),t=n.paused?0:(t=this.hls.nextLoadLevel,t=this.levels[t],(e=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*t.bitrate/(1e3*e)+1:0),(e=(e=this.getBufferedFrag(n.currentTime+t))&&this.followingBufferedFrag(e))&&((n=this.fragCurrent)&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(e.maxStartPTS,Number.POSITIVE_INFINITY)))},i.flushMainBuffer=function(e,t){this.state=ke;e={startOffset:e,endOffset:t};this.altAudio&&(e.type="video"),this.hls.trigger(b.default.BUFFER_FLUSHING,e)},i.onMediaAttached=function(e){var e=this.media=this.mediaBuffer=e.media,t=(this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended),this.config);this.levels&&t.autoStartLoad&&this.hls.startLoad(t.startPosition),this.gapController=new pe(t,e,this.fragmentTracker,this.hls)},i.onMediaDetaching=function(){var e=this.media,t=(e&&e.ended&&(A.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),this.levels);t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.onMediaSeeked=function(){var e=this.media,e=e?e.currentTime:void 0;Object(P.isFiniteNumber)(e)&&A.logger.log("media seeked to "+e.toFixed(3)),this.tick()},i.onManifestLoading=function(){A.logger.log("trigger BUFFER_RESET"),this.hls.trigger(b.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},i.onManifestParsed=function(e){var t,n=!1,r=!1,e=(e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&A.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1,this.config);(e.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(e.startPosition)},i.onLevelLoaded=function(e){var t,n=e.details,e=e.level,r=this.levels[this.levelLastLoaded],i=this.levels[e],o=n.totalduration,a=0;A.logger.log("level "+e+" loaded ["+n.startSN+","+n.endSN+"],duration:"+o),n.live?(t=i.details)&&0<n.fragments.length?(ie(t,n),a=n.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,t),n.PTSKnown&&Object(P.isFiniteNumber)(a)?A.logger.log("live playlist sliding:"+a.toFixed(3)):(A.logger.log("live playlist - outdated PTS, unknown sliding"),ce(this.fragPrevious,r,n))):(A.logger.log("live playlist - first load, unknown sliding"),n.PTSKnown=!1,ce(this.fragPrevious,r,n)):n.PTSKnown=!1,i.details=n,this.levelLastLoaded=e,this.hls.trigger(b.default.LEVEL_UPDATED,{details:n,level:e}),!1===this.startFragRequested&&(-1!==this.startPosition&&-1!==this.lastCurrentTime||(t=n.startTimeOffset,Object(P.isFiniteNumber)(t)?(t<0&&(A.logger.log("negative start time offset "+t+", count from end of last fragment"),t=a+o+t),A.logger.log("start time offset found in playlist, adjust startPosition to "+t),this.startPosition=t):n.live?(this.startPosition=this.computeLivePosition(a,n),A.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition),this.nextLoadPosition=this.startPosition),this.state===Pe&&(this.state=w),this.tick()},i.onKeyLoaded=function(){this.state===me&&(this.state=w,this.tick())},i.onFragLoaded=function(e){var t,n,r=this.fragCurrent,i=this.hls,o=this.levels,a=this.media,s=e.frag;this.state===be&&r&&"main"===s.type&&s.level===r.level&&s.sn===r.sn&&(n=e.stats,t=(o=o[r.level]).details,this.bitrateTest=!1,this.stats=n,A.logger.log("Loaded "+r.sn+" of ["+t.startSN+" ,"+t.endSN+"],level "+r.level),s.bitrateTest&&i.nextLoadLevel?(this.state=w,this.startFragRequested=!1,n.tparsed=n.tbuffered=window.performance.now(),i.trigger(b.default.FRAG_BUFFERED,{stats:n,frag:r,id:"main"}),this.tick()):"initSegment"===s.sn?(this.state=w,n.tparsed=n.tbuffered=window.performance.now(),t.initSegment.data=e.payload,i.trigger(b.default.FRAG_BUFFERED,{stats:n,frag:r,id:"main"}),this.tick()):(A.logger.log("Parsing "+r.sn+" of ["+t.startSN+" ,"+t.endSN+"],level "+r.level+", cc "+r.cc),this.state=Ee,this.pendingBuffering=!0,this.appended=!1,s.bitrateTest&&(s.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:s})),i=!(a&&a.seeking)&&(t.PTSKnown||!t.live),n=t.initSegment?t.initSegment.data:[],s=this._getAudioCodec(o),(this.demuxer=this.demuxer||new ee(this.hls,"main")).push(e.payload,n,s,o.videoCodec,r,t.totalduration,i))),this.fragLoadError=0},i.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ee){var r,i,o=e.tracks;for(r in o.audio&&this.altAudio&&delete o.audio,(i=o.audio)&&(n=this.levels[this.level].audioCodec,t=navigator.userAgent.toLowerCase(),n&&this.audioCodecSwap&&(A.logger.log("swapping playlist audio codec"),n=-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===t.indexOf("firefox")&&(n="mp4a.40.5"),-1!==t.indexOf("android")&&"audio/mpeg"!==i.container&&A.logger.log("Android: force audio codec to "+(n="mp4a.40.2")),i.levelCodec=n,i.id=e.id),(i=o.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(b.default.BUFFER_CODECS,o),o){i=o[r],A.logger.log("main track:"+r+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;a&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(b.default.BUFFER_APPENDING,{type:r,data:a,parent:"main",content:"initSegment"}))}this.tick()}},i.onFragParsingData=function(t){var n=this,e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&("audio"!==t.type||!this.altAudio)&&this.state===Ee){var r=this.levels[this.level],i=e;if(Object(P.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+e.duration,t.endDTS=t.startDTS+e.duration),!0===t.hasAudio&&i.addElementaryStream(d.AUDIO),!0===t.hasVideo&&i.addElementaryStream(d.VIDEO),A.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(i.dropped=t.dropped,i.dropped)if(i.backtracked)A.logger.warn("Already backtracked on this fragment, appending with the gap",i.sn);else{e=r.details;if(!e||i.sn!==e.startSN)return A.logger.warn("missing video frame(s), backtracking fragment",i.sn),this.fragmentTracker.removeFragment(i),i.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=w,this.fragPrevious=i,void this.tick();A.logger.warn("missing video frame(s) on first frag, appending with gap",i.sn)}else i.backtracked=!1;var e=re(r.details,i,t.startPTS,t.endPTS,t.startDTS,t.endDTS),o=this.hls;o.trigger(b.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:e,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&n.state===Ee&&(n.appended=!0,n.pendingBuffering=!0,o.trigger(b.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},i.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ee&&(this.stats.tparsed=window.performance.now(),this.state=Se,this._checkAppendedParsed())},i.onAudioTrackSwitching=function(e){var t=!!e.url,e=e.id;t||(this.mediaBuffer!==this.media&&(A.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,(t=this.fragCurrent).loader&&(A.logger.log("switching to main audio track, cancel main fragment load"),t.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=w),(t=this.hls).trigger(b.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),t.trigger(b.default.AUDIO_TRACK_SWITCHED,{id:e}),this.altAudio=!1)},i.onAudioTrackSwitched=function(e){var t,e=e.id,e=!!this.hls.audioTracks[e].url;!e||(t=this.videoBuffer)&&this.mediaBuffer!==t&&(A.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t),this.altAudio=e,this.tick()},i.onBufferCreated=function(e){var t,n,r,i=e.tracks,o=!1;for(r in i){var a=i[r];"main"===a.id?(t=a,"video"===(n=r)&&(this.videoBuffer=i[r].buffer)):o=!0}o&&t?(A.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},i.onBufferAppended=function(e){var t;"main"===e.parent&&((t=this.state)!==Ee&&t!==Se||(this.pendingBuffering=0<e.pending,this._checkAppendedParsed()))},i._checkAppendedParsed=function(){var e,t;this.state!==Se||this.appended&&this.pendingBuffering||((e=this.fragCurrent)&&(t=this.mediaBuffer||this.media,A.logger.log("main buffered : "+se.toString(t.buffered)),this.fragPrevious=e,(t=this.stats).tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*t.total/(t.tbuffered-t.tfirst)),this.hls.trigger(b.default.FRAG_BUFFERED,{stats:t,frag:e,id:"main"}),this.state=w),this.tick())},i.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n,r=!!this.media&&H.isBuffered(this.media,this.media.currentTime)&&H.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:e.fatal||(this.fragLoadError+1<=this.config.fragLoadingMaxRetry?(n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout),A.logger.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=we):(A.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=xe));break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==xe&&(e.fatal?(this.state=xe,A.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==Pe||(this.state=w));break;case l.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==Ee&&this.state!==Se||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=w):(A.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},i._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,A.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},i._checkBuffer=function(){var e=this.media;e&&0!==e.readyState&&(e=(this.mediaBuffer||e).buffered,!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e))},i.onFragLoadEmergencyAborted=function(){this.state=w,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},i.onBufferFlushed=function(){var e=this.mediaBuffer||this.media;e&&this.fragmentTracker.detectEvictedFragments(d.VIDEO,e.buffered),this.state=w,this.fragPrevious=null},i.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},i._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=e.seeking?t:this.startPosition;t!==n&&0<=n&&(A.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+t+" "),e.currentTime=n)},i._getAudioCodec=function(e){e=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(A.logger.log("swapping playlist audio codec"),e=e&&(-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},t=e,(i=[{key:"state",set:function(e){var t;this.state!==e&&(t=this.state,this._state=e,A.logger.log("main stream-controller: "+t+"->"+e),this.hls.trigger(b.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e}))},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){e=this.getBufferedFrag(e.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}])&&Ae(t.prototype,i),n&&Ae(t,n),e}(X);function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.performance;var Le,De=function(t){function e(e){e=t.call(this,e,b.default.MANIFEST_LOADED,b.default.LEVEL_LOADED,b.default.AUDIO_TRACK_SWITCHED,b.default.FRAG_LOADED,b.default.ERROR)||this;return e.canload=!1,e.currentLevelIndex=null,e.manualLevelIndex=-1,e.timer=null,Le=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),e}n=t,(i=e).prototype=Object.create(n.prototype),(i.prototype.constructor=i).__proto__=n;var n,r,i=e.prototype;return i.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},i.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},i.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},i.stopLoad=function(){this.canload=!1},i.onManifestLoaded=function(e){var t,n=[],r=[],i={},o=null,a=!1,s=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,s=s||!!e.audioCodec,Le&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(o=i[e.bitrate])?o.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,n.push(e)),t&&(t.AUDIO&&(s=!0,te(o||e,"audio",t.AUDIO)),t.SUBTITLES&&te(o||e,"text",t.SUBTITLES))}),n=(n=a&&s?n.filter(function(e){return!!e.videoCodec}):n).filter(function(e){var t=e.audioCodec,e=e.videoCodec;return(!t||E(t,"audio"))&&(!e||E(e,"video"))}),e.audioTracks&&(r=e.audioTracks.filter(function(e){return!e.audioCodec||E(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),0<n.length){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var u=0;u<n.length;u++)if(n[u].bitrate===t){this._firstLevel=u,A.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(b.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:a,altAudio:r.some(function(e){return!!e.url})})}else this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},i.setLevelInternal=function(e){var t,n=this._levels,r=this.hls;0<=e&&e<n.length?(this.clearTimer(),this.currentLevelIndex!==e&&(A.logger.log("switching to level "+e),(t=n[this.currentLevelIndex=e]).level=e,r.trigger(b.default.LEVEL_SWITCHING,t)),(n=(t=n[e]).details)&&!n.live||(n=t.urlId,r.trigger(b.default.LEVEL_LOADING,{url:t.url[n],level:e,id:n}))):r.trigger(b.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},i.onError=function(e){if(e.fatal)e.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,n=!1,r=!1;switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,r=!0;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,n=!0;break;case l.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,n=!0}void 0!==t&&this.recoverLevel(e,t,n,r)}},i.recoverLevel=function(e,t,n,r){var i=this,o=this.hls.config,a=e.details,s=this._levels[t];if(s.loadError++,s.fragmentError=r,n){if(!(this.levelRetryCount+1<=o.levelLoadingMaxRetry))return A.logger.error("level controller, cannot recover from "+a+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*o.levelLoadingRetryDelay,o.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return i.loadLevel()},o),e.levelRetry=!0,this.levelRetryCount++,A.logger.warn("level controller, "+a+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&(1<(e=s.url.length)&&s.loadError<e?(s.urlId=(s.urlId+1)%e,s.details=void 0,A.logger.warn("level controller, "+a+" for level "+t+": switching to redundant URL-id "+s.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,A.logger.warn("level controller, "+a+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):r&&(A.logger.warn("level controller, "+a+": reload a fragment"),this.currentLevelIndex=null))},i.onFragLoaded=function(e){var e=e.frag;void 0===e||"main"!==e.type||void 0!==(e=this._levels[e.level])&&(e.fragmentError=!1,e.loadError=0,this.levelRetryCount=0)},i.onLevelLoaded=function(e){var t=this,n=e.level,r=e.details;n===this.currentLevelIndex&&((n=this._levels[n]).fragmentError||(n.loadError=0,this.levelRetryCount=0),r.live?(n=ae(n.details,r,e.stats.trequest),A.logger.log("live playlist, reload in "+Math.round(n)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},n)):this.clearTimer())},i.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=0;i<n.audioGroupIds.length;i++)if(n.audioGroupIds[i]===t){r=i;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},i.loadLevel=function(){var e,t,n;A.logger.debug("call to loadLevel"),null===this.currentLevelIndex||!this.canload||"object"==typeof(n=this._levels[this.currentLevelIndex])&&0<n.url.length&&(e=this.currentLevelIndex,t=n.urlId,n=n.url[t],A.logger.log("Attempt loading level index "+e+" with URL-id "+t),this.hls.trigger(b.default.LEVEL_LOADING,{url:n,level:e,id:t}))},n=e,(i=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){var e;return void 0===this._startLevel?void 0!==(e=this.hls.config.startLevel)?e:this._firstLevel:this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&Re(n.prototype,i),r&&Re(n,r),e}(o),Ie=e("./src/demux/id3.js");function Me(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function Fe(e){if(e&&e.cues)for(;0<e.cues.length;)e.removeCue(e.cues[0])}var je=function(t){var e;function n(e){e=t.call(this,e,b.default.MEDIA_ATTACHED,b.default.MEDIA_DETACHING,b.default.FRAG_PARSING_METADATA,b.default.LIVE_BACK_BUFFER_REACHED)||this;return e.id3Track=void 0,e.media=void 0,e}e=t,(r=n).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e;var r=n.prototype;return r.destroy=function(){o.prototype.destroy.call(this)},r.onMediaAttached=function(e){this.media=e.media,this.media},r.onMediaDetaching=function(){Fe(this.id3Track),this.id3Track=void 0,this.media=void 0},r.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Me(n,this.media),n}return this.media.addTextTrack("metadata","id3")},r.onFragParsingMetadata=function(e){for(var t=e.frag,n=e.samples,c=(this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden"),window.WebKitDataCue||window.VTTCue||window.TextTrackCue),r=0;r<n.length;r++){var i=Ie.default.getID3Frames(n[r].data);if(i){var o=n[r].pts,a=r<n.length-1?n[r+1].pts:t.endPTS;o===a?a+=1e-4:a<o&&(A.logger.warn("detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)"),a=o+.25);for(var s=0;s<i.length;s++){var u,l=i[s];Ie.default.isTimeStampFrame(l)||((u=new c(o,a,"")).value=l,this.id3Track.addCue(u))}}}},r.onLiveBackBufferReached=function(e){var e=e.bufferEnd,t=this.id3Track;if(t&&t.cues&&t.cues.length){var n=function(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];for(var n=0,r=e.length-1;n<=r;){var i=Math.floor((r+n)/2);if(t<e[i].endTime)r=i-1;else{if(!(t>e[i].endTime))return e[i];n=i+1}}return e[n].endTime-t<t-e[r].endTime?e[n]:e[r]}(t.cues,e);if(n)for(;t.cues[0]!==n;)t.removeCue(t.cues[0])}},n}(o);var Ne=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){var e;return this.alpha_?(e=1-Math.pow(this.alpha_,this.totalWeight_),this.estimate_/e):this.estimate_},e}(),Ue=function(){function e(e,t,n,r){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ne(t),this.fast_=new Ne(n)}var t=e.prototype;return t.sample=function(e,t){e=(e=Math.max(e,this.minDelayMs_))/1e3,t=8*t/e;this.fast_.sample(e,t),this.slow_.sample(e,t)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ze=window.performance,Ve=function(n){function e(e){var t=n.call(this,e,b.default.FRAG_LOADING,b.default.FRAG_LOADED,b.default.FRAG_BUFFERED,b.default.ERROR)||this;return t.lastLoadedFragLevel=0,t._nextAutoLevel=-1,t.hls=e,t.timer=null,t._bwEstimator=null,t.onCheck=t._abandonRulesCheck.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)),t}t=n,(i=e).prototype=Object.create(t.prototype),(i.prototype.constructor=i).__proto__=t;var t,r,i=e.prototype;return i.destroy=function(){this.clearTimer(),o.prototype.destroy.call(this)},i.onFragLoading=function(e){var t,n,r,e=e.frag;"main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),this._bwEstimator||(n=(t=this.hls).config,e=e.level,e=t.levels[e].details.live?(r=n.abrEwmaFastLive,n.abrEwmaSlowLive):(r=n.abrEwmaFastVoD,n.abrEwmaSlowVoD),this._bwEstimator=new Ue(t,e,r,n.abrEwmaDefaultEstimate)))},i._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var r=n.loader,c=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return A.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var i=r.stats;if(t&&i&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var o=ze.now()-i.trequest,f=Math.abs(t.playbackRate);if(o>500*n.duration/f){var a=e.levels,d=Math.max(1,i.bw?i.bw/8:1e3*i.loaded/o),s=a[n.level],s=s.realBitrate?Math.max(s.realBitrate,s.bitrate):s.bitrate,s=i.total||Math.max(i.loaded,Math.round(n.duration*s/8)),h=t.currentTime,s=(s-i.loaded)/d,u=(H.bufferInfo(t,h,e.config.maxBufferHole).end-h)/f;if(u<2*n.duration/f&&u<s){for(var l=n.level-1;c<l;l--){var p=a[l].realBitrate?Math.max(a[l].realBitrate,a[l].bitrate):a[l].bitrate;if(n.duration*p/(6.4*d)<u)break}void 0<s&&(A.logger.warn("loading too slow, abort fragment loading and switch to level "+l+":fragLoadedDelay["+l+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+s.toFixed(1)+":"+u.toFixed(1)),e.nextLoadLevel=l,this._bwEstimator.sample(o,i.loaded),r.abort(),this.clearTimer(),e.trigger(b.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:i}))}}}}},i.onFragLoaded=function(e){var t,n,r=e.frag;"main"===r.type&&Object(P.isFiniteNumber)(r.sn)&&(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate&&(t=((r=this.hls.levels[r.level]).loaded?r.loaded.bytes:0)+e.stats.loaded,n=(r.loaded?r.loaded.duration:0)+e.frag.duration,r.loaded={bytes:t,duration:n},r.realBitrate=Math.round(8*t/n)),e.frag.bitrateTest&&((r=e.stats).tparsed=r.tbuffered=r.tload,this.onFragBuffered(e)))},i.onFragBuffered=function(e){var t,n=e.stats,e=e.frag;!0===n.aborted||"main"!==e.type||!Object(P.isFiniteNumber)(e.sn)||e.bitrateTest&&n.tload!==n.tbuffered||(t=n.tparsed-n.trequest,A.logger.log("latency/loading/parsing/append/kbps:"+Math.round(n.tfirst-n.trequest)+"/"+Math.round(n.tload-n.tfirst)+"/"+Math.round(n.tparsed-n.tload)+"/"+Math.round(n.tbuffered-n.tparsed)+"/"+Math.round(8*n.loaded/(n.tbuffered-n.trequest))),this._bwEstimator.sample(t,n.loaded),n.bwEstimate=this._bwEstimator.getEstimate(),e.bitrateTest?this.bitrateTestDelay=t/1e3:this.bitrateTestDelay=0)},i.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},i.clearTimer=function(){clearInterval(this.timer),this.timer=null},i._findBestLevel=function(e,c,t,f,d,n,h,p,r){for(var i=d;f<=i;i--){var o=r[i];if(o){var o=o.details,a=o?o.totalduration/o.fragments.length:c,o=!!o&&o.live,s=void 0,s=i<=e?h*t:p*t,u=r[i].realBitrate?Math.max(r[i].realBitrate,r[i].bitrate):r[i].bitrate,l=u*a/s;if(A.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+i+"/"+Math.round(s)+"/"+u+"/"+a+"/"+n+"/"+l),u<s&&(!l||o&&!this.bitrateTestDelay||l<n))return i}}return-1},t=e,(i=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;t=this._nextABRAutoLevel;return t=-1!==e?Math.min(e,t):t},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e,t,n,r=this.hls,i=r.maxAutoLevel,o=r.levels,a=r.config,c=r.minAutoLevel,r=r.media,f=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=r?r.currentTime:0,l=r&&0!==r.playbackRate?Math.abs(r.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():a.abrEwmaDefaultEstimate,r=(H.bufferInfo(r,u,a.maxBufferHole).end-u)/l,u=this._findBestLevel(f,s,d,c,i,r,a.abrBandWidthFactor,a.abrBandWidthUpFactor,o);return 0<=u?u:(A.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering"),l=s?Math.min(s,a.maxStarvationDelay):a.maxStarvationDelay,e=a.abrBandWidthFactor,t=a.abrBandWidthUpFactor,0!=r||(n=this.bitrateTestDelay)&&(l=(s?Math.min(s,a.maxLoadingDelay):a.maxLoadingDelay)-n,A.logger.trace("bitrate test took "+Math.round(1e3*n)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*l)+" ms"),e=t=1),u=this._findBestLevel(f,s,d,c,i,r+l,e,t,o),Math.max(u,0))}}])&&Be(t.prototype,i),r&&Be(t,r),e}(o);var Ge=Y(),We=function(t){var e;function n(e){var a=t.call(this,e,b.default.MEDIA_ATTACHING,b.default.MEDIA_DETACHING,b.default.MANIFEST_PARSED,b.default.BUFFER_RESET,b.default.BUFFER_APPENDING,b.default.BUFFER_CODECS,b.default.BUFFER_EOS,b.default.BUFFER_FLUSHING,b.default.LEVEL_PTS_UPDATED,b.default.LEVEL_UPDATED)||this;return a._msDuration=null,a._levelDuration=null,a._levelTargetDuration=10,a._live=null,a._objectUrl=null,a._needsFlush=!1,a._needsEos=!1,a.config=void 0,a.audioTimestampOffset=void 0,a.bufferCodecEventsExpected=0,a._bufferCodecEventsTotal=0,a.media=null,a.mediaSource=null,a.segments=[],a.parent=void 0,a.appending=!1,a.appended=0,a.appendError=0,a.flushBufferCounter=0,a.tracks={},a.pendingTracks={},a.sourceBuffer={},a.flushRange=[],a._onMediaSourceOpen=function(){A.logger.log("media source opened"),a.hls.trigger(b.default.MEDIA_ATTACHED,{media:a.media});var e=a.mediaSource;e&&e.removeEventListener("sourceopen",a._onMediaSourceOpen),a.checkPendingTracks()},a._onMediaSourceClose=function(){A.logger.log("media source closed")},a._onMediaSourceEnded=function(){A.logger.log("media source ended")},a._onSBUpdateEnd=function(){a.audioTimestampOffset&&a.sourceBuffer.audio&&(t=a.sourceBuffer.audio,A.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+a.audioTimestampOffset),t.timestampOffset=a.audioTimestampOffset,delete a.audioTimestampOffset),a._needsFlush&&a.doFlush(),a._needsEos&&a.checkEos(),a.appending=!1;var e,n=a.parent,t=a.segments.reduce(function(e,t){return t.parent===n?e+1:e},0),r={},i=a.sourceBuffer;for(e in i){var o=i[e];if(!o)throw Error("handling source buffer update end error: source buffer for "+e+" uninitilized and unable to update buffered TimeRanges.");r[e]=o.buffered}a.hls.trigger(b.default.BUFFER_APPENDED,{parent:n,pending:t,timeRanges:r}),a._needsFlush||a.doAppending(),a.updateMediaElementDuration(),0===t&&a.flushLiveBackBuffer()},a._onSBUpdateError=function(e){A.logger.error("sourceBuffer error:",e),a.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},a.config=e.config,a}e=t,(r=n).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e;var r=n.prototype;return r.destroy=function(){o.prototype.destroy.call(this)},r.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){t=this.sourceBuffer.audio;if(!t)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(.1<Math.abs(t.timestampOffset-e.start)){n=t.updating;try{t.abort()}catch(e){A.logger.warn("can not abort audio buffer: "+e)}n?this.audioTimestampOffset=e.start:(A.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+e.start),t.timestampOffset=e.start)}}},r.onManifestParsed=function(e){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e.altAudio?2:1,A.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.onMediaAttaching=function(e){var t,e=this.media=e.media;e&&Ge&&((t=this.mediaSource=new Ge).addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(t),this._objectUrl=e.src)},r.onMediaDetaching=function(){A.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){A.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):A.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(b.default.MEDIA_DETACHED)},r.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,n=Object.keys(t).length;(n&&!e||2===n)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},r.onBufferReset=function(){var e,t=this.sourceBuffer;for(e in t){var n=t[e];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.onBufferCodecs=function(t){var n=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach(function(e){n.pendingTracks[e]=t[e]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},r.createSourceBuffers=function(e){var t,n=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(t in e)if(!n[t]){var i=e[t];if(!i)throw Error("source buffer exists for track "+t+", however track does not");var o=i.levelCodec||i.codec,a=i.container+";codecs="+o;A.logger.log("creating sourceBuffer("+a+")");try{var s=n[t]=r.addSourceBuffer(a);s.addEventListener("updateend",this._onSBUpdateEnd),s.addEventListener("error",this._onSBUpdateError),this.tracks[t]={buffer:s,codec:o,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(e){A.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:a})}}this.hls.trigger(b.default.BUFFER_CREATED,{tracks:this.tracks})},r.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},r.onBufferEos=function(e){for(var t in this.sourceBuffer){var n;e.type&&e.type!==t||(n=this.sourceBuffer[t])&&!n.ended&&(n.ended=!0,A.logger.log(t+" sourceBuffer now EOS"))}this.checkEos()},r.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){n=e[n];if(n){if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}}A.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){A.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},r.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))if(this.media)for(var t=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),i=t-Math.max(e,this._levelTargetDuration),o=r.length-1;0<=o;o--){var a,s=r[o],u=n[s];!u||0<(a=u.buffered).length&&i>a.start(0)&&this.removeBufferRange(s,u,0,i)&&this.hls.trigger(b.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}else A.logger.error("flushLiveBackBuffer called without attaching media")}},r.onLevelUpdated=function(e){e=e.details;0<e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},r.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){n=this.sourceBuffer[n];if(n&&!0===n.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(A.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object(P.isFiniteNumber)(e))&&(A.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n){var i=n[r];i&&(t+=i.buffered.length)}}catch(e){A.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(b.default.BUFFER_FLUSHED)}},r.doAppending=function(){var t=this.config,n=this.hls,r=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(!this.media||this.media.error)return this.segments=[],void A.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var o=r.shift();if(o)try{var e=i[o.type];if(!e)return void this._onSBUpdateEnd();if(e.updating)return void r.unshift(o);e.ended=!1,this.parent=o.parent,e.appendBuffer(o.data),this.appendError=0,this.appended++,this.appending=!0}catch(e){A.logger.error("error while trying to append buffer:"+e.message),r.unshift(o);i={type:l.ErrorTypes.MEDIA_ERROR,parent:o.parent,details:"",fatal:!1};22===e.code?(this.segments=[],i.details=l.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,i.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(A.logger.log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],i.fatal=!0)),n.trigger(b.default.ERROR,i)}}}},r.flushBuffer=function(e,t,n){var r=this.sourceBuffer;if(!Object.keys(r).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),A.logger.log("flushBuffer,pos/start/end: "+i+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return A.logger.warn("abort flushing too many retries"),!0;i=r[n];if(i){if(i.ended=!1,i.updating)return A.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,i,e,t))return this.flushBufferCounter++,!1}return A.logger.log("buffer flushed"),!0},r.removeBufferRange=function(e,t,n,r){try{for(var i=0;i<t.buffered.length;i++){var o,a=t.buffered.start(i),s=t.buffered.end(i),u=Math.max(a,n),l=Math.min(s,r);if(.5<Math.min(l,s)-u)return o="null",this.media&&(o=this.media.currentTime.toString()),A.logger.log("sb remove "+e+" ["+u+","+l+"], of ["+a+","+s+"], pos:"+o),t.remove(u,l),!0}}catch(e){A.logger.warn("removeBufferRange failed",e)}return!1},n}(o);function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ke=function(t){function i(e){e=t.call(this,e,b.default.FPS_DROP_LEVEL_CAPPING,b.default.MEDIA_ATTACHING,b.default.MANIFEST_PARSED,b.default.BUFFER_CODECS,b.default.MEDIA_DETACHING)||this;return e.autoLevelCapping=Number.POSITIVE_INFINITY,e.firstLevel=null,e.levels=[],e.media=null,e.restrictedLevels=[],e.timer=null,e}e=t,(r=i).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e;var e,n,r=i.prototype;return r.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.stopCapping())},r.onFpsDropLevelCapping=function(e){i.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},r.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},r.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},r.onLevelsUpdated=function(e){this.levels=e.levels},r.onMediaDetaching=function(){this.stopCapping()},r.detectPlayerSize=function(){var e,t;!this.media||(e=this.levels?this.levels.length:0)&&((t=this.hls).autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping)},r.getMaxLevel=function(n){var r=this;if(!this.levels)return-1;var e=this.levels.filter(function(e,t){return i.isLevelAllowed(t,r.restrictedLevels)&&t<=n});return i.getMaxLevelByMediaSize(e,this.mediaWidth,this.mediaHeight)},r.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},i.isLevelAllowed=function(e,t){return-1===(t=void 0===t?[]:t).indexOf(e)},i.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i=e.length-1,o=0;o<e.length;o+=1){var a=e[o];if((a.width>=t||a.height>=n)&&(a=a,!(r=e[o+1])||(a.width!==r.width||a.height!==r.height))){i=o;break}}return i},e=i,r=[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}],(n=[{key:"mediaWidth",get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=i.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=i.contentScaleFactor),e}}])&&He(e.prototype,n),r&&He(e,r),i}(o);var qe=window.performance,$e=function(t){var e;function n(e){return t.call(this,e,b.default.MEDIA_ATTACHING)||this}e=t,(r=n).prototype=Object.create(e.prototype),(r.prototype.constructor=r).__proto__=e;var r=n.prototype;return r.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},r.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},r.checkFPS=function(e,t,n){var r,i,o,a,s=qe.now();t&&(this.lastTime&&(a=s-this.lastTime,r=n-this.lastDroppedFrames,i=t-this.lastDecodedFrames,a=1e3*r/a,(o=this.hls).trigger(b.default.FPS_DROP,{currentDropped:r,currentDecoded:i,totalDroppedFrames:n}),0<a&&r>o.config.fpsDroppedMonitoringThreshold*i&&(a=o.currentLevel,A.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+a),0<a&&(-1===o.autoLevelCapping||o.autoLevelCapping>=a)&&(o.trigger(b.default.FPS_DROP_LEVEL_CAPPING,{level:a-=1,droppedLevel:o.currentLevel}),o.autoLevelCapping=a,o.streamController.nextLevelSwitch()))),this.lastTime=s,this.lastDroppedFrames=n,this.lastDecodedFrames=t)},r.checkFPSInterval=function(){var e,t=this.video;t&&(this.isVideoPlaybackQualityAvailable?(e=t.getVideoPlaybackQuality(),this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)):this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount))},n}(o),Ye=window,Xe=Ye.performance,Qe=Ye.XMLHttpRequest,Ye=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:Xe.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var t=this.context,n=this.loader=new Qe,r=this.stats,r=(r.tfirst=0,r.loaded=0,this.xhrSetup);try{if(r)try{r(n,t.url)}catch(e){n.open("GET",t.url,!0),r(n,t.url)}n.readyState||n.open("GET",t.url,!0)}catch(e){return void this.callbacks.onError({code:n.status,text:e.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),n.send()},t.readystatechange=function(e){var t,n,e=e.currentTarget,r=e.readyState,i=this.stats,o=this.context,a=this.config;i.aborted||2<=r&&(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(Xe.now(),i.trequest)),4===r?200<=(r=e.status)&&r<300?(i.tload=Math.max(i.tfirst,Xe.now()),n="arraybuffer"===o.responseType?(t=e.response).byteLength:(t=e.responseText).length,i.loaded=i.total=n,n={url:e.responseURL,data:t},this.callbacks.onSuccess(n,i,o,e)):i.retry>=a.maxRetry||400<=r&&r<499?(A.logger.error(r+" while loading "+o.url),this.callbacks.onError({code:r,text:e.statusText},o,e)):(A.logger.warn(r+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),i.retry++):this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout))},t.loadtimeout=function(){A.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,n=this.stats,e=(n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total),this.callbacks.onProgress);e&&e(n,this.context,null,t)},e}();function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}K=function(t){function e(e){e=t.call(this,e,b.default.MANIFEST_LOADING,b.default.MANIFEST_PARSED,b.default.AUDIO_TRACK_LOADED,b.default.AUDIO_TRACK_SWITCHED,b.default.LEVEL_LOADED,b.default.ERROR)||this;return e._trackId=-1,e._selectDefaultTrack=!0,e.tracks=[],e.trackIdBlacklist=Object.create(null),e.audioGroupId=null,e}n=t,(i=e).prototype=Object.create(n.prototype),(i.prototype.constructor=i).__proto__=n;var n,r,i=e.prototype;return i.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},i.onManifestParsed=function(e){e=this.tracks=e.audioTracks||[];this.hls.trigger(b.default.AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},i.onAudioTrackLoaded=function(e){var t;e.id>=this.tracks.length?A.logger.warn("Invalid audio track id:",e.id):(A.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()&&(t=1e3*e.details.targetduration,this.setInterval(t)),!e.details.live&&this.hasInterval()&&this.clearInterval())},i.onAudioTrackSwitched=function(e){e=this.tracks[e.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},i.onLevelLoaded=function(e){this._selectAudioGroup(e.level)},i.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(A.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},i._setAudioTrack=function(e){var t,n,r;this._trackId===e&&this.tracks[this._trackId].details?A.logger.debug("Same id as current audio-track passed, and track details available -> no-op"):e<0||e>=this.tracks.length?A.logger.warn("Invalid id passed to audio-track controller"):(t=this.tracks[e],A.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e,e=t.url,n=t.type,r=t.id,this.hls.trigger(b.default.AUDIO_TRACK_SWITCHING,{id:r,type:n,url:e}),this._loadTrackDetailsIfNeeded(t))},i.doTick=function(){this._updateTrack(this._trackId)},i._selectAudioGroup=function(e){var e=this.hls.levels[e];e&&e.audioGroupIds&&(e=e.audioGroupIds[e.urlId],this.audioGroupId!==e&&(this.audioGroupId=e,this._selectInitialAudioTrack()))},i._selectInitialAudioTrack=function(){var t,n,e,r=this,i=this.tracks;i.length&&(e=this.tracks[this._trackId],t=null,e&&(t=e.name),this._selectDefaultTrack&&((e=i.filter(function(e){return e.default})).length?i=e:A.logger.warn("No default audio tracks defined")),n=!1,(e=function(){i.forEach(function(e){n||r.audioGroupId&&e.groupId!==r.audioGroupId||t&&t!==e.name||(r._setAudioTrack(e.id),n=!0)})})(),n||(t=null,e()),n||(A.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0})))},i._needsTrackLoading=function(e){var t=e.details,e=e.url;return!(t&&!t.live)&&!!e},i._loadTrackDetailsIfNeeded=function(e){var t;this._needsTrackLoading(e)&&(t=e.url,e=e.id,A.logger.log("loading audio-track playlist for id: "+e),this.hls.trigger(b.default.AUDIO_TRACK_LOADING,{url:t,id:e}))},i._updateTrack=function(e){e<0||e>=this.tracks.length||(this.clearInterval(),this._trackId=e,A.logger.log("trying to update audio-track "+e),e=this.tracks[e],this._loadTrackDetailsIfNeeded(e))},i._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;for(var e=this._trackId,t=this.tracks[e],n=t.name,r=t.language,t=t.groupId,i=(A.logger.warn("Loading failed on audio track id: "+e+", group-id: "+t+', name/language: "'+n+'" / "'+r+'"'),e),o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]&&this.tracks[o].name===n){i=o;break}i!==e?(A.logger.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):A.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},n=e,(i=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1}}])&&Ze(n.prototype,i),r&&Ze(n,r),e}(K);function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}}var tt=window.performance,nt=function(r){function e(e,t){var n=r.call(this,e,b.default.MEDIA_ATTACHED,b.default.MEDIA_DETACHING,b.default.AUDIO_TRACKS_UPDATED,b.default.AUDIO_TRACK_SWITCHING,b.default.AUDIO_TRACK_LOADED,b.default.KEY_LOADED,b.default.FRAG_LOADED,b.default.FRAG_PARSING_INIT_SEGMENT,b.default.FRAG_PARSING_DATA,b.default.FRAG_PARSED,b.default.ERROR,b.default.BUFFER_RESET,b.default.BUFFER_CREATED,b.default.BUFFER_APPENDED,b.default.BUFFER_FLUSHED,b.default.INIT_PTS_FOUND)||this;return n.fragmentTracker=t,n.config=e.config,n.audioCodecSwap=!1,n._state=ge,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}t=r,(i=e).prototype=Object.create(t.prototype),(i.prototype.constructor=i).__proto__=t;var t,n,i=e.prototype;return i.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,e=e.initPTS;"main"===t&&(this.initPTS[n]=e,this.videoTrackCC=n,A.logger.log("InitPTS for cc: "+n+" found from video track: "+e),this.state===Oe&&this.tick())},i.startLoad=function(e){var t;this.tracks?(t=this.lastCurrentTime,this.stopLoad(),this.setInterval(100),(this.fragLoadError=0)<t&&-1===e?(A.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=w):(this.lastCurrentTime=this.startPosition||e,this.state=ve),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()):(this.startPosition=e,this.state=ge)},i.doTick=function(){var e,c,t,f,d=this.hls,h=d.config;switch(this.state){case xe:case ye:case ke:break;case ve:this.state=_e,this.loadedmetadata=!1;break;case w:var n=this.tracks;if(!n)break;if(!this.media&&(this.startFragRequested||!h.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var p=this.mediaBuffer||this.media,g=this.videoBuffer||this.media,r=H.bufferInfo(p,e,h.maxBufferHole),g=H.bufferInfo(g,e,h.maxBufferHole),i=r.len,o=r.end,a=this.fragPrevious,s=Math.min(h.maxBufferLength,h.maxMaxBufferLength),s=Math.max(s,g.len),g=this.audioSwitch,v=this.trackId;if((i<s||g)&&v<n.length){if(void 0===(t=n[v].details)){this.state=_e;break}if(!g&&this._streamEnded(r,t))return this.hls.trigger(b.default.BUFFER_EOS,{type:"audio"}),void(this.state=Te);var i=t.fragments,s=i.length,n=i[0].start,u=i[s-1].start+i[s-1].duration;if(g)if(t.live&&!t.PTSKnown)A.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),o=0;else if(o=e,t.PTSKnown&&e<n){if(!(r.end>n||r.nextStart))return;A.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=n+.05}if(t.initSegment&&!t.initSegment.data)l=t.initSegment;else if(o<=n){var l=i[0];if(null!==this.videoTrackCC&&l.cc!==this.videoTrackCC&&(f=this.videoTrackCC,l=W.search(i,function(e){return e.cc<f?1:e.cc>f?-1:0})),t.live&&l.loadIdx&&l.loadIdx===this.fragLoadIdx)return r=r.nextStart||n,A.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(r+.05)),void(this.media.currentTime=r+.05)}else{var y=h.maxFragLookUpTolerance,r=a?i[a.sn-i[0].sn+1]:void 0,m=function(e){var t=Math.min(y,e.duration);return e.start+e.duration-t<=o?1:e.start-t>o&&e.start?-1:0},u=o<u?(u-y<o&&(y=0),r&&!m(r)?r:W.search(i,m)):i[s-1];u&&(n=(l=u).start,a&&l.level===a.level&&l.sn===a.sn&&(l.sn<t.endSN?(l=i[l.sn+1-t.startSN],A.logger.log("SN just loaded, load next one: "+l.sn)):l=null))}l&&(l.encrypted?(A.logger.log("Loading key for "+l.sn+" of ["+t.startSN+" ,"+t.endSN+"],track "+v),this.state=me,d.trigger(b.default.KEY_LOADING,{frag:l})):(A.logger.log("Loading "+l.sn+", cc: "+l.cc+" of ["+t.startSN+" ,"+t.endSN+"],track "+v+", currentTime:"+e+",bufferEnd:"+o.toFixed(3)),this.fragCurrent=l,!g&&this.fragmentTracker.getState(l)!==U||("initSegment"!==l.sn&&(this.startFragRequested=!0),Object(P.isFiniteNumber)(l.sn)&&(this.nextLoadPosition=l.start+l.duration),d.trigger(b.default.FRAG_LOADING,{frag:l}),this.state=be)))}break;case _e:(c=this.tracks[this.trackId])&&c.details&&(this.state=w);break;case we:r=tt.now(),m=this.retryDate,s=(p=this.media)&&p.seeking;(!m||m<=r||s)&&(A.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=w);break;case Oe:u=this.videoTrackCC;if(void 0===this.initPTS[u])break;n=this.waitingFragment;n?u!==(a=n.frag.cc)?(c=this.tracks[this.trackId]).details&&c.details.live&&(A.logger.warn("Waiting fragment CC ("+a+") does not match video track CC ("+u+")"),this.waitingFragment=null,this.state=w):(this.state=be,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null):this.state=w}},i.onMediaAttached=function(e){e=this.media=this.mediaBuffer=e.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended),e=this.config;this.tracks&&e.autoStartLoad&&this.startLoad(e.startPosition)},i.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(A.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},i.onAudioTracksUpdated=function(e){A.logger.log("audio tracks updated"),this.tracks=e.audioTracks},i.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=ye,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=w),this.tick()},i.onAudioTrackLoaded=function(e){var t=e.details,e=e.id,n=this.tracks[e],r=t.totalduration,i=0;A.logger.log("track "+e+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live?(e=n.details)&&0<t.fragments.length?(ie(e,t),i=t.fragments[0].start,t.PTSKnown?A.logger.log("live audio playlist sliding:"+i.toFixed(3)):A.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,A.logger.log("live audio playlist - first load, unknown sliding")):t.PTSKnown=!1,n.details=t,this.startFragRequested||(-1===this.startPosition&&(r=t.startTimeOffset,Object(P.isFiniteNumber)(r)?(A.logger.log("start time offset found in playlist, adjust startPosition to "+r),this.startPosition=r):t.live?(this.startPosition=this.computeLivePosition(i,t),A.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0),this.nextLoadPosition=this.startPosition),this.state===_e&&(this.state=w),this.tick()},i.onKeyLoaded=function(){this.state===me&&(this.state=w,this.tick())},i.onFragLoaded=function(e){var t,n,r,i,o,a,s,u=this.fragCurrent,l=e.frag;this.state===be&&u&&"audio"===l.type&&l.level===u.level&&l.sn===u.sn&&(n=(t=(l=this.tracks[this.trackId]).details).totalduration,r=u.level,i=u.sn,o=u.cc,l=this.config.defaultAudioCodec||l.audioCodec||"mp4a.40.2",a=this.stats=e.stats,"initSegment"===i?(this.state=w,a.tparsed=a.tbuffered=tt.now(),t.initSegment.data=e.payload,this.hls.trigger(b.default.FRAG_BUFFERED,{stats:a,frag:u,id:"audio"}),this.tick()):(this.state=Ee,this.appended=!1,this.demuxer||(this.demuxer=new ee(this.hls,"audio")),a=this.initPTS[o],s=t.initSegment?t.initSegment.data:[],t.initSegment||void 0!==a?(this.pendingBuffering=!0,A.logger.log("Demuxing "+i+" of ["+t.startSN+" ,"+t.endSN+"],track "+r),this.demuxer.push(e.payload,s,l,null,u,n,!1,a)):(A.logger.log("unknown video PTS for continuity counter "+o+", waiting for video PTS before demuxing audio frag "+i+" of ["+t.startSN+" ,"+t.endSN+"],track "+r),this.waitingFragment=e,this.state=Oe))),this.fragLoadError=0},i.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ee&&((n=e.tracks).video&&delete n.video,(t=n.audio)&&(t.levelCodec=t.codec,t.id=e.id,this.hls.trigger(b.default.BUFFER_CODECS,n),A.logger.log("audio track:audio,container:"+t.container+",codecs[level/parsed]=["+t.levelCodec+"/"+t.codec+"]"),(e=t.initSegment)&&(n={type:"audio",data:e,parent:"audio",content:"initSegment"},this.audioSwitch?this.pendingData=[n]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(b.default.BUFFER_APPENDING,n))),this.tick()))},i.onFragParsingData=function(t){var n=this,e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&"audio"===t.type&&r.sn===e.sn&&r.level===e.level&&this.state===Ee){var r=this.trackId,i=this.tracks[r],o=this.hls,i=(Object(P.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+e.duration,t.endDTS=t.startDTS+e.duration),e.addElementaryStream(d.AUDIO),A.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),re(i.details,e,t.startPTS,t.endPTS),this.audioSwitch),e=this.media,a=!1,s=(i&&(e&&e.readyState?(i=e.currentTime,A.logger.log("switching audio track : currentTime:"+i),i>=t.startPTS&&(A.logger.log("switching audio track : flushing all audio"),this.state=ke,o.trigger(b.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.audioSwitch=!(a=!0),o.trigger(b.default.AUDIO_TRACK_SWITCHED,{id:r}))):(this.audioSwitch=!1,o.trigger(b.default.AUDIO_TRACK_SWITCHED,{id:r}))),this.pendingData);if(!s)return A.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(b.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&s.push({type:t.type,data:e,parent:"audio",content:"data"})}),!a&&s.length&&(s.forEach(function(e){n.state===Ee&&(n.pendingBuffering=!0,n.hls.trigger(b.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},i.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ee&&(this.stats.tparsed=tt.now(),this.state=Se,this._checkAppendedParsed())},i.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},i.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},i.onBufferAppended=function(e){var t;"audio"===e.parent&&((t=this.state)!==Ee&&t!==Se||(this.pendingBuffering=0<e.pending,this._checkAppendedParsed()))},i._checkAppendedParsed=function(){var e,t,n;this.state!==Se||this.appended&&this.pendingBuffering||(e=this.fragCurrent,n=this.stats,t=this.hls,e&&(this.fragPrevious=e,n.tbuffered=tt.now(),t.trigger(b.default.FRAG_BUFFERED,{stats:n,frag:e,id:"audio"}),(n=this.mediaBuffer||this.media)&&A.logger.log("audio buffered : "+se.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,t.trigger(b.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=w),this.tick())},i.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:var n,r=e.frag;if(r&&"audio"!==r.type)break;e.fatal||((r=this.fragLoadError)?r++:r=1,r<=(n=this.config).fragLoadingMaxRetry?(this.fragLoadError=r,r=Math.min(Math.pow(2,r-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout),A.logger.warn("AudioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=tt.now()+r,this.state=we):(A.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=xe));break;case l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case l.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==xe&&(this.state=e.fatal?xe:w,A.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case l.ErrorDetails.BUFFER_FULL_ERROR:"audio"!==e.parent||this.state!==Ee&&this.state!==Se||(n=this.mediaBuffer,r=this.media.currentTime,n&&H.isBuffered(n,r)&&H.isBuffered(n,r+.5)?((n=this.config).maxMaxBufferLength>=n.maxBufferLength&&(n.maxMaxBufferLength/=2,A.logger.warn("AudioStreamController: reduce max buffer length to "+n.maxMaxBufferLength+"s")),this.state=w):(A.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ke,this.hls.trigger(b.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})))}},i.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(A.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(b.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Se):(this.state=w,this.fragPrevious=null,this.tick())},t=e,(i=[{key:"state",set:function(e){var t;this.state!==e&&(t=this.state,this._state=e,A.logger.log("audio stream:"+t+"->"+e))},get:function(){return this._state}}])&&Je(t.prototype,i),n&&Je(t,n),e}(X),rt=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var b={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function w(e){return"string"==typeof e&&(!!t[e.toLowerCase()]&&e.toLowerCase())}function _(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)e[n]=r[n]}return e}function e(c,f,d){var e=this,t={enumerable:!0},n=(e.hasBeenReset=!1,""),r=!1,i=c,o=f,a=d,s=null,u="",l=!0,h="auto",p="start",g=50,v="middle",y=50,m="middle";Object.defineProperty(e,"id",_({},t,{get:function(){return n},set:function(e){n=""+e}})),Object.defineProperty(e,"pauseOnExit",_({},t,{get:function(){return r},set:function(e){r=!!e}})),Object.defineProperty(e,"startTime",_({},t,{get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");i=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"endTime",_({},t,{get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");o=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"text",_({},t,{get:function(){return a},set:function(e){a=""+e,this.hasBeenReset=!0}})),Object.defineProperty(e,"region",_({},t,{get:function(){return s},set:function(e){s=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"vertical",_({},t,{get:function(){return u},set:function(e){e="string"==typeof(e=e)&&(!!b[e.toLowerCase()]&&e.toLowerCase());if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"snapToLines",_({},t,{get:function(){return l},set:function(e){l=!!e,this.hasBeenReset=!0}})),Object.defineProperty(e,"line",_({},t,{get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"lineAlign",_({},t,{get:function(){return p},set:function(e){e=w(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"position",_({},t,{get:function(){return g},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"positionAlign",_({},t,{get:function(){return v},set:function(e){e=w(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"size",_({},t,{get:function(){return y},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(e,"align",_({},t,{get:function(){return m},set:function(e){e=w(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),e.displayState=void 0}return e.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},e}();function it(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new et,this.regionList=[]}function ot(){this.values=Object.create(null)}function at(e,t,n,r){var i,o,a=r?e.split(r):[e];for(i in a)"string"==typeof a[i]&&(2===(o=a[i].split(n)).length&&t(o[0],o[1]))}ot.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var st=new rt(0,0,0),ut="middle"===st.align?"middle":"center";function lt(n,e,o){var t,a,r=n;function i(){var e=(e=(e=n).match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/))?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null;function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}if(null===e)throw new Error("Malformed timestamp: "+r);return n=n.replace(/^[^\sa-zA-Z-]+/,""),e}function s(){n=n.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),"--\x3e"!==n.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);n=n.substr(3),s(),e.endTime=i(),s(),t=n,e=e,a=new ot,at(t,function(e,t){switch(e){case"region":for(var n=o.length-1;0<=n;n--)if(o[n].id===t){a.set(e,o[n].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),i=r[0];a.integer(e,i),a.percent(e,i)&&a.set("snapToLines",!1),a.alt(e,i,["auto"]),2===r.length&&a.alt("lineAlign",r[1],["start",ut,"end"]);break;case"position":r=t.split(","),a.percent(e,r[0]),2===r.length&&a.alt("positionAlign",r[1],["start",ut,"end","line-left","line-right","auto"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start",ut,"end","left","right"])}},/:/,/\s/),e.region=a.get("region",null),e.vertical=a.get("vertical",""),"auto"===(t=a.get("line","auto"))&&-1===st.line&&(t=-1),e.line=t,e.lineAlign=a.get("lineAlign","start"),e.snapToLines=a.get("snapToLines",!0),e.size=a.get("size",100),e.align=a.get("align",ut),"auto"===(t=a.get("position","auto"))&&50===st.position&&(t="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=t}function ct(e){return e.replace(/<br(?: \/)?>/gi,"\n")}it.prototype={parse:function(e){var r=this;function t(){for(var e=0,t=ct(t=r.buffer);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var n,i=(n=t()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var o=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(o?o=!1:n=t(),r.state){case"HEADER":/:/.test(n)?at(n,function(e,t){e},/:/):n||(r.state="ID");continue;case"NOTE":n||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){r.state="NOTE";break}if(!n)continue;if(r.cue=new rt(0,0,""),r.state="CUE",-1===n.indexOf("--\x3e")){r.cue.id=n;continue}case"CUE":try{lt(n,r.cue,r.regionList)}catch(e){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(o=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=n;continue;case"BADCUE":n||(r.state="ID");continue}}}catch(e){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}};var ft=it;function dt(c,e,t,n){for(var r,i,o,a,s,f=window.VTTCue||TextTrackCue,u=0;u<n.rows.length;u++)if(o=!0,a=0,s="",!(r=n.rows[u]).isEmpty()){for(var l=0;l<r.chars.length;l++)r.chars[l].uchar.match(/\s/)&&o?a++:(s+=r.chars[l].uchar,o=!1);(r.cueStartTime=e)===t&&(t+=1e-4),i=new f(e,t,ct(s.trim())),16<=a?a--:a++,navigator.userAgent.match(/Firefox\//)?i.line=u+1:i.line=7<u?u-2:u+1,i.align="left",i.position=Math.max(0,Math.min(100,a/32*100)),c.addCue(i)}}function ht(e){var t=e;return yt.hasOwnProperty(e)&&(t=yt[e]),String.fromCharCode(t)}function pt(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}function gt(e,t,n){return e.substr(n||0,t.length)===t}function vt(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}var yt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},mt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},bt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},wt={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},_t={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Et=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],u=((Lt={ERROR:0,0:"ERROR",TEXT:1,1:"TEXT",WARNING:2,2:"WARNING",INFO:2})[2]="INFO",Lt[Lt.DEBUG=3]="DEBUG",Lt[Lt.DATA=3]="DATA",{verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}}),St=function(){function e(e,t,n,r,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),kt=function(){function e(e,t,n,r,i,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new St(t,n,r,i,o)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),Tt=function(){function e(){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.chars=[];for(var e=0;e<100;e++)this.chars.push(new kt);this.pos=0,this.currPenState=new St}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(u.log("ERROR","Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(u.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},t.moveCursor=function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){144<=e&&this.backSpace();var t=ht(e);100<=this.pos?u.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){for(var t=e;t<100;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),xt=function(){function e(){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.rows=[];for(var e=0;e<15;e++)this.rows.push(new Tt);this.currRow=14,this.nrRollUpRows=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){u.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){u.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime;if(o&&u.time&&o<u.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[t-this.nrRollUpRows+a+1].copy(i.rows[r+a])}}this.currRow=t;var s,o=this.rows[this.currRow],o=(null!==e.indent&&(s=e.indent,s=Math.max(s-1,0),o.setCursor(e.indent),e.color=o.chars[s].penState.foreground),{foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1});this.setPen(o)},t.setBkgData=function(e){u.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){var e;null!==this.nrRollUpRows?(u.log("TEXT",this.getDisplayText()),e=this.currRow+1-this.nrRollUpRows,(e=this.rows.splice(e,1)[0]).clear(),this.rows.splice(this.currRow,0,e),u.log("INFO","Rolling up")):u.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=0;r<15;r++){var i=this.rows[r].getTextString();i&&(e?t.push("Row "+(r+1)+": '"+i+"'"):t.push(i.trim()))}return n=0<t.length?e?"["+t.join(" | ")+"]":t.join("\n"):n},t.getTextAndFormat=function(){return this.rows},e}(),Ot=function(){function e(e,t){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.lastCueEndTime=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new xt,this.nonDisplayedMemory=new xt,this.lastOutputScreen=new xt,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,u.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";u.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(u.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){u.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){u.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){u.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){u.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){u.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){u.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){u.log("INFO","TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){u.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){u.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){u.log("INFO","CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){u.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){var e;u.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(e=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,u.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate(!0)},t.ccTO=function(e){u.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};t.underline=e%2==1,t.italics=46<=e,t.italics?t.foreground="white":(e=Math.floor(e/2)-16,t.foreground=["white","green","blue","cyan","red","yellow","magenta"][e]),u.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=u.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),Pt=function(){function e(e,t,n){this.field=void 0,this.outputs=void 0,this.channels=void 0,this.currChNr=void 0,this.lastCmdA=void 0,this.lastCmdB=void 0,this.lastTime=void 0,this.dataCounters=void 0,this.field=e||1,this.outputs=[t,n],this.channels=[new Ot(1,t),new Ot(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,r=!1;this.lastTime=e,u.setTime(e);for(var i=0;i<t.length;i+=2){var o=127&t[i],a=127&t[i+1];0!=o||0!=a?(u.log("DATA","["+pt([t[i],t[i+1]])+"] -> ("+pt([o,a])+")"),(n=(n=(n=(n=this.parseCmd(o,a))||this.parseMidrow(o,a))||this.parsePAC(o,a))||this.parseBackgroundAttributes(o,a))||(r=this.parseChars(o,a))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(r):u.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:r?this.dataCounters.char+=2:(this.dataCounters.other+=2,u.log("WARNING","Couldn't parse cleaned data "+pt([o,a])+" orig: "+pt([t[i],t[i+1]])))):this.dataCounters.padding+=2}},t.parseCmd=function(e,t){var n=null;if(!((20===e||28===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,u.log("DEBUG","Repeated command ("+pt([e,t])+") is dropped"),!0;var n=20===e||23===e?1:2,r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},t.parseMidrow=function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(u.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),u.log("DEBUG","MIDROW ("+pt([e,t])+")"),!0))},t.parsePAC=function(e,t){var n=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);var r=e<=23?1:2,n=(64<=t&&t<=95?1==r?mt:wt:1==r?bt:_t)[e],n=this.interpretPAC(n,t);return this.channels[r-1].setPAC(n),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},t.interpretPAC=function(e,t){var n=t,e={color:null,italics:!1,indent:null,underline:!1,row:e},n=95<t?t-96:t-64;return e.underline=1==(1&n),n<=13?e.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(e.italics=!0,e.color="white"):e.indent=4*Math.floor((n-16)/2),e},t.parseChars=function(e,t){var n,r=null,i=null,o=null;return 17<=(o=25<=e?(r=2,e-8):(r=1,e))&&o<=19?(n=t,u.log("INFO","Special char '"+ht(n=17===o?t+80:18===o?t+112:t+144)+"' in channel "+r),i=[n]):32<=e&&e<=127&&(i=0===t?[e]:[e,t]),i&&(o=pt(i),u.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null),i},t.parseBackgroundAttributes=function(e,t){var n,r;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=Et[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),this.channels[(e<24?1:2)-1].setBkgData(n),this.lastCmdA=null,!(this.lastCmdB=null))},t.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),At=function(){function e(e,t){this.timelineController=void 0,this.trackName=void 0,this.startTime=void 0,this.endTime=void 0,this.screen=void 0,this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e}(),Ct={parse:function(e,t,r,i,f,d){var n,e=Object(Ie.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),h="00:00.000",o=0,a=0,s=0,p=[],u=!0,l=!1,c=new ft;c.oncue=function(e){var t=r[i],n=r.ccOffset;t&&t.new&&(void 0!==a?n=r.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,r.new=!1;for(;i&&i.new;)e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC];e.presentationOffset=n}(r,i,s)),s&&(n=s-r.presentationOffset),l&&(e.startTime+=n-a,e.endTime+=n-a),e.id=vt(e.startTime.toString())+vt(e.endTime.toString())+vt(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),0<e.endTime&&p.push(e)},c.onparsingerror=function(e){n=e},c.onflush=function(){n&&d?d(n):f(p)},e.forEach(function(e){if(u){if(gt(e,"X-TIMESTAMP-MAP=")){l=!(u=!1),e.substr(16).split(",").forEach(function(e){gt(e,"LOCAL:")?h=e.substr(6):gt(e,"MPEGTS:")&&(o=parseInt(e.substr(7)))});try{t+(9e4*r[i].start||0)<0&&(t+=8589934592),o-=t,a=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),i=9<e.length?parseInt(e.substr(0,e.indexOf(":"))):0;if(!(Object(P.isFiniteNumber)(t)&&Object(P.isFiniteNumber)(n)&&Object(P.isFiniteNumber)(r)&&Object(P.isFiniteNumber)(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return(t+=1e3*n)+6e4*r+36e5*i}(h)/1e3,s=o/9e4}catch(e){l=!1,n=e}return}""===e&&(u=!1)}c.parse(e+"\n")}),c.flush()}};function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Lt=function(r){var e;function t(e){var t,n=r.call(this,e,b.default.MEDIA_ATTACHING,b.default.MEDIA_DETACHING,b.default.FRAG_PARSING_USERDATA,b.default.FRAG_DECRYPTED,b.default.MANIFEST_LOADING,b.default.MANIFEST_LOADED,b.default.FRAG_LOADED,b.default.INIT_PTS_FOUND)||this;return n.media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties=void 0,n.cea608Parser=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs=null,n.hls=e,n.config=e.config,n.Cues=e.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions&&(e=new At(Rt(n),"textTrack1"),t=new At(Rt(n),"textTrack2"),n.cea608Parser=new Pt(0,e,t)),n}e=r,(n=t).prototype=Object.create(e.prototype),(n.prototype.constructor=n).__proto__=e;var n=t.prototype;return n.addCues=function(e,t,n,c){for(var r,i,o=this.cueRanges,a=!1,s=o.length;s--;){var u=o[s],l=(r=u[0],l=u[1],i=t,Math.min(l,n)-Math.max(r,i));if(0<=l&&(u[0]=Math.min(u[0],t),u[1]=Math.max(u[1],n),a=!0,.5<l/(n-t)))return}a||o.push([t,n]),this.Cues.newCue(this.captionsTracks[e],t,n,c)},n.onInitPtsFound=function(e){var t=this,n=e.frag,r=e.id,e=e.initPTS,i=this.unparsedVttFrags;"main"===r&&(this.initPTS[n.cc]=e),i.length&&(this.unparsedVttFrags=[],i.forEach(function(e){t.onFragLoaded(e)}))},n.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},n.createCaptionsTrack=function(e){var t,n=this.captionsProperties,r=this.captionsTracks,i=this.media,n=n[e],o=n.label,n=n.languageCode;r[e]||((t=this.getExistingTrack(e))?(r[e]=t,Fe(r[e]),Me(r[e],i)):(t=this.createTextTrack("captions",o,n))&&(t[e]=!0,r[e]=t))},n.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},n.destroy=function(){r.prototype.destroy.call(this)},n.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},n.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){Fe(t[e]),delete t[e]})},n.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},n._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)Fe(t[n])}},n.onManifestLoaded=function(e){var s,u=this;this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT&&(this.tracks=e.subtitles||[],s=this.media?this.media.textTracks:[],this.tracks.forEach(function(e,t){var n,r,i;if(t<s.length){for(var o=null,a=0;a<s.length;a++)if(r=s[a],i=e,r&&r.label===i.name&&!(r.textTrack1||r.textTrack2)){o=s[a];break}o&&(n=o)}n=n||u.createTextTrack("subtitles",e.name,e.lang),e.default?n.mode=u.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",u.textTracks.push(n)}))},n.onFragLoaded=function(e){var t=e.frag,n=e.payload,r=this.cea608Parser,i=this.initPTS,o=this.lastSn,a=this.unparsedVttFrags;if("main"===t.type){var s=t.sn;t.sn!==o+1&&r&&r.reset(),this.lastSn=s}else if("subtitle"===t.type)if(n.byteLength){if(!Object(P.isFiniteNumber)(i[t.cc]))return a.push(e),void(i.length&&this.hls.trigger(b.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t}));o=t.decryptdata;null!=o&&null!=o.key&&"AES-128"===o.method||this._parseVTTs(t,n)}else this.hls.trigger(b.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},n._parseVTTs=function(t,e){var n=this.hls,r=this.prevCC,i=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:r,new:!0},this.prevCC=t.cc),Ct.parse(e,this.initPTS[t.cc],o,t.cc,function(e){var r=i[t.level];"disabled"!==r.mode?(e.forEach(function(t){if(!r.cues.getCueById(t.id))try{if(r.addCue(t),!r.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(e){A.logger.debug("Failed occurred on adding cues: "+e);var n=new window.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,r.addCue(n)}}),n.trigger(b.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):n.trigger(b.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},function(e){A.logger.log("Failed to parse VTT cue: "+e),n.trigger(b.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},n.onFragDecrypted=function(e){var t=e.frag,n=e.payload;"subtitle"===t.type&&(Object(P.isFiniteNumber)(this.initPTS[t.cc])?this._parseVTTs(t,n):this.unparsedVttFrags.push(e))},n.onFragParsingUserdata=function(e){if(this.enabled&&this.cea608Parser)for(var t=0;t<e.samples.length;t++){var n=e.samples[t].bytes;n&&(n=this.extractCea608Data(n),this.cea608Parser.addData(e.samples[t].pts,n))}},n.extractCea608Data=function(e){for(var t,n,r,i=31&e[0],o=2,a=[],s=0;s<i;s++)t=e[o++],n=127&e[o++],r=127&e[o++],0==n&&0==r||0!=(4&t)&&0==(3&t)&&(a.push(n),a.push(r));return a},t}(o);function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}var Mt=function(t){function e(e){e=t.call(this,e,b.default.MEDIA_ATTACHED,b.default.MEDIA_DETACHING,b.default.MANIFEST_LOADED,b.default.SUBTITLE_TRACK_LOADED)||this;return e.tracks=[],e.trackId=-1,e.media=null,e.stopped=!0,e.subtitleDisplay=!0,e.queuedDefaultTrack=null,e}n=t,(i=e).prototype=Object.create(n.prototype),(i.prototype.constructor=i).__proto__=n;var n,r,i=e.prototype;return i.destroy=function(){o.prototype.destroy.call(this)},i.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(Object(P.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},i.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(P.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),It(this.media.textTracks).forEach(function(e){Fe(e)}),this.subtitleTrack=-1,this.media=null)},i.onManifestLoaded=function(e){var t=this,e=e.subtitles||[];this.tracks=e,this.hls.trigger(b.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:e}),e.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},i.onSubtitleTrackLoaded=function(e){var t=this,n=e.id,r=e.details,i=this.trackId,o=this.tracks,a=o[i];n>=o.length||n!==i||!a||this.stopped?this._clearReloadTimer():(A.logger.log("subtitle track "+n+" loaded"),r.live?(o=ae(a.details,r,e.stats.trequest),A.logger.log("Reloading live subtitle playlist in "+o+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},o)):this._clearReloadTimer())},i.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},i.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},i._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},i._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,n=this.hls,t=t[e];e<0||!t||t.details&&!t.details.live||(A.logger.log("Loading subtitle track "+e),n.trigger(b.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))},i._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,r=this.trackId;t&&(t=It(t.textTracks),-1===e?[].slice.call(t).forEach(function(e){e.mode="disabled"}):(r=t[r])&&(r.mode="disabled"),(r=t[e])&&(r.mode=n?"showing":"hidden"))},i._setSubtitleTrackInternal=function(e){var t=this.hls,n=this.tracks;!Object(P.isFiniteNumber)(e)||e<-1||e>=n.length||(this.trackId=e,A.logger.log("Switching to subtitle track "+e),t.trigger(b.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},i._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=It(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},n=e,(i=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))}}])&&Dt(n.prototype,i),r&&Dt(n,r),e}(o),Ft=e("./src/crypt/decrypter.js");var jt,Nt=window.performance,X=function(r){var e;function t(e,t){var n=r.call(this,e,b.default.MEDIA_ATTACHED,b.default.MEDIA_DETACHING,b.default.ERROR,b.default.KEY_LOADED,b.default.FRAG_LOADED,b.default.SUBTITLE_TRACKS_UPDATED,b.default.SUBTITLE_TRACK_SWITCH,b.default.SUBTITLE_TRACK_LOADED,b.default.SUBTITLE_FRAG_PROCESSED,b.default.LEVEL_UPDATED)||this;return n.fragmentTracker=t,n.config=e.config,n.state=ge,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new Ft.default(e,e.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}e=r,(n=t).prototype=Object.create(e.prototype),(n.prototype.constructor=n).__proto__=e;var n=t.prototype;return n.onSubtitleFragProcessed=function(e){var t=e.frag,e=e.success;if(this.fragPrevious=t,this.state=w,e){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var r,i=t.start,o=0;o<n.length;o++)if(i>=n[o].start&&i<=n[o].end){r=n[o];break}e=t.start+t.duration;r?r.end=e:n.push(r={start:i,end:e})}}},n.onMediaAttached=function(e){e=e.media;(this.media=e).addEventListener("seeking",this._onMediaSeeking),this.state=w},n.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]}),this.media=null,this.state=ge)},n.onError=function(e){e=e.frag;e&&"subtitle"===e.type&&(this.state=w)},n.onSubtitleTracksUpdated=function(e){var t=this;A.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},n.onSubtitleTrackSwitch=function(e){this.currentTrackId=e.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId?(e=this.tracks[this.currentTrackId])&&e.details&&this.setInterval(500):this.clearInterval()},n.onSubtitleTrackLoaded=function(e){var t=e.id,e=e.details,n=this.currentTrackId,r=this.tracks,i=r[n];if(!(t>=r.length||t!==n)&&i){if(e.live){var r=i.details,t=e,o=this.lastAVStart,a=(void 0===o&&(o=0),-1),s=(oe(r,t,function(e,t,n){t.start=e.start,a=n}),t.fragments);if(a<0)s.forEach(function(e){e.start+=o});else for(var u=a+1;u<s.length;u++)s[u].start=s[u-1].start+s[u-1].duration}i.details=e,this.setInterval(500)}},n.onKeyLoaded=function(){this.state===me&&(this.state=w)},n.onFragLoaded=function(e){var n,t=this.fragCurrent,r=e.frag.decryptdata,i=e.frag,o=this.hls;this.state===be&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&0<e.payload.byteLength&&r&&r.key&&"AES-128"===r.method&&(n=Nt.now(),this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,function(e){var t=Nt.now();o.trigger(b.default.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:n,tdecrypt:t}})}))},n.onLevelUpdated=function(e){e=e.details.fragments;this.lastAVStart=e.length?e[0].start:0},n.doTick=function(){if(this.media)switch(this.state){case w:var e=this.config,t=this.currentTrackId,n=this.fragmentTracker,r=this.media,i=this.tracks;if(!i||!i[t]||!i[t].details)break;var o=e.maxBufferHole,a=e.maxFragLookUpTolerance,e=Math.min(e.maxBufferLength,e.maxMaxBufferLength),r=H.bufferedInfo(this._getBuffered(),r.currentTime,o),o=r.end,r=r.len,i=i[t].details,t=i.fragments,s=t.length,u=t[s-1].start+t[s-1].duration;if(e<r)return;var l,e=this.fragPrevious;(l=o<u?(l=e&&i.hasProgramDateTime?fe(t,e.endProgramDateTime,a):l)||de(e,t,o,a):t[s-1])&&l.encrypted?(A.logger.log("Loading key for "+l.sn),this.state=me,this.hls.trigger(b.default.KEY_LOADING,{frag:l})):l&&n.getState(l)===U&&(this.fragCurrent=l,this.state=be,this.hls.trigger(b.default.FRAG_LOADING,{frag:l}))}else this.state=w},n.stopLoad=function(){this.lastAVStart=0,r.prototype.stopLoad.call(this)},n._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},n.onMediaSeeking=function(){this.fragPrevious=null},t}(X),Ut=((Ut=jt=jt||{}).WIDEVINE="com.widevine.alpha",Ut.PLAYREADY="com.microsoft.playready","undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null);function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zt=function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})):t).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n})}return r}({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ye,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Ve,bufferController:We,capLevelController:Ke,fpsController:$e,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:Ut},function(){0;return{cueHandler:r,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es"}}(),{subtitleStreamController:X,subtitleTrackController:Mt,timelineController:Lt,audioStreamController:nt,audioTrackController:K,emeController:function(n){function e(e){var t=n.call(this,e,b.default.MEDIA_ATTACHED,b.default.MEDIA_DETACHED,b.default.MANIFEST_PARSED)||this;return t._widevineLicenseUrl=void 0,t._licenseXhrSetup=void 0,t._emeEnabled=void 0,t._requestMediaKeySystemAccess=void 0,t._config=void 0,t._mediaKeysList=[],t._media=null,t._hasSetMediaKeys=!1,t._requestLicenseFailureCount=0,t._onMediaEncrypted=function(e){A.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),t._attemptSetMediaKeys(),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData)},t._config=e.config,t._widevineLicenseUrl=t._config.widevineLicenseUrl,t._licenseXhrSetup=t._config.licenseXhrSetup,t._emeEnabled=t._config.emeEnabled,t._requestMediaKeySystemAccess=t._config.requestMediaKeySystemAccessFunc,t}t=n,(i=e).prototype=Object.create(t.prototype),(i.prototype.constructor=i).__proto__=t;var t,r,i=e.prototype;return i.getLicenseServerUrl=function(e){switch(e){case jt.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},i._attemptKeySystemAccess=function(t,e,n){var r=this,n=function(e,t){if(e!==jt.WIDEVINE)throw new Error("Unknown key-system: "+e);return n={videoCapabilities:[]},t.forEach(function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[n];var n}(t,n);A.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,n).then(function(e){r._onMediaKeySystemAccessObtained(t,e)}).catch(function(e){A.logger.error('Failed to obtain key-system "'+t+'" access:',e)})},i._onMediaKeySystemAccessObtained=function(t,e){var n=this,r=(A.logger.log('Access for key-system "'+t+'" obtained'),{mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t});this._mediaKeysList.push(r),e.createMediaKeys().then(function(e){r.mediaKeys=e,A.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated()}).catch(function(e){A.logger.error("Failed to create media-keys:",e)})},i._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},i._onNewMediaKeySession=function(t){var n=this;A.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",function(e){n._onKeySessionMessage(t,e.message)},!1)},i._onKeySessionMessage=function(t,e){A.logger.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){A.logger.log("Received license data (length: "+(e&&e.byteLength)+"), updating key-session"),t.update(e)})},i._attemptSetMediaKeys=function(){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return A.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});A.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},i._generateRequestWithPreferredKeySession=function(e,t){var n,r=this,i=this._mediaKeysList[0];if(!i)return A.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});{if(!i.mediaKeysSessionInitialized)return(n=i.mediaKeysSession)?t?(A.logger.log('Generating key-session request for "'+e+'" init data type'),i.mediaKeysSessionInitialized=!0,void n.generateRequest(e,t).then(function(){A.logger.debug("Key-session generation succeeded")}).catch(function(e){A.logger.error("Error generating key-session request:",e),r.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})):(A.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0})):(A.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));A.logger.warn("Key-Session already initialized but requested again")}},i._createLicenseXhr=function(t,e,n){var r=new XMLHttpRequest,i=this._licenseXhrSetup;try{if(i)try{i(r,t)}catch(e){r.open("POST",t,!0),i(r,t)}r.readyState||r.open("POST",t,!0)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,n),r},i._onLicenseRequestReadyStageChange=function(e,t,n,r){if(4===e.readyState)if(200===e.status)this._requestLicenseFailureCount=0,A.logger.log("License request succeeded"),"arraybuffer"!==e.responseType&&A.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),r(e.response);else{if(A.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,3<this._requestLicenseFailureCount)return void this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});t=3-this._requestLicenseFailureCount+1;A.logger.warn("Retrying license request, "+t+" attempts left"),this._requestLicense(n,r)}},i._generateLicenseRequestChallenge=function(e,t){if(e.mediaKeySystemDomain===jt.WIDEVINE)return t;throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},i._requestLicense=function(e,t){A.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return A.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),i=this._createLicenseXhr(r,e,t),o=(A.logger.log("Sending license request to URL: "+r),this._generateLicenseRequestChallenge(n,e));i.send(o)}catch(e){A.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(b.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},i.onMediaAttached=function(e){this._emeEnabled&&(e=e.media,(this._media=e).addEventListener("encrypted",this._onMediaEncrypted))},i.onMediaDetached=function(){this._media&&(this._media.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null)},i.onManifestParsed=function(e){var t;this._emeEnabled&&(t=e.levels.map(function(e){return e.audioCodec}),e=e.levels.map(function(e){return e.videoCodec}),this._attemptKeySystemAccess(jt.WIDEVINE,t,e))},t=e,(i=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&Bt(t.prototype,i),r&&Bt(t,r),e}(o)});function Vt(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})):t).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n})}return r}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}e.d(n,"default",function(){return Ht});var Ht=function(h){var e;function p(e){void 0===e&&(e={}),(t=h.call(this)||this).config=void 0,t._autoLevelCapping=void 0,t.abrController=void 0,t.capLevelController=void 0,t.levelController=void 0,t.streamController=void 0,t.networkControllers=void 0,t.audioTrackController=void 0,t.subtitleTrackController=void 0,t.emeController=void 0,t.coreComponents=void 0,t.media=null,t.url=null;var t,n=p.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");t.config=Vt({},n,e);n=g(t).config;if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(void 0===n.liveSyncDuration||n.liveMaxLatencyDuration<=n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(A.enableLogs)(n.debug),t._autoLevelCapping=-1;var e=t.abrController=new n.abrController(g(t)),r=new n.bufferController(g(t)),c=t.capLevelController=new n.capLevelController(g(t)),f=new n.fpsController(g(t)),i=new O(g(t)),o=new j(g(t)),a=new N(g(t)),d=new je(g(t)),s=t.levelController=new De(g(t)),u=new G(g(t)),s=[s,t.streamController=new Ce(g(t),u)],l=n.audioStreamController,i=(l&&s.push(new l(g(t),u)),t.networkControllers=s,[i,o,a,e,r,c,f,d,u]);return(l=n.audioTrackController)&&(o=new l(g(t)),t.audioTrackController=o,i.push(o)),(l=n.subtitleTrackController)&&(a=new l(g(t)),t.subtitleTrackController=a,s.push(a)),(l=n.emeController)&&(e=new l(g(t)),t.emeController=e,i.push(e)),(l=n.subtitleStreamController)&&s.push(new l(g(t),u)),(l=n.timelineController)&&i.push(new l(g(t))),t.coreComponents=i,t}e=h,(t=p).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,p.isSupported=function(){if(!(t=Y()))return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,t=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!t&&!!e},Wt(p,null,[{key:"version",get:function(){return"0.13.2"}},{key:"Events",get:function(){return b.default}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return p.defaultConfig||zt},set:function(e){p.defaultConfig=e}}]);var t=p.prototype;return t.destroy=function(){A.logger.log("destroy"),this.trigger(b.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.attachMedia=function(e){A.logger.log("attachMedia"),this.media=e,this.trigger(b.default.MEDIA_ATTACHING,{media:e})},t.detachMedia=function(){A.logger.log("detachMedia"),this.trigger(b.default.MEDIA_DETACHING),this.media=null},t.loadSource=function(e){e=i.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),A.logger.log("loadSource:"+e),this.url=e,this.trigger(b.default.MANIFEST_LOADING,{url:e})},t.startLoad=function(t){void 0===t&&(t=-1),A.logger.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.stopLoad=function(){A.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.swapAudioCodec=function(){A.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.recoverMediaError=function(){A.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},Wt(p,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){A.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){A.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){A.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){A.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){A.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){e=!!e;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){A.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++)if(t<(e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate))return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping,e=-1===t&&e&&e.length?e.length-1:t;return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),p}(Q);Ht.defaultConfig=void 0},"./src/polyfills/number-isFinite.js":
/*!******************************************!*\
  !*** ./src/polyfills/number-isFinite.js ***!
  \******************************************/
/*! exports provided: isFiniteNumber */function(e,t,n){"use strict";n.r(t),n.d(t,"isFiniteNumber",function(){return r});var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */function(e,t,n){"use strict";function r(){return"undefined"==typeof window?self:window}n.r(t),n.d(t,"getSelfScope",function(){return r})},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */function(l,e,t){"use strict";t.r(e),t.d(e,"enableLogs",function(){return a}),t.d(e,"logger",function(){return u});e=t(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function n(){}var r={trace:n,debug:n,log:n,warn:n,info:n,error:n},i=r;var s=Object(e.getSelfScope)();function o(o){var a=s.console[o];return a?function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=(e=o,t=r[0],t="["+e+"] > "+t)),a.apply(s.console,r)}:n}var a=function(e){if(s.console&&!0===e||"object"==typeof e){!function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach(function(e){i[e]=t[e]?t[e].bind(t):o(e)})}(e,"debug","log","info","warn","error");try{i.log()}catch(e){i=r}}else i=r},u=i}},i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s="./src/hls.ts").default;function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r},e.exports=r())},function(e,t,n){!function(e,t){function h(){return null}function p(e){return e&&("object"==typeof e||"function"==typeof e)}function g(e){if(null!==e&&!p(e))throw new TypeError("Object prototype may only be an Object or null: "+e)}function v(n,r){function i(){}if(void 0===(this&&this instanceof v?this.constructor:void 0))throw new TypeError("Constructor Proxy requires 'new'");if(!p(n)||!p(r))throw new TypeError("Cannot create proxy with a non-object as target or handler");y=function(){n=null,i=function(e){throw new TypeError("Cannot perform '"+e+"' on a proxy that has been revoked")}},setTimeout(function(){y=null},0);var e,t=r;for(e in r={get:null,set:null,apply:null,construct:null},t){if(!(e in r))throw new TypeError("Proxy polyfill does not support trap '"+e+"'");r[e]=t[e]}"function"==typeof t&&(r.apply=t.apply.bind(t));var o,a,t=_(n),s=!1,u=!1,c=("function"==typeof n?(o=function(){var e=this&&this.constructor===o,t=Array.prototype.slice.call(arguments);return i(e?"construct":"apply"),e&&r.construct?r.construct.call(this,n,t):!e&&r.apply?r.apply(n,this,t):e?(t.unshift(n),new(n.bind.apply(n,t))):n.apply(this,t)},s=!0):n instanceof Array?(o=[],u=!0):o=b||null!==t?w(t):{},r.get?function(e){return i("get"),r.get(this,e,o)}:function(e){return i("get"),this[e]}),f=r.set?function(e,t){i("set"),r.set(this,e,t,o)}:function(e,t){i("set"),this[e]=t},d={};if(m.getOwnPropertyNames(n).forEach(function(e){var t;(s||u)&&e in o||(t=m.getOwnPropertyDescriptor(n,e),m.defineProperty(o,e,{enumerable:!!t.enumerable,get:c.bind(n,e),set:f.bind(n,e)}),d[e]=!0)}),e=!0,(s||u)&&(a=m.setPrototypeOf||([].__proto__===Array.prototype?function(e,t){return g(t),e.__proto__=t,e}:h),t&&a(o,t)||(e=!1)),r.get||!e)for(var l in n)d[l]||m.defineProperty(o,l,{get:c.bind(n,l)});return m.seal(n),m.seal(o),o}var y,m,b,w,_;(e=void 0!==e&&"[object process]"==={}.toString.call(e)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?t:self).Proxy||(e.Proxy=(y=null,m=Object,b=!(!m.create&&{__proto__:null}instanceof m),w=m.create||(b?function(e){return g(e),{__proto__:e}}:function(e){function t(){}if(g(e),null===e)throw new SyntaxError("Native Object.create is required to create objects with null prototype");return t.prototype=e,new t}),_=m.getPrototypeOf||([].__proto__===Array.prototype?function(e){return p(e=e.__proto__)?e:null}:h),v.revocable=function(e,t){return{proxy:new v(e,t),revoke:y}},v),e.Proxy.revocable=e.Proxy.revocable)}.call(this,n(105),n(19))},function(l,e,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0,n(t(0))),i=t(7),o=t(16),a=t(67),s=t(46);function u(e){var t,e=e.children,n=o.useGlobal();return(null===(t=n.stories)||void 0===t?void 0:t.length)||(null===(t=n.emptyStories)||void 0===t?void 0:t.length)?r.default.createElement(o.globalContext.Provider,{value:n},e):null}e.App=function(e){var t=e.children,e=e.options;return r.default.createElement(i.optionsContext.Provider,{value:e},r.default.createElement(a.fontsContext.Provider,{value:a.useFonts()},r.default.createElement(s.FontLoader,null,r.default.createElement(u,null,t))))}},function(e,t,n){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function i(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((u=u.apply(e,a||[])).next())})},l=this&&this.__generator||function(r,i){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){u.label=t[1];break}if(6===t[0]&&u.label<s[1]){u.label=s[1],s=t;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(t);break}s[2]&&u.ops.pop(),u.trys.pop();continue}t=i.call(r,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.loadStories=void 0,n(186)),f=n(11);t.loadStories=function(r,o,a){return u(this,void 0,void 0,function(){var t,n=this;return l(this,function(e){return t=r.map(function(i){return u(n,void 0,void 0,function(){var t,r,n;return l(this,function(e){switch(e.label){case 0:if(e.trys.push([0,6,,7]),!i.id)throw new Error("No id for story");return 5===i.id.length?[3,2]:[4,function(r,i){var o;return u(this,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return[4,fetch(i+"/projector/player/stories/"+r,{method:"GET"})];case 1:return[4,e.sent().json()];case 2:if(!((n=e.sent())&&n.videos&&n.videos[0]))throw new Error("Story "+r+" is empty");return t=n.title||n.videos[0].title,n=s(s({},n.videos[0]),{title:t}),[2,{viewKey:r,version:1,title:n.title,videoUrl:null!==(o=null===(o=n.hlsIndexFile)||void 0===o?void 0:o.replace("sp_gobi-fullsize-many-bitrates/","").replace(/m3u8$/,"mp4"))&&void 0!==o?o:"",streamingUrl:null!==(o=n.hlsIndexFile)&&void 0!==o?o:"",thumbnailUrl:null!==(o=n.poster)&&void 0!==o?o:"",animatedThumbnailUrl:null!==(o=n.gifPoster)&&void 0!==o?o:"",posterUrl:null!==(o=n.poster)&&void 0!==o?o:"",chapters:n.chunks.map(function(e){return{order:e.position,duration:e.duration,stickers:e.stickers.filter(function(e){return"link2"===e.sticker}).map(function(e){var t;return{type:"LINK",order:null!==(t=e.position.stickerOrder)&&void 0!==t?t:1,x:e.position.x+.8*e.position.w/2,y:e.position.y+.8*e.position.w*612/1088/2,scale:.8*e.position.w,rotation:0,imageUrl:e.data.previewurl,linkUrl:e.data.url,text:""}})}})}]}})})}(i.id,a)];case 1:return t=e.sent(),[3,5];case 2:return n=a+"/api/v5/renders/"+i.id+(o?"?useMediaProxy=1":""),[4,fetch(n,{method:"GET"})];case 3:return[4,e.sent().json()];case 4:t=e.sent(),e.label=5;case 5:if(!t.chapters||!t.chapters.length)throw new Error("Story "+i.id+" is empty");return t.posterUrl&&function(t){return u(this,void 0,void 0,function(){var r;return l(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,fetch(t,{method:"GET"})];case 1:return[4,e.sent().blob()];case 2:return r=e.sent(),[4,new Promise(function(e,t){var n=new FileReader;n.readAsDataURL(r),n.onloadend=function(){e(n.result)},n.onerror=t})];case 3:return[2,e.sent()];case 4:return e.sent(),[2,t];case 5:return[2]}})})}(t.posterUrl).then(function(e){t.posterUrl=e}),i.title&&(t.title=i.title),t.overrideThumbnailUrl=i.thumbnailUrl||i.bubbleSrc,r=0,t.chapters=t.chapters.map(function(e){var t=r,n=r+e.duration-(f.isIos?.02:0);return r+=e.duration,s(s({},e),{stickers:e.stickers.filter(function(e){return-1!==c.ValidStickerTypes.indexOf(e.type)}),begin:t,end:n})}),[2,t];case 6:return n=e.sent(),console.log("Experienced error with story "+i.id,n),[2,{viewKey:i.id}];case 7:return[2]}})})}),[2,Promise.all(t)]})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidStickerTypes=void 0,t.ValidStickerTypes=["DUMB","TEXT","LINK"]},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=void 0,o(n(0))),s=n(46),u=n(67);t.FontLoader=function(e){var e=e.children,t=a.useContext(u.fontsContext).fontStylesheetUrls;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{style:{visibility:"hidden"}},a.default.createElement("link",{rel:"preconnect",href:"https://fonts.gstatic.com/",crossOrigin:"true"}),t.map(function(e){return a.default.createElement("link",{key:e,rel:"stylesheet",type:"text/css",href:e})}),Object.keys(s.fontFamilyNames).map(function(e){return a.default.createElement("span",{key:"font-preload-"+s.fontFamilyNames[e],style:{fontFamily:s.fontFamilyNames[e]}})})),e)}},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.resolveFontStylesheets=i.fontFamilyNames=void 0,i.fontFamilyNames={roboto:"Roboto","roboto-mono":"Roboto Mono","bebas-neue":"Bebas Neue","open-sans":"Open Sans"},i.resolveFontStylesheets=function(e){var t={},n={},r=(e.forEach(function(e){e.chapters.forEach(function(e){e.stickers.filter(function(e){return"TEXT"===e.type}).filter(function(e){return"open-sans"!==e.textFontFamily}).forEach(function(e){e.text.split("").forEach(function(e){e&&(t[e]=!0)}),n[e.textFontFamily]=!0})})}),Object.keys(t).reduce(function(e,t){return""+e+t},""));return Object.keys(n).filter(function(e){return"open-sans"!==e}).map(function(e){return"https://fonts.googleapis.com/css?family="+encodeURIComponent(i.fontFamilyNames[e])+":400&text="+encodeURIComponent(r)})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(190)));t.default=r.default},function(a,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},p=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},g=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),v=t(3),m=o(t(68)),b=t(11),w=t(7),_=t(16),E=o(t(70)),S=o(t(196)),k=o(t(263)),y=t(265),T=o(t(266)),x=o(t(286));e.default=function(){var e=g.useContext(w.optionsContext),c=e.align,f=e.verticalOrientation,d=e.wrap,t=e.on,n=e.showEmptyStories,h=e.disableShadowDom,r=e.playerOptions,e=e.noShade,i=g.useContext(_.globalContext),o=i.stories,a=i.emptyStories,s=i.popupOpen,u=i.closingAnimationActive,i=g.useRef(null),r=!r.container,o=(g.useEffect(function(){"loaded"in t&&t.loaded()},[]),g.useEffect(function(){u&&t.close()},[t,s,u]),(o||[]).map(function(e,t){return g.default.createElement(T.default,{key:e.viewKey+"_"+t,story:e,index:t})})),l=o,a=(n&&(n=(a||[]).map(function(e,t){return g.default.createElement(x.default,{key:e.viewKey+"_"+t,story:e,index:t})}),l=p(o,n)),g.default.createElement(v.ThemeProvider,{theme:E.default},g.default.createElement(y.Wrapper,{textAlign:c},g.default.createElement(y.StoriesBlock,null,g.default.createElement(y.Stories,{verticalOrientation:f,noWrap:!d,fade:e&&s},l)))));return!h&&b.shadowDomSupported()&&(a=g.default.createElement(m.default.div,null,a)),g.default.createElement(g.default.Fragment,null,a,r&&s&&g.default.createElement(S.default,{shadowRootRef:i}),!r&&g.default.createElement(k.default,null))}},function(c,e,f){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t="function"==typeof Symbol&&Symbol.for,d=t?Symbol.for("react.element"):60103,h=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,s=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function l(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case d:switch(e=e.type){case p:case s:case n:case i:case r:case g:return e;default:switch(e=e&&e.$$typeof){case a:case u:case m:case y:case o:return e;default:return t}}case h:return t}}}function S(e){return l(e)===s}e.AsyncMode=p,e.ConcurrentMode=s,e.ContextConsumer=a,e.ContextProvider=o,e.Element=d,e.ForwardRef=u,e.Fragment=n,e.Lazy=m,e.Memo=y,e.Portal=h,e.Profiler=i,e.StrictMode=r,e.Suspense=g,e.isAsyncMode=function(e){return S(e)||l(e)===p},e.isConcurrentMode=S,e.isContextConsumer=function(e){return l(e)===a},e.isContextProvider=function(e){return l(e)===o},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===d},e.isForwardRef=function(e){return l(e)===u},e.isFragment=function(e){return l(e)===n},e.isLazy=function(e){return l(e)===m},e.isMemo=function(e){return l(e)===y},e.isPortal=function(e){return l(e)===h},e.isProfiler=function(e){return l(e)===i},e.isStrictMode=function(e){return l(e)===r},e.isSuspense=function(e){return l(e)===g},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===s||e===i||e===r||e===g||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===o||e.$$typeof===a||e.$$typeof===u||e.$$typeof===w||e.$$typeof===_||e.$$typeof===E||e.$$typeof===b)},e.typeOf=l},function(e,t,n){"use strict";e.exports=n(193)},function(t,r,e){"use strict";
/** @license React v17.0.2
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S=e(65),k=e(0);function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=60106,s=60107,u=60108,l=60114,h=60109,c=60110,f=60112,p=60113,g=60120,y=60115,m=60116,b=60121,w=60117,_=60119,E=60129,O=60131;function P(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case a:return"Portal";case l:return"Profiler";case u:return"StrictMode";case p:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case c:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case f:var t=(t=e.render).displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return P(e.type);case b:return P(e._render);case m:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}"function"==typeof Symbol&&Symbol.for&&(a=(e=Symbol.for)("react.portal"),s=e("react.fragment"),u=e("react.strict_mode"),l=e("react.profiler"),h=e("react.provider"),c=e("react.context"),f=e("react.forward_ref"),p=e("react.suspense"),g=e("react.suspense_list"),y=e("react.memo"),m=e("react.lazy"),b=e("react.block"),w=e("react.fundamental"),_=e("react.scope"),E=e("react.debug_trace_mode"),O=e("react.legacy_hidden"));var e=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A={};function C(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var d=new Uint16Array(16),R=0;R<15;R++)d[R]=R+1;d[15]=0;var L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D=Object.prototype.hasOwnProperty,I={},M={};function F(e){return D.call(M,e)||!D.call(I,e)&&(L.test(e)?M[e]=!0:void(I[e]=!0))}function j(e,t,n,r){if(null==t||function(e,t,n,r){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function n(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var x={},N=("children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new n(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new n(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new n(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new n(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new n(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new n(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new n(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new n(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new n(e,5,!1,e.toLowerCase(),null,!1,!1)}),/[\-:]([a-z])/g);function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N,U);x[t]=new n(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N,U);x[t]=new n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N,U);x[t]=new n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new n(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new n(e,1,!1,e.toLowerCase(),null,!0,!0)});var B=/["'&<>]/;function z(e){if("boolean"==typeof e||"number"==typeof e)return""+e;var t=B.exec(e=""+e);if(t){for(var n="",r=0,i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==i&&(n+=e.substring(r,i)),r=i+1,n+=t}e=r!==i?n+e.substring(r,i):n}return e}var V="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},v=null,G=null,o=null,W=!1,H=!1,i=null,K=0;function q(){if(null===v)throw Error(T(321));return v}function $(){if(0<K)throw Error(T(312));return{memoizedState:null,queue:null,next:null}}function Y(){return null===o?null===G?(W=!1,G=o=$()):(W=!0,o=G):o=null===o.next?(W=!1,o.next=$()):(W=!0,o.next),o}function X(e,t,n,r){for(;H;)H=!1,K+=1,o=null,n=e(t,r);return Q(),n}function Q(){H=!1,K=0,o=i=G=v=null}function Z(e,t){return"function"==typeof t?t(e):t}function J(e,t,n){if(v=q(),o=Y(),W){var r=o.queue;if(t=r.dispatch,null===i||void 0===(n=i.get(r)))return[o.memoizedState,t];for(i.delete(r),r=o.memoizedState;r=e(r,n.action),null!==(n=n.next););return[o.memoizedState=r,t]}return e=e===Z?"function"==typeof t?t():t:void 0!==n?n(t):t,o.memoizedState=e,e=(e=o.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(!(K<25))throw Error(T(301));if(e===v)if(H=!0,e={action:n,next:null},null===i&&(i=new Map),void 0===(n=i.get(t)))i.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,v,e),[o.memoizedState,e]}function ee(e,t){if(v=q(),t=void 0===t?null:t,null!==(o=Y())){var n=o.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!V(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),o.memoizedState=[e,t],e}function te(){}var ne=null,re={readContext:function(e){var t=ne.threadID;return C(e,t),e[t]},useContext:function(e){q();var t=ne.threadID;return C(e,t),e[t]},useMemo:ee,useReducer:J,useRef:function(e){v=q();var t=(o=Y()).memoizedState;return null===t?o.memoizedState=e={current:e}:t},useState:function(e){return J(Z,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ee(function(){return e},t)},useImperativeHandle:te,useEffect:te,useDebugValue:te,useDeferredValue:function(e){return q(),e},useTransition:function(){return q(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(ne.identifierPrefix||"")+"R:"+(ne.uniqueID++).toString(36)},useMutableSource:function(e,t){return q(),t(e._source)}},ie="http://www.w3.org/1999/xhtml";function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ae={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=S({menuitem:!0},ae),ue={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},le=["Webkit","ms","Moz","O"],ce=(Object.keys(ue).forEach(function(t){le.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ue[e]=ue[t]})}),/([A-Z])/g),fe=/^ms-/,de=k.Children.toArray,he=e.ReactCurrentDispatcher,pe={listing:!0,pre:!0,textarea:!0},ge=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ve={},ye={};var me=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function we(e,t){if(void 0===e)throw Error(T(152,P(t)||"Component"))}function _e(h,p,g){function e(e,t){var n=t.prototype&&t.prototype.isReactComponent,r=function(e,t,n,r){if(r&&("object"==typeof(r=e.contextType)&&null!==r))return C(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=A;return t}(t,p,g,n),i=[],c=!1,o={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===i)return null},enqueueReplaceState:function(e,t){c=!0,i=[t]},enqueueSetState:function(e,t){if(null===i)return null;i.push(t)}};if(n){n=new t(e.props,r,o);"function"==typeof t.getDerivedStateFromProps&&null!=(s=t.getDerivedStateFromProps.call(null,e.props,n.state))&&(n.state=S({},n.state,s))}else if(v={},n=t(e.props,r,o),null==(n=X(t,e.props,n,r))||null==n.render)return void we(h=n,t);if(n.props=e.props,n.context=r,n.updater=o,void 0===(o=n.state)&&(n.state=o=null),"function"==typeof n.UNSAFE_componentWillMount||"function"==typeof n.componentWillMount)if("function"==typeof n.componentWillMount&&"function"!=typeof t.getDerivedStateFromProps&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&"function"!=typeof t.getDerivedStateFromProps&&n.UNSAFE_componentWillMount(),i.length){var o=i,a=c,i=null,c=!1;if(a&&1===o.length)n.state=o[0];else{for(var s=a?o[0]:n.state,f=!0,a=a?1:0;a<o.length;a++){var u=o[a];null!=(u="function"==typeof u?u.call(n,s,e.props,r):u)&&(f?(f=!1,s=S({},s,u)):S(s,u))}n.state=s}}else i=null;if(we(h=n.render(),t),"function"==typeof n.getChildContext&&"object"==typeof(e=t.childContextTypes)){var l,d=n.getChildContext();for(l in d)if(!(l in e))throw Error(T(108,P(t)||"Unknown",l))}d&&(p=S({},p,d))}for(;k.isValidElement(h);){var t=h,n=t.type;if("function"!=typeof n)break;e(t,n)}return{child:h,context:p}}(e=Se.prototype).destroy=function(){var e;this.exhausted||(this.exhausted=!0,this.clearProviders(),e=this.threadID,d[e]=d[0],d[0]=e)},e.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID,i=(C(n,r),n[r]);this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},e.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.read=function(e){if(this.exhausted)return null;var t=ne,n=(ne=this,he.current);he.current=re;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;d[o]=d[0],d[0]=o;break}var a=this.stack[this.stack.length-1];if(i||a.childIndex>=a.children.length){var s=a.footer;if(""!==s&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===h)this.popProvider(a.type);else if(a.type===p){this.suspenseDepth--;var c=r.pop();if(i){var i=!1,u=a.fallbackFrame;if(!u)throw Error(T(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=s}else{var f=a.children[a.childIndex++],l="";try{l+=this.render(f,a.context,a.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(T(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=l}}return r[0]}finally{he.current=n,ne=t,Q()}},e.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?z(n):this.previousWasTextNode?"\x3c!-- --\x3e"+z(n):(this.previousWasTextNode=!0,z(n));if(e=(t=_e(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!k.isValidElement(e)){if(null==e||null==e.$$typeof)return e=de(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";if((n=e.$$typeof)===a)throw Error(T(257));throw Error(T(258,n.toString()))}var r=e.type;if("string"==typeof r)return this.renderDOM(e,t,n);switch(r){case O:case E:case u:case l:case g:case s:return e=de(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case p:throw Error(T(294));case _:throw Error(T(343))}if("object"==typeof r&&null!==r)switch(r.$$typeof){case f:v={};var i=r.render(e.props,e.ref),i=X(r.render,e.props,i,e.ref);return i=de(i),this.stack.push({type:null,domNamespace:n,children:i,childIndex:0,context:t,footer:""}),"";case y:return e=[k.createElement(r.type,S({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case h:return n={type:e,domNamespace:n,children:r=de(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case c:r=e.type,i=e.props;var o=this.threadID;return C(r,o),r=de(i.children(r[o])),this.stack.push({type:e,domNamespace:n,children:r,childIndex:0,context:t,footer:""}),"";case w:throw Error(T(338));case m:return r=(i=(r=e.type)._init)(r._payload),e=[k.createElement(r,S({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(T(130,null==r?r:typeof r,""))},e.renderDOM=function(e,c,f){var t=e.type.toLowerCase();if(f===ie&&oe(t),!ve.hasOwnProperty(t)){if(!ge.test(t))throw Error(T(65,t));ve[t]=!0}var n,d,h,r,i=e.props;if("input"===t)i=S({type:void 0},i,{defaultChecked:void 0,defaultValue:void 0,value:null!=i.value?i.value:i.defaultValue,checked:null!=i.checked?i.checked:i.defaultChecked});else if("textarea"===t){if(null==(o=i.value)){var o=i.defaultValue,a=i.children;if(null!=a){if(null!=o)throw Error(T(92));if(Array.isArray(a)){if(!(a.length<=1))throw Error(T(93));a=a[0]}o=""+a}null==o&&(o="")}i=S({},i,{value:void 0,children:""+o})}else if("select"===t)this.currentSelectValue=null!=i.value?i.value:i.defaultValue,i=S({},i,{value:void 0});else if("option"===t){var a=this.currentSelectValue,p=function(e){if(null==e)return e;var t="";return k.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(i.children);if(null!=a){var g=null!=i.value?i.value+"":p;if(o=!1,Array.isArray(a)){for(var v=0;v<a.length;v++)if(""+a[v]===g){o=!0;break}}else o=""+a===g;i=S({selected:void 0,children:void 0},i,{selected:o,children:p})}}if(o=i){if(se[t]&&(null!=o.children||null!=o.dangerouslySetInnerHTML))throw Error(T(137,t));if(null!=o.dangerouslySetInnerHTML){if(null!=o.children)throw Error(T(60));if(!("object"==typeof o.dangerouslySetInnerHTML&&"__html"in o.dangerouslySetInnerHTML))throw Error(T(61))}if(null!=o.style&&"object"!=typeof o.style)throw Error(T(62))}o=i,a=this.makeStaticMarkup,p=1===this.stack.length,g="<"+e.type;e:if(-1===t.indexOf("-"))v="string"==typeof o.is;else switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":v=!1;break e;default:v=!0}for(l in o)if(me.call(o,l)){var s=o[l];if(null!=s){if("style"===l){var y,m,b,w,u=void 0,_="",E="";for(u in s)s.hasOwnProperty(u)&&(y=0===u.indexOf("--"),null!=(m=s[u])&&(_+=E+(w=y?u:(w=u,ye.hasOwnProperty(w)?ye[w]:(b=w.replace(ce,"-$1").toLowerCase().replace(fe,"-ms-"),ye[w]=b)))+":",E=u,_+=y=null==m||"boolean"==typeof m||""===m?"":y||"number"!=typeof m||0===m||ue.hasOwnProperty(E)&&ue[E]?(""+m).trim():m+"px",E=";"));s=_||null}u=null,v?be.hasOwnProperty(l)||(u=F(u=l)&&null!=s?u+'="'+z(s)+'"':""):(n=l,d=s,r=h=void 0,r=x.hasOwnProperty(n)?x[n]:null,u=(h=(h="style"!==n)?null!==r?0===r.type:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1]):h)||j(n,d,r,!1)?"":null!==r?(n=r.attributeName,3===(h=r.type)||4===h&&!0===d?n+'=""':n+'="'+z(d=r.sanitizeURL?""+d:d)+'"'):F(n)?n+'="'+z(d)+'"':""),u&&(g+=" "+u)}}a||p&&(g+=' data-reactroot=""');var l=g;o="",ae.hasOwnProperty(t)?l+="/>":(l+=">",o="</"+e.type+">");e:{if(null!=(a=i.dangerouslySetInnerHTML)){if(null!=a.__html){a=a.__html;break e}}else if("string"==typeof(a=i.children)||"number"==typeof a){a=z(a);break e}a=null}return null!=a?(i=[],pe.hasOwnProperty(t)&&"\n"===a.charAt(0)&&(l+="\n"),l+=a):i=de(i.children),e=e.type,f=null==f||"http://www.w3.org/1999/xhtml"===f?oe(e):"http://www.w3.org/2000/svg"===f&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":f,this.stack.push({domNamespace:f,type:t,children:i,childIndex:0,context:c,footer:o}),this.previousWasTextNode=!1,l};var Ee=Se;function Se(e,t,n){if(e=k.isValidElement(e)?e.type!==s?[e]:(e=e.props.children,k.isValidElement(e)?[e]:de(e)):de(e),e={type:null,domNamespace:ie,children:e,childIndex:0,context:A,footer:""},0===(r=d[0])){var r,i=d,o=2*(r=i.length);if(!(o<=65536))throw Error(T(304));var a=new Uint16Array(o);for(a.set(i),(d=a)[0]=r+1,i=r;i<o-1;i++)d[i]=i+1;d[o-1]=0}else d[0]=d[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}r.renderToNodeStream=function(){throw Error(T(207))},r.renderToStaticMarkup=function(e,t){e=new Ee(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},r.renderToStaticNodeStream=function(){throw Error(T(208))},r.renderToString=function(e,t){e=new Ee(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},r.version="17.0.2"},function(e,t,n){"use strict";var a=n(195);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==a)throw o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),o.name="Invariant Violation",o}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(197)));t.default=r.default},function(a,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),l=t(29),c=o(t(198)),d=o(t(68)),h=t(3),p=t(16),g=o(t(199)),v=o(t(201)),y=o(t(261)),m=t(7),b=o(t(70)),w=t(11),f=t(262),_=document.createElement("div");e.default=function(e){e.shadowRootRef;var e=u.useContext(p.globalContext),t=e.popupOpen,n=e.closingAnimationActive,r=e.setClosingAnimationActive,i=e.handleClosingAnimationFinished,e=u.useContext(m.optionsContext),o=e.noShade,a=e.zIndex,e=e.disableShadowDom,s=_,o=(g.default(),u.useEffect(function(){return document.body.appendChild(s),window.history.pushState({gobipopup:!0},"",""),function(){document.body.removeChild(s),window.history.state&&window.history.state.gobipopup&&window.history.back()}},[]),u.default.createElement(h.ThemeProvider,{theme:b.default},u.default.createElement(c.default,{active:t,focusTrapOptions:{initialFocus:!1}},u.default.createElement(f.Popup,{isOpen:t,isClose:n,noShade:o,zIndex:a,onAnimationEnd:function(){return i()}},u.default.createElement(f.Content,{isOpen:t,isClose:n},u.default.createElement(f.PopupBackground,{onClick:function(){return r(!0)}}),u.default.createElement(f.Container,null,u.default.createElement(v.default,null),u.default.createElement(f.CloseButton,{type:"button",onClick:function(){return r(!0)}},u.default.createElement(y.default,null))))))));return!e&&w.shadowDomSupported()&&(o=u.default.createElement(d.default.div,null,o)),l.createPortal(o,s)}},function(e,c,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n),t=(e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=t(0),d=t(29),n=t(69),t=t(292).createFocusTrap,u=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n,i=f(o);function o(e){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(t=i.call(this,e)).tailoredFocusTrapOptions={returnFocusOnDeactivate:!1},t.returnFocusOnDeactivate=!0;var n,r=e.focusTrapOptions;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&("returnFocusOnDeactivate"!==n?"onPostDeactivate"!==n?t.tailoredFocusTrapOptions[n]=r[n]:t.onPostDeactivate=r[n]:t.returnFocusOnDeactivate=!!r[n]);return t.focusTrapElements=e.containerElements||[],t.updatePreviousElement(),t}return t=o,(e=[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getNodeForOption",value:function(e){var t=this.tailoredFocusTrapOptions[e];if(!t)return null;var n,r=t;if("string"==typeof t&&!(r=null===(n=this.getDocument())||void 0===n?void 0:n.querySelector(t)))throw new Error("`".concat(e,"` refers to no known node"));if("function"==typeof t&&!(r=t()))throw new Error("`".concat(e,"` did not return a node"));return r}},{key:"getReturnFocusNode",value:function(){var e=this.getNodeForOption("setReturnFocus");return e||this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var e=this.getDocument();e&&(this.previouslyFocusedElement=e.activeElement)}},{key:"deactivateTrap",value:function(){function e(){var e=t.getReturnFocusNode();(null==e?void 0:e.focus)&&t.returnFocusOnDeactivate&&e.focus({preventScroll:i}),t.onPostDeactivate&&t.onPostDeactivate.call(null)}var t=this,n=this.tailoredFocusTrapOptions,r=n.checkCanReturnFocus,n=n.preventScroll,i=void 0!==n&&n;this.focusTrap&&this.focusTrap.deactivate({returnFocus:!1});r?r(this.getReturnFocusNode()).then(e,e):e()}},{key:"setupFocusTrap",value:function(){var e;this.focusTrap||(e=this.focusTrapElements.map(d.findDOMNode)).some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(e,this.tailoredFocusTrapOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){var t,n,r,i;this.focusTrap?(e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements),t=!e.active&&this.props.active,n=e.active&&!this.props.active,r=!e.paused&&this.props.paused,i=e.paused&&!this.props.paused,t&&(this.updatePreviousElement(),this.focusTrap.activate()),n?this.deactivateTrap():(r&&this.focusTrap.pause(),i&&this.focusTrap.unpause())):(e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap()))}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var n=this,r=this.props.children?s.Children.only(this.props.children):void 0;if(r){if(r.type&&r.type===s.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return s.cloneElement(r,{ref:function(e){var t=n.props.containerElements;r&&("function"==typeof r.ref?r.ref(e):r.ref&&(r.ref.current=e)),n.focusTrapElements=t||[e]}})}return null}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.Component),l="undefined"==typeof Element?Function:Element;u.propTypes={active:n.bool,paused:n.bool,focusTrapOptions:n.shape({document:n.object,onActivate:n.func,onPostActivate:n.func,checkCanFocusTrap:n.func,onDeactivate:n.func,onPostDeactivate:n.func,checkCanReturnFocus:n.func,initialFocus:n.oneOfType([n.instanceOf(l),n.string,n.func,n.bool]),fallbackFocus:n.oneOfType([n.instanceOf(l),n.string,n.func]),escapeDeactivates:n.oneOfType([n.bool,n.func]),clickOutsideDeactivates:n.oneOfType([n.bool,n.func]),returnFocusOnDeactivate:n.bool,setReturnFocus:n.oneOfType([n.instanceOf(l),n.string,n.func]),allowOutsideClick:n.oneOfType([n.bool,n.func]),preventScroll:n.bool}),containerElements:n.arrayOf(n.instanceOf(l)),children:n.oneOfType([n.element,n.instanceOf(l)])},u.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:t},e.exports=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),n(0)),o=n(11),a=r(n(200)),s=function(){var e=this;this.scrollTop=0,this.documentElement=null,this.documentBody=null,this.orgStyleDoc=null,this.orgStyleBody=null,this.disabledStyle={width:"100%",minHeight:"100%",overflow:"hidden"},this.setStyles=function(e,t){Object.assign(e.style,t)},this.iosEnable=function(){e.setStyles(e.documentElement,e.orgStyleDoc),e.setStyles(e.documentBody,e.orgStyleBody),window.scrollTo(0,e.scrollTop)},this.iosDisable=function(){e.scrollTop=window.pageYOffset,e.setStyles(e.documentElement,e.disabledStyle),e.setStyles(e.documentBody,e.disabledStyle)},this.classicEnable=function(){e.setStyles(e.documentElement,e.orgStyleDoc),e.setStyles(e.documentBody,e.orgStyleBody)},this.classicDisable=function(){e.setStyles(e.documentElement,{overflow:"hidden",minHeight:"100%"}),e.setStyles(e.documentBody,{overflow:"hidden",minHeight:"100%"})},this.documentElement=document.documentElement,this.documentBody=document.body,this.orgStyleDoc={width:this.documentElement.style.width,minHeight:this.documentElement.style.height,overflow:this.documentElement.style.overflow},this.orgStyleBody={width:this.documentBody.style.width,minHeight:this.documentBody.style.height,overflow:this.documentBody.style.overflow}},u=function(){document.body.style.height=window.innerHeight+"px"};t.default=function(){var e=new s;o.isIos&&a.default("resize",u),i.useLayoutEffect(function(){return o.isIos?e.iosDisable():e.classicDisable(),function(){o.isIos?e.iosEnable():e.classicEnable()}},[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.default=function(n,e,r){void 0===r&&(r=window);var i=o.useRef();o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){var e,t=r&&r.addEventListener;return t&&(e=function(e){return i.current(e)},r.addEventListener(n,e)),function(){t&&r.removeEventListener(n,e)}},[n,r])}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(202)));t.default=r.default},function(s,e,t){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},v=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},y=(Object.defineProperty(e,"__esModule",{value:!0}),o(t(0))),o=a(t(3)),m=t(16),b=a(t(106)),w=a(t(109)),_=t(11),E=o.default.div(n(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  perspective: ",";\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  perspective: ",";\n"]),function(e){return 3*e.cubeWidth+"px"}),S=o.default.div(n(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  transform-style: preserve-3d;\n  transform: ",";\n\n  ","\n\n  ","\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  transform-style: preserve-3d;\n  transform: ",";\n\n  ","\n\n  ","\n"]),function(e){return"translateZ("+-.5*e.cubeWidth+"px)"},function(e){return e.prevDirection&&"\n      transition: transform 1s;\n      transform: translateZ("+-.5*e.cubeWidth+"px) rotateY(90deg);\n    "},function(e){return e.nextDirection&&"\n      transition: transform 1s;\n      transform: translateZ("+-.5*e.cubeWidth+"px) rotateY(-90deg);\n    "}),k=o.default.div(n(["\n\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n\n  ","\n\n  ","\n\n","\n"],["\n\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n\n  ","\n\n  ","\n\n","\n"]),function(e){return e.prevDirection&&"\n    transform: rotateY( -90deg) translateZ("+(.5*e.cubeWidth+1)+"px) ;\n    transition-duration: 0.8s;\n    "},function(e){return e.nextDirection&&"\n    transform: rotateY( 90deg) translateZ("+(.5*e.cubeWidth-1)+"px);\n    transition-duration: 0.8s;\n    "},function(e){return e.front&&"\n  transform: rotateY(  0deg) translateZ("+.5*e.cubeWidth+"px);\n  "});e.default=function(){function e(){l(!1),h(!1),g([i[s]])}var t,r=y.useRef(null),n=y.useContext(m.globalContext),i=n.stories,o=n.currentStoryIndex,n=y.useState(o),a=n[0],c=n[1],n=y.useState(o),s=n[0],f=n[1],n=y.useState(!1),u=n[0],l=n[1],n=y.useState(!1),d=n[0],h=n[1],n=y.useState([i[o]]),p=n[0],g=n[1],n=(y.useEffect(function(){a!==s&&(_.is3dSupport?(l(a<s),h(s<a),g(v(p,[i[s]]))):e())},[s]),y.useEffect(function(){f(o)},[o]),y.useEffect(function(){c(s)},[s]),p.map(function(e,t){var n=e.viewKey;return y.default.createElement(k,{nextDirection:u&&1===t,prevDirection:d&&1===t,front:0===t,cubeWidth:null===(t=null==r?void 0:r.current)||void 0===t?void 0:t.clientWidth,key:n+"-"+s},y.default.createElement(w.default,{story:e,index:s}))}));return y.default.createElement(b.default,null,y.default.createElement(E,{onTransitionEnd:e,cubeWidth:null===(t=null==r?void 0:r.current)||void 0===t?void 0:t.clientWidth,ref:r},y.default.createElement(S,{nextDirection:u,prevDirection:d,cubeWidth:null===(t=null==r?void 0:r.current)||void 0===t?void 0:t.clientWidth},n)))}},function(s,e,t){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},d=(Object.defineProperty(e,"__esModule",{value:!0}),t(107)),h=o(t(0)),o=a(t(3)),p=t(7),g=t(108),v=t(11),y=o.default.div(n(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: inherit;\n  height: inherit;\n  max-width: inherit;\n  max-height: inherit;\n  position: relative;\n  margin: 0 auto;\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: inherit;\n  height: inherit;\n  max-width: inherit;\n  max-height: inherit;\n  position: relative;\n  margin: 0 auto;\n"]));e.default=function(e){var e=e.children,t=h.useState(null),a=t[0],s=t[1],u=(t=h.useContext(p.optionsContext)).isFullHeightMobile,l=t.fullScreenPlayer,c=t.playerOptions,n=h.useRef(null),f=!c.container,r=h.useCallback(function(e){var t,n,r,i,o;null!==e&&(i=!l&&f&&!(u&&v.isMobile),r=window.innerWidth-(i?50:0),i=window.innerHeight-(i?100:0),f||(o=e.clientWidth,e=e.clientHeight,r=Math.min(o,c.width)||c.width,i=Math.min(e,c.height)||c.height),.5625<r/i?(n=Math.round(i),t=Math.round(.5625*n)):(t=Math.round(r),n=Math.round(t/.5625)),d.isEqual(o={width:t,height:n},a)||s(o))},[a,n,n.current]);return h.useEffect(function(){function e(){return r(n.current)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[r,n]),h.useEffect(function(){r(n.current)},[n,n.current]),h.default.createElement(g.sizeContext.Provider,{value:a},h.default.createElement(y,{ref:n},h.default.createElement("div",{style:a},e)))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(r=n(206))&&r.__esModule?r:{default:r},n=n(219);var i=r.default[r.default.length-1],n=(0,n.createReactPlayer)(r.default,i);t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(22),o=n(47);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}r=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(208))})})},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(209))})})},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(210))})})},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(211))})})},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(212))})})},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(213))})})},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(214))})})},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(215))})})},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(216))})})},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(217))})})},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(218))})})},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(e){return o.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(111))})})}];t.default=r},function(e,t){function u(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function l(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,n){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");if("function"==typeof t&&(n=t,t={}),n=n||function(){},i.type=(t=t||{}).type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs){var o,a=i,s=t.attrs;for(o in s)a.setAttribute(o,s[o])}t.text&&(i.text=""+t.text),("onload"in i?u:l)(i,n),i.onload||u(i,n),r.appendChild(i)}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(n,e,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(t(0)),u=t(22),l=t(47);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=i(n);return e=r?(e=i(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?c(t):e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=function(e){var t=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e);var n,a=p(s);function s(){var t,e=this,n=s;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return f(c(t=a.call.apply(a,[this].concat(i))),"callPlayer",u.callPlayer),f(c(t),"mute",function(){t.setVolume(0)}),f(c(t),"unmute",function(){null!==t.props.volume&&t.setVolume(t.props.volume)}),f(c(t),"ref",function(e){t.container=e}),t}return t=s,(e=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var n=this,t=this.props,r=t.playing,i=t.config,o=t.onError,a=t.onDuration,s=e&&e.match(l.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,u.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then(function(e){n.container&&(e.api.addReadyListener(function(e,t){n.player=t,n.player.on("ready",n.props.onReady),n.player.on("play",n.props.onPlay),n.player.on("pause",n.props.onPause),n.player.on("seek",n.props.onSeek),n.player.on("playerComplete",n.props.onEnded)},s),e.api.renderPlayer(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){f(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({uuid:s,container:n.container,autoplay:r?1:0},i.options)),e.api.getPlayerMetadata(s).then(function(e){n.duration=e.length_in_seconds,a(e.length_in_seconds)}))},o)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.display;return r.default.createElement("div",{style:{width:"100%",height:"100%",display:e}},r.default.createElement("div",{ref:this.ref}))}}])&&o(t.prototype,e),n&&o(t,n),s}(r.Component);f(e.default=t,"displayName","Vidyard"),f(t,"canPlay",l.canPlay.vidyard)},function(n,e,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(t(0)),u=t(22),t=t(47);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?l(t):e}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e);var n,a=d(s);function s(){var t,e=this,n=s;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return c(l(t=a.call.apply(a,[this].concat(i))),"callPlayer",u.callPlayer),c(l(t),"duration",null),c(l(t),"currentTime",null),c(l(t),"secondsLoaded",null),c(l(t),"mute",function(){t.callPlayer("mute")}),c(l(t),"unmute",function(){t.callPlayer("unmute")}),c(l(t),"ref",function(e){t.iframe=e}),t}return t=s,(e=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var n=this;(0,u.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then(function(e){n.iframe&&(n.player=new e.Player(n.iframe),n.player.on("ready",function(){n.player.isReady=!0,n.player.on("play",n.props.onPlay),n.player.on("pause",n.props.onPause),n.player.on("seeked",n.props.onSeek),n.player.on("ended",n.props.onEnded),n.player.on("error",n.props.onError),n.player.on("timeupdate",function(e){var t=e.duration,e=e.seconds;n.duration=t,n.currentTime=e}),n.player.on("buffered",function(e){e=e.percent;n.duration&&(n.secondsLoaded=n.duration*e)}),n.player.setLoop(n.props.loop),n.props.muted&&n.player.mute(),setTimeout(function(){n.props.onReady()})}))},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return r.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0,allow:"encrypted-media",referrerPolicy:"no-referrer-when-downgrade"})}}])&&i(t.prototype,e),n&&i(t,n),s}(r.Component);c(e.default=h,"displayName","Kaltura"),c(h,"canPlay",t.canPlay.kaltura)},function(e,P,A){"use strict";!function(e){Object.defineProperty(P,"__esModule",{value:!0}),P.createReactPlayer=void 0;var c=n(A(0)),y=t(A(66)),f=t(A(220)),r=t(A(112)),d=A(113),m=A(22),b=t(A(221));function t(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=s(n);return e=r?(e=s(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}var T=(0,c.lazy)(function(){return Promise.resolve().then(function(){return n(A(222))})}),l="undefined"!=typeof window&&window.document,e=void 0!==e&&e.window&&e.window.document,x=Object.keys(d.propTypes),O=l||e?c.Suspense:function(){return null},v=[];P.createReactPlayer=function(u,l){var e,t=e=function(e){var t=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e);var n,a=k(s);function s(){var r,e=this,t=s;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return g(p(r=a.call.apply(a,[this].concat(i))),"state",{showPreview:!!r.props.light}),g(p(r),"references",{wrapper:function(e){r.wrapper=e},player:function(e){r.player=e}}),g(p(r),"handleClickPreview",function(e){r.setState({showPreview:!1}),r.props.onClickPreview(e)}),g(p(r),"showPreview",function(){r.setState({showPreview:!0})}),g(p(r),"getDuration",function(){return r.player?r.player.getDuration():null}),g(p(r),"getCurrentTime",function(){return r.player?r.player.getCurrentTime():null}),g(p(r),"getSecondsLoaded",function(){return r.player?r.player.getSecondsLoaded():null}),g(p(r),"getInternalPlayer",function(){return r.player?r.player.getInternalPlayer(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"player"):null}),g(p(r),"seekTo",function(e,t){return r.player?void r.player.seekTo(e,t):null}),g(p(r),"handleReady",function(){r.props.onReady(p(r))}),g(p(r),"getActivePlayer",(0,f.default)(function(e){for(var t=0,n=[].concat(v,_(u));t<n.length;t++){var r=n[t];if(r.canPlay(e))return r}return l||null})),g(p(r),"getConfig",(0,f.default)(function(e,t){var n=r.props.config;return y.default.all([d.defaultProps.config,d.defaultProps.config[t]||{},n,n[t]||{}])})),g(p(r),"getAttributes",(0,f.default)(function(e){return(0,m.omit)(r.props,x)})),g(p(r),"renderActivePlayer",function(e){if(!e)return null;var t=r.getActivePlayer(e);if(!t)return null;e=r.getConfig(e,t.key);return c.default.createElement(b.default,h({},r.props,{key:t.key,ref:r.references.player,config:e,activePlayer:t.lazyPlayer||t,onReady:r.handleReady}))}),r}return t=s,(e=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,r.default)(this.props,e)||!(0,r.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,r=t.playIcon,t=t.previewTabIndex;return c.default.createElement(T,{url:e,light:n,playIcon:r,previewTabIndex:t,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,r=e.width,i=e.height,o=e.fallback,e=e.wrapper,a=this.state.showPreview,s=this.getAttributes(t);return c.default.createElement(e,h({ref:this.references.wrapper,style:w(w({},n),{},{width:r,height:i})},s),c.default.createElement(O,{fallback:o},a?this.renderPreview(t):this.renderActivePlayer(t)))}}])&&E(t.prototype,e),n&&E(t,n),s}(c.Component);return g(e,"displayName","ReactPlayer"),g(e,"propTypes",d.propTypes),g(e,"defaultProps",d.defaultProps),g(e,"addCustomPlayer",function(e){v.push(e)}),g(e,"removeCustomPlayers",function(){v.length=0}),g(e,"canPlay",function(e){for(var t=0,n=[].concat(v,_(u));t<n.length;t++)if(n[t].canPlay(e))return!0;return!1}),g(e,"canEnablePIP",function(e){for(var t=0,n=[].concat(v,_(u));t<n.length;t++){var r=n[t];if(r.canEnablePIP&&r.canEnablePIP(e))return!0}return!1}),t}}.call(this,A(19))},function(e,t,n){"use strict";n.r(t);var o=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function u(e,t){if(e.length!==t.length)return!1;for(var n,r,i=0;i<e.length;i++)if(n=e[i],r=t[i],n!==r&&(!o(n)||!o(r)))return!1;return!0}t.default=function(n,r){void 0===r&&(r=u);var i,o,a=[],s=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s&&i===this&&r(e,a)||(o=n.apply(this,e),s=!0,i=this,a=e),o}}},function(c,e,t){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;Object.prototype.hasOwnProperty.call(e,n)&&((o=i?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(t(0)),f=(n=t(112))&&n.__esModule?n:{default:n},n=t(113);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==a(e)&&"function"!=typeof e?u(t):e}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=function(e){var t=s;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e);var n,a=p(s);function s(){var i,e=this,t=s;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l(u(i=a.call.apply(a,[this].concat(r))),"mounted",!1),l(u(i),"isReady",!1),l(u(i),"isPlaying",!1),l(u(i),"isLoading",!0),l(u(i),"loadOnReady",null),l(u(i),"startOnPlay",!0),l(u(i),"seekOnPlay",null),l(u(i),"onDurationCalled",!1),l(u(i),"handlePlayerMount",function(e){i.player=e,i.player.load(i.props.url),i.progress()}),l(u(i),"getInternalPlayer",function(e){return i.player?i.player[e]:null}),l(u(i),"progress",function(){var e,t,n;i.props.url&&i.player&&i.isReady&&(n=i.getCurrentTime()||0,e=i.getSecondsLoaded(),(t=i.getDuration())&&(n={playedSeconds:n,played:n/t},null!==e&&(n.loadedSeconds=e,n.loaded=e/t),n.playedSeconds===i.prevPlayed&&n.loadedSeconds===i.prevLoaded||i.props.onProgress(n),i.prevPlayed=n.playedSeconds,i.prevLoaded=n.loadedSeconds)),i.progressTimeout=setTimeout(i.progress,i.props.progressFrequency||i.props.progressInterval)}),l(u(i),"handleReady",function(){var e,t,n,r;i.mounted&&(i.isReady=!0,i.isLoading=!1,e=(r=i.props).onReady,t=r.playing,n=r.volume,r=r.muted,e(),r||null===n||i.player.setVolume(n),i.loadOnReady?(i.player.load(i.loadOnReady,!0),i.loadOnReady=null):t&&i.player.play(),i.handleDurationCheck())}),l(u(i),"handlePlay",function(){i.isPlaying=!0,i.isLoading=!1;var e=i.props,t=e.onStart,n=e.onPlay,e=e.playbackRate;i.startOnPlay&&(i.player.setPlaybackRate&&1!==e&&i.player.setPlaybackRate(e),t(),i.startOnPlay=!1),n(),i.seekOnPlay&&(i.seekTo(i.seekOnPlay),i.seekOnPlay=null),i.handleDurationCheck()}),l(u(i),"handlePause",function(e){i.isPlaying=!1,i.isLoading||i.props.onPause(e)}),l(u(i),"handleEnded",function(){var e=i.props,t=e.activePlayer,n=e.loop,e=e.onEnded;t.loopOnEnded&&n&&i.seekTo(0),n||(i.isPlaying=!1,e())}),l(u(i),"handleError",function(){var e;i.isLoading=!1,(e=i.props).onError.apply(e,arguments)}),l(u(i),"handleDurationCheck",function(){clearTimeout(i.durationCheckTimeout);var e=i.getDuration();e?i.onDurationCalled||(i.props.onDuration(e),i.onDurationCalled=!0):i.durationCheckTimeout=setTimeout(i.handleDurationCheck,100)}),l(u(i),"handleLoaded",function(){i.isLoading=!1}),i}return t=s,(e=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,a=n.muted,s=n.playbackRate,u=n.pip,l=n.loop,n=n.activePlayer;if(!(0,f.default)(e.url,r)){if(this.isLoading&&!n.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==o&&null!==o&&this.player.setVolume(o),e.muted!==a&&(a?this.player.mute():(this.player.unmute(),null!==o&&setTimeout(function(){return t.player.setVolume(o)}))),e.playbackRate!==s&&this.player.setPlaybackRate&&this.player.setPlaybackRate(s),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;return this.isReady||0===e?(t?"fraction"===t:0<e&&e<1)?(t=this.player.getDuration())?void this.player.seekTo(t*e):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available"):void this.player.seekTo(e):(this.seekOnPlay=e,void setTimeout(function(){n.seekOnPlay=null},5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?r.default.createElement(e,i({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&d(t.prototype,e),n&&d(t,n),s}(r.Component);l(e.default=t,"displayName","Player"),l(t,"propTypes",n.propTypes),l(t,"defaultProps",n.defaultProps)},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},c=(Object.defineProperty(t,"__esModule",{value:!0}),n(0)),f=o(n(291)),d=n(224);t.default=function(n,t,r,i){function o(e,t){try{if(!n||!s.current)throw new Error("The analytics doesn't init for "+e);t()}catch(e){new Error(e.message)}}function a(e){e.includes(null)||fetch(t,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({story:r||i,storyId:i,sessionId:u,interactions:e})})}var s=c.useRef(null),e=c.useState(f.v4()),u=e[0],l=e[1];return{init:function(){s.current=new d.Analytics(n)},load:function(){o("load",function(){s.current.createInteraction(0)})},play:function(){return o("play",function(){})},pause:function(){return o("pause",function(){})},linkClick:function(t){o("linkClicked",function(){var e=s.current.interaction,e={media:e.chapter.id,position:e.chapter.order,type:"linkclick",link_clicked:t};a([e])})},ended:function(){return o("ended",function(){s.current.interaction.interactionSent||(a([{type:"exit",media:s.current.interaction.chapter.id,method:"no"===s.current.interaction.isTapped?"completed":"close"},s.current.completeInteraction()]),l(f.v4()))})},closed:function(e){return o("closed",function(){s.current.interaction.interactionSent||(a([{type:"exit",media:s.current.interaction.chapter.id,method:"close"},s.current.completeInteraction(e)]),l(f.v4()))})},skipChapter:function(e){return o("skipChapter",function(){s.current.interaction.isTapped="yes",s.current.interaction.stopTimer(e)})},backToChapter:function(e){return o("backToChapter",function(){s.current.interaction.stopTimer(e),s.current.interaction.isTapped="back"})},chapterChange:function(e,t){void 0===t&&(t=!1),o("chapterChange",function(){t||(a([s.current.completeInteraction()]),s.current.createInteraction(e))})},newIteration:function(){return o("newIteration",function(){a([s.current.completeInteraction()]),s.current.wasUserInteraction&&(s.current.wasUserInteraction=!1,s.current.createInteraction(0))})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Analytics=void 0;var r=n(225);function i(e){this.interaction=null,this.wasUserInteraction=!1,this.completeCount=1/0,this.chapters=null,this.chapters=e,this.interaction=new r.Interaction(this.chapters[0]),this.completeCount=e.length}i.prototype.createInteraction=function(e,t){this.interaction=new r.Interaction(this.chapters[e],t=void 0===t?"no":t)},i.prototype.completeInteraction=function(e){return this.wasUserInteraction=-1!==["yes","back"].indexOf(this.interaction.isTapped),this.interaction.complete(e)},t.Analytics=i},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t="no"),this.viewTime=null,this.chapter=e,this.isTapped=t,this.interactionSent=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.Interaction=void 0,r.prototype.stopTimer=function(e){e||(this.viewTime=this.chapter.duration);e-=this.chapter.begin;this.viewTime=.95<=e/this.chapter.duration?this.chapter.duration:e},r.prototype.complete=function(e){return this.interactionSent?null:(this.interactionSent=!0,this.viewTime||this.stopTimer(e),{type:"view",duration:this.viewTime||this.chapter.duration,media:this.chapter.id,position:this.chapter.order,tapped:this.isTapped})},t.Interaction=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(75);t.default=function(t){var i=o.useRef(null),e=o.useState(!1),n=e[0],r=e[1];return o.useEffect(function(){return function(){i.current&&i.current.pause()}},[]),o.useLayoutEffect(function(){var e=t.current.getInternalPlayer();e&&(i.current=e,i.current.classList.contains("IIV")&&r(!0))},[t.current]),{isIphoneInlineVideo:n,timeupdate:function(t){var n,e=!i.current.paused,r=i.current.currentTime;return i.current.pause(),new Promise(function(e){(n=a.frameIntervalometer(function(){i.current.currentTime&&r!==i.current.currentTime&&(n.stop(),setTimeout(e,100))})).start(),t()}).then(function(){return e&&i.current.play(),Promise.resolve()}).catch(function(){i.current.pause()})}}}},function(e,t,n){"use strict";function r(){this.listeners=[],this._seconds=0}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoProgress=void 0,Object.defineProperty(r.prototype,"seconds",{get:function(){return this._seconds},enumerable:!1,configurable:!0}),r.prototype.addListener=function(e){this.listeners.push(e)},r.prototype.removeListener=function(e){for(var t=0,n=this.listeners.length;t<n;t++)this.listeners[t]===e&&this.listeners.splice(t,1)},r.prototype.update=function(t){this._seconds=t,this.listeners.forEach(function(e){return e(t)})},t.VideoProgress=r},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),i(n(0))),a=i(n(3)),s=i(n(229)),u=a.default.a(r(["\n  right: 3%;\n  width: 14.1%;\n  max-width: 75px;\n  opacity: 0.6;\n  cursor: pointer;\n  position: absolute;\n  bottom: 2%;\n  z-index: ",";\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"],["\n  right: 3%;\n  width: 14.1%;\n  max-width: 75px;\n  opacity: 0.6;\n  cursor: pointer;\n  position: absolute;\n  bottom: 2%;\n  z-index: ",";\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"]),function(e){return e.theme.zIndex.logo});t.default=function(){return o.default.createElement(u,{href:"https://gobistories.co/",rel:"noopener noreferrer",target:"_blank"},o.default.createElement(s.default,null))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),i(n(0)));t.default=function(e){return o.default.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 187 92"},e),o.default.createElement("path",{fill:"#FFF",d:"M84.095 18.331c-14.56 0-26.36 11.801-26.36 26.362 0 14.559 11.801 26.36 26.36 26.36 14.561 0 26.359-11.801 26.359-26.36 0-14.561-11.799-26.362-26.359-26.362zm0 38.766c-6.842 0-12.404-5.568-12.404-12.404 0-6.84 5.562-12.406 12.404-12.406s12.41 5.565 12.41 12.406c0 6.836-5.568 12.404-12.41 12.404zm57.462-38.766a25.966 25.966 0 0 0-12.35 3.093V6.98c0-3.854-3.182-6.98-7.035-6.98-3.854 0-7.031 3.126-7.031 6.98v37.714c0 14.559 11.808 26.36 26.364 26.36 14.56 0 26.389-11.801 26.389-26.36 0-14.562-11.781-26.363-26.337-26.363zm-12.406 26.528c0-6.696 5.669-12.571 12.405-12.571 6.841 0 12.382 5.565 12.382 12.406 0 6.835-5.59 12.404-12.434 12.404-6.782-.001-12.259-5.474-12.353-12.239zm-76.768-4.424c-2.036-12.537-12.91-22.104-26.022-22.104C11.802 18.331 0 30.132 0 44.693c0 14.559 11.803 26.36 26.361 26.36 3.275 0 6.403-.595 9.294-1.682-.755 1.469-1.659 2.795-2.737 3.926-3.141 3.275-7.66 4.565-13.826 3.933a6.978 6.978 0 0 0-1.424 13.881c1.482.153 2.899.225 4.248.225 10.675 0 17.314-4.438 21.115-8.419 5.819-6.104 9.162-15.12 9.939-26.802.535-8.187-.436-14.815-.474-15.094-.022-.198-.073-.394-.113-.586zM26.36 57.097c-6.834 0-12.402-5.568-12.402-12.404 0-6.84 5.568-12.406 12.402-12.406 6.848 0 12.408 5.565 12.408 12.406.001 6.836-5.56 12.404-12.408 12.404zm153.126-37.978c-3.853 0-6.958 3.126-6.958 6.981v37.683c0 3.853 3.105 6.974 6.958 6.974a6.959 6.959 0 0 0 6.962-6.974V26.1c0-3.855-3.103-6.981-6.962-6.981z"}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(231)));t.default=r.default},function(o,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),c=t(126),f=t(30),d=t(232);e.default=function(){var e=l.useContext(f.videoContext),t=e.story,n=e.ready,r=e.currentChapter,i=e.currentChapterIndex,o=e.videoProgress,e=c.useDebounce(i,100)[0],t=t.chapters,t=void 0===t?[]:t,a=l.useState(0),s=a[0],u=a[1];l.useEffect(function(){function e(e){return u(e)}return o.addListener(e),function(){o.removeListener(e)}},[o]);return n&&l.default.createElement(d.ProgressWrapper,null,l.default.createElement(d.Segments,null,t.map(function(e,t){return l.default.createElement(d.Segment,{key:"segment-"+e.order},t===i&&l.default.createElement(d.Preloader,{transform:"translateX(-"+100*(1-(s-r.begin)/r.duration)+"%)"}))})),l.default.createElement(d.Position,{width:100/t.length+"%",transform:"translateX( "+100*e+"% )"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.Preloader=t.Segments=t.Segment=t.Position=t.ProgressWrapper=void 0,i(n(3)));t.ProgressWrapper=i.default.div(r(["\n  height: 2px;\n  border-radius: 2px;\n  position: absolute !important;\n  z-index: ",";\n  left: 0;\n  top: 0;\n  width: 100%;\n  padding: 4% 2%;\n  box-sizing: border-box;\n  background-image: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0.3) 3%,\n    transparent 100%\n  );\n  position: relative;\n  pointer-events: none;\n"],["\n  height: 2px;\n  border-radius: 2px;\n  position: absolute !important;\n  z-index: ",";\n  left: 0;\n  top: 0;\n  width: 100%;\n  padding: 4% 2%;\n  box-sizing: border-box;\n  background-image: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0.3) 3%,\n    transparent 100%\n  );\n  position: relative;\n  pointer-events: none;\n"]),function(e){return e.theme.zIndex.controls}),t.Position=i.default.div(r(["\n  position: relative;\n  top: -2px;\n  left: 0;\n  padding: 0 2px;\n  box-sizing: border-box;\n  transition: transform 0.3s;\n  will-change: transform;\n\n  width: ",";\n  transform: ",";\n\n  &:after {\n    content: '';\n    display: block;\n    height: 2px;\n    border-radius: 2px;\n    background: rgba(255, 255, 255, 0.4);\n  }\n"],["\n  position: relative;\n  top: -2px;\n  left: 0;\n  padding: 0 2px;\n  box-sizing: border-box;\n  transition: transform 0.3s;\n  will-change: transform;\n\n  width: ",";\n  transform: ",";\n\n  &:after {\n    content: '';\n    display: block;\n    height: 2px;\n    border-radius: 2px;\n    background: rgba(255, 255, 255, 0.4);\n  }\n"]),function(e){return e.width},function(e){return e.transform}),t.Segment=i.default.div(r(["\n  margin: 0 2px;\n  height: 2px;\n  border-radius: 2px;\n  border: 0 solid #000;\n  flex-grow: 1;\n  background: rgba(255, 255, 255, 0.2);\n  overflow: hidden;\n"],["\n  margin: 0 2px;\n  height: 2px;\n  border-radius: 2px;\n  border: 0 solid #000;\n  flex-grow: 1;\n  background: rgba(255, 255, 255, 0.2);\n  overflow: hidden;\n"])),t.Segments=i.default.div(r(["\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  justify-content: space-between;\n"],["\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  justify-content: space-between;\n"])),t.Preloader=i.default.div(r(["\n  height: 2px;\n\n  border-radius: 2px;\n  background: white;\n  transform: translateX(-100%);\n  will-change: transform, opacity;\n  opacity: 1;\n  transition: 'opacity .2s 0.3s linear';\n  transform: ",";\n  transform &:after {\n    content: '';\n    display: block;\n    height: 2px;\n    border-radius: 2px;\n    background: rgba(255, 255, 255, 0.4);\n  }\n"],["\n  height: 2px;\n\n  border-radius: 2px;\n  background: white;\n  transform: translateX(-100%);\n  will-change: transform, opacity;\n  opacity: 1;\n  transition: 'opacity .2s 0.3s linear';\n  transform: ",";\n  transform &:after {\n    content: '';\n    display: block;\n    height: 2px;\n    border-radius: 2px;\n    background: rgba(255, 255, 255, 0.4);\n  }\n"]),function(e){return e.transform})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(234)));t.default=r.default},function(a,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},m=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),b=t(71),E=o(t(235)),S=t(30),k=t(7),T=t(16),x=o(t(238)),O=o(t(240)),P=o(t(241)),A=o(t(242)),C=o(t(243)),R=o(t(116)),w=t(11),_=t(244);e.default=function(){function e(e){e.stopPropagation(),w.isTouchDevice&&"mousedown"===e.type||(g(e.timeStamp),a(!1))}function t(e){if(e.stopPropagation(),!w.isTouchDevice||"mouseup"!==e.type)if((e.timeStamp-p)/1e3<=.7&&u)f();else{if(w.isIos)return e=o,s(!0),a(!0),void(e||setTimeout(function(){s(!1),a(!0)}));a(!0)}}var n=m.useContext(S.videoContext),r=n.ready,i=n.play,o=n.muted,a=n.setPlay,s=n.setMuted,c=n.goToPreviousChapter,f=n.goToNextChapter,d=n.onKeyDown,u=n.hasStartedAtLeastOnce,l=m.useContext(k.optionsContext).playerOptions,h=m.useContext(T.globalContext).setMutedByUser,n=m.useState(0),p=n[0],g=n[1],n=b.useInView({threshold:0}),v=n.ref,y=n.inView;return m.useEffect(function(){r&&!!l.container&&l.checkViewPort&&a(!!y&&u)},[r,y,u,a,l]),E.default(i,a),m.useEffect(function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}},[d]),r&&m.default.createElement(_.ControlsWrapper,{ref:v,prioritizeTouchInput:!u},m.default.createElement(_.NavigationWrapper,null,l.playButton&&m.default.createElement("button",{type:"button",onClick:function(e){a(!i),e.stopPropagation()}},i?m.default.createElement(O.default,null):m.default.createElement(x.default,null)),m.default.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),s(!o),h(!o)}},o&&u?m.default.createElement(A.default,null):m.default.createElement(P.default,null))),i&&m.default.createElement(_.BackButton,{tabIndex:-1,onClick:function(e){e.stopPropagation(),c()},type:"button",isTouchDevice:w.isTouchDevice},m.default.createElement(C.default,null)),!u&&m.default.createElement(_.TapMessage,{onMouseDown:e,onMouseUp:t,onTouchStart:e,onTouchEnd:t},m.default.createElement(R.default,null)),m.default.createElement(_.EventButton,{type:"button",onMouseDown:e,onMouseUp:t,onTouchStart:e,onTouchEnd:t,tabIndex:-1}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),n(0)),o=r(n(236)),a=null;t.default=function(e,t){var n=i.useRef();i.useEffect(function(){return o.default.isSupported()&&(a=o.default.change(function(){o.default.hidden()?(n.current=e,t(!1)):t(n.current)})),function(){"number"==typeof a&&o.default.unbind(a)}},[e,t])}},function(e,t,n){e.exports=n(237)},function(e,t,n){function r(o){return o.every=function(e,t,n){o._time(),n||(n=t,t=null);var r=i+=1;return o._timers[r]={visible:e,hidden:t,callback:n},o._run(r,!1),o.isSupported()&&o._listen(),r},o.stop=function(e){return!!o._timers[e]&&(o._stop(e),delete o._timers[e],!0)},o._timers={},o._time=function(){o._timed||(o._timed=!0,o._wasHidden=o.hidden(),o.change(function(){o._stopRun(),o._wasHidden=o.hidden()}))},o._run=function(e,t){var n,r=o._timers[e];if(o.hidden()){if(null===r.hidden)return;n=r.hidden}else n=r.visible;function i(){r.last=new Date,r.callback.call(a)}t?(e=new Date-r.last)<n?r.delay=setTimeout(function(){r.id=setInterval(i,n),i()},n-e):(r.id=setInterval(i,n),i()):r.id=setInterval(i,n)},o._stop=function(e){e=o._timers[e];clearInterval(e.id),clearTimeout(e.delay),delete e.id,delete e.delay},o._stopRun=function(e){var t=o.hidden(),n=o._wasHidden;if(t&&!n||!t&&n)for(var r in o._timers)o._stop(r),o._run(r,!t)},o}var a,i;a=window,i=-1,e.exports?e.exports=r(n(115)):r(a.Visibility||n(115))},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},e),r=r||o.createElement("circle",{fill:"#333",cx:30,cy:30,r:30}),i=i||o.createElement("path",{d:"M38.4 28l-11.7-6.8c-1.7-1-3.9.2-3.9 2.2V37c0 2 2.2 3.2 3.9 2.2l11.7-6.8c1.7-.9 1.7-3.4 0-4.4z",fill:"#FFF"}))}},function(e,a,t){"use strict";var d=t(9),n=t(4),h=t(13),r=t(6),p=t(63),g=t(61),v=t(49),y=t(27),m=t(50),i=Object.assign,o=Object.defineProperty,b=n([].concat);e.exports=!i||r(function(){if(d&&1!==i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||p(i({},t)).join("")!=r})?function(e,l){for(var t=y(e),n=arguments.length,r=1,i=g.f,c=v.f;r<n;)for(var o,a=m(arguments[r++]),s=i?b(p(a),i(a)):p(a),f=s.length,u=0;u<f;)o=s[u++],d&&!h(c,a,o)||(t[o]=a[o]);return t}:i},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},e),r=r||o.createElement("circle",{fill:"#333",cx:30,cy:30,r:30}),i=i||o.createElement("path",{d:"M35.7 39.1c-1.1 0-2-.9-2-2V22.8c0-1.1.9-2 2-2s2 .9 2 2v14.3c0 1.1-.9 2-2 2zm-11.4 0c-1.1 0-2-.9-2-2V22.8c0-1.1.9-2 2-2s2 .9 2 2v14.3c0 1.1-.9 2-2 2z",fill:"#FFF"}))}},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},e),r=r||o.createElement("circle",{fill:"#333",cx:30,cy:30,r:30}),i=i||o.createElement("path",{d:"M28.9 40.1c-.2.1-.4.1-.6.1-.3 0-.6-.1-.9-.3l-7.3-6.1h-3.9c-.7 0-1.3-.6-1.3-1.3v-5.3c0-.7.6-1.3 1.3-1.3h3.9l7.3-6.1c.4-.3 1-.4 1.4-.2.5.2.8.7.8 1.2l.1 18.1c0 .5-.3 1-.8 1.2zm5-3.7l-.2-.2c-.5-.5-.5-1.2-.1-1.7 1-1.3 1.5-2.9 1.5-4.6 0-1.8-.6-3.5-1.7-4.9-.4-.5-.4-1.3.1-1.8l.2-.2c.3-.3.6-.4 1-.4s.7.2 1 .5c1.6 1.9 2.4 4.3 2.4 6.8 0 2.3-.7 4.5-2.1 6.4-.4.3-.8.5-1.1.5-.4 0-.8-.1-1-.4zm5.5 5h-.1c-.4 0-.7-.1-.9-.4l-.2-.2c-.5-.5-.5-1.3-.1-1.8 2.2-2.6 3.3-5.8 3.3-9.2 0-3.5-1.3-6.8-3.6-9.4-.5-.5-.4-1.3.1-1.8l.2-.2c.3-.3.6-.4 1-.4s.7.2 1 .4c2.8 3.1 4.3 7.2 4.3 11.4 0 4.1-1.4 8-4 11.1-.2.3-.6.5-1 .5z",fill:"#FFF"}))}},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o,a=n(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return a.createElement("svg",s({viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},e),r=r||a.createElement("circle",{fill:"#EF1443",cx:30,cy:30,r:30}),i=i||a.createElement("path",{d:"M29.7 38.9c0 .5-.3 1-.8 1.2-.2.1-.4.1-.6.1-.3 0-.6-.1-.9-.3l-7.3-6h-3.9c-.7 0-1.3-.6-1.3-1.3v-5.3c0-.7.6-1.3 1.3-1.3h3.9l7.3-6c.4-.3 1-.4 1.4-.2.5.2.8.7.8 1.2l.1 17.9z",fill:"#FFF"}),o=o||a.createElement("path",{d:"M34.3 34.3l8.5-8.6m0 8.6l-8.5-8.6",stroke:"#FFF",strokeWidth:3,strokeLinecap:"round"}))}},function(e,t,n){"use strict";n.r(t);n(12);var r,i=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.7 25.8"},e),r=r||i.createElement("path",{fill:"none",stroke:"#fff",strokeWidth:4,d:"M14.3 24.4L2.8 12.9 14.3 1.4"}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationWrapper=t.EventButton=t.BackButton=t.TapMessage=t.ControlsWrapper=void 0,i(n(3)));t.ControlsWrapper=i.default.div(r(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n\n  svg {\n    display: block;\n  }\n\n  z-index: ",";\n"],["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n\n  svg {\n    display: block;\n  }\n\n  z-index: ",";\n"]),function(e){return e.prioritizeTouchInput?e.theme.zIndex.top:"auto"}),t.TapMessage=i.default.div(r(["\n  z-index: ",";\n  cursor: pointer;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 8px;\n  width: 33.3333%;\n  box-shadow: 0 0 10px 3px hsla(0, 0%, 78%, 0.3);\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n"],["\n  z-index: ",";\n  cursor: pointer;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 8px;\n  width: 33.3333%;\n  box-shadow: 0 0 10px 3px hsla(0, 0%, 78%, 0.3);\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n"]),function(e){return e.theme.zIndex.popup}),t.BackButton=i.default.button(r(["\n  /* unset all inherited properties by default */\n  all: unset;\n  z-index: ",";\n  width: 20%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  padding: 0;\n\n  /** \n   * This is an important rule, as it attempts to override any default button styling \n   * on the page we're currently on.\n   */\n  background: none !important;\n\n  border: none;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n\n  &:hover {\n    /** \n    * This is an important rule, as it attempts to override any default button styling \n    * on the page we're currently on.\n    */\n    background: none !important;\n  }\n\n  svg {\n    display: none;\n  }\n\n  ","\n\n  ","\n"],["\n  /* unset all inherited properties by default */\n  all: unset;\n  z-index: ",";\n  width: 20%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  padding: 0;\n\n  /** \n   * This is an important rule, as it attempts to override any default button styling \n   * on the page we're currently on.\n   */\n  background: none !important;\n\n  border: none;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n\n  &:hover {\n    /** \n    * This is an important rule, as it attempts to override any default button styling \n    * on the page we're currently on.\n    */\n    background: none !important;\n  }\n\n  svg {\n    display: none;\n  }\n\n  ","\n\n  ","\n"]),function(e){return e.theme.zIndex.tapBack},function(e){return!e.isTouchDevice&&"\n      opacity: 0;\n      transition: opacity .3s;\n\n      svg {\n        display: block;\n        width: 15px;\n        height: 20px;\n        position: relative;\n        left: 20px;\n      }\n\n      &:before {\n        content: '';\n        position: absolute;\n        pointer-events: none;\n        bottom: 0;\n        top: 0;\n        left: 0;\n        width: calc(100% * 5);\n        background-image: radial-gradient(circle closest-corner at 0 50%,rgba(0,0,0,.9) 15%,transparent);\n      }\n\n      &:hover {\n        opacity: 1;\n      }\n    "},function(e){return e.isTouchDevice&&"\n        &:active {\n        background: rgba(0, 0, 0, 0.3);\n      }\n    "}),t.EventButton=i.default.button(r(["\n  /* Unset all inherited properties by default */\n  all: unset;\n  position: absolute;\n  z-index: ",";\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  /** \n   * This is an important rule, as it attempts to override any default button styling \n   * on the page we're currently on.\n   */\n  background: none !important;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    /** \n     * This is an important rule, as it attempts to override any default button styling \n     * on the page we're currently on.\n     */\n    background: none !important;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"],["\n  /* Unset all inherited properties by default */\n  all: unset;\n  position: absolute;\n  z-index: ",";\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  /** \n   * This is an important rule, as it attempts to override any default button styling \n   * on the page we're currently on.\n   */\n  background: none !important;\n  border: none;\n  padding: 0;\n\n  &:hover {\n    /** \n     * This is an important rule, as it attempts to override any default button styling \n     * on the page we're currently on.\n     */\n    background: none !important;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]),function(e){return e.theme.zIndex.clickNext}),t.NavigationWrapper=i.default.div(r(["\n  position: absolute;\n  bottom: 2%;\n  z-index: ",";\n  left: 0;\n  padding-left: 3%;\n  width: 100%;\n  white-space: nowrap;\n  box-sizing: border-box;\n  text-align: left;\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n\n  button {\n    cursor: pointer;\n    margin-right: 4%;\n    display: inline-block;\n    vertical-align: middle;\n    width: 8%;\n    max-width: 55px;\n    border: 0;\n    background: none;\n    padding: 0;\n\n    svg {\n      width: 100%;\n      height: auto;\n    }\n  }\n\n  /* allow stickers behind the navigation wrapper to be pressed */\n  pointer-events: none;\n  & > * {\n    pointer-events: auto;\n  }\n"],["\n  position: absolute;\n  bottom: 2%;\n  z-index: ",";\n  left: 0;\n  padding-left: 3%;\n  width: 100%;\n  white-space: nowrap;\n  box-sizing: border-box;\n  text-align: left;\n\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n    height: 6%;\n  }\n\n  button {\n    cursor: pointer;\n    margin-right: 4%;\n    display: inline-block;\n    vertical-align: middle;\n    width: 8%;\n    max-width: 55px;\n    border: 0;\n    background: none;\n    padding: 0;\n\n    svg {\n      width: 100%;\n      height: auto;\n    }\n  }\n\n  /* allow stickers behind the navigation wrapper to be pressed */\n  pointer-events: none;\n  & > * {\n    pointer-events: auto;\n  }\n"]),function(e){return e.theme.zIndex.controls})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(246)));t.default=r.default},function(a,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),u=n(t(247)),l=t(30),f=o(t(248)),c=t(117);e.default=function(){var e=s.useContext(l.videoContext),t=e.story,n=e.ready,r=e.play,i=e.loading,e=e.preloader,o=s.useRef(null),a=s.useRef(null),i=!n||i&&r;return s.useEffect(function(){a.current&&(a.current.onload=function(){var e=o.current.clientWidth,t=(u.image(a.current,o.current,20,!1),o.current),n=t.width,t=t.height;o.current.style.width=e+"px",o.current.style.height=e*t/n+"px"})},[a.current]),s.default.createElement(s.default.Fragment,null,s.default.createElement(c.LoaderWrapper,null,s.default.createElement(c.Poster,{opacity:n?0:1},s.default.createElement("canvas",{ref:o})),s.default.createElement(c.Spinner,{opacity:i?1:0},s.default.createElement(f.default,null))),e&&s.default.createElement(c.VideoPoster,null,s.default.createElement("img",{ref:a,alt:"poster",src:t.posterUrl})))}},function(n,e,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.r(e),t.d(e,"BlurStack",function(){return Ee}),t.d(e,"canvasRGB",function(){return c}),t.d(e,"canvasRGBA",function(){return u}),t.d(e,"image",function(){return r}),t.d(e,"imageDataRGB",function(){return f}),t.d(e,"imageDataRGBA",function(){return l});var we=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_e=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function r(e,t,n,r,i,o){var a;(e="string"==typeof e?document.getElementById(e):e)&&"naturalWidth"in e&&(a=e[(i=i?"offset":"natural")+"Width"],i=e[i+"Height"],(t="string"==typeof t?document.getElementById(t):t)&&"getContext"in t&&(o||(t.style.width=a+"px",t.style.height=i+"px"),t.width=a,t.height=i,(o=t.getContext("2d")).clearRect(0,0,a,i),o.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,a,i),isNaN(n)||n<1||(r?u:c)(t,0,0,a,i,n)))}function s(e,t,n,r,i){if(!((e="string"==typeof e?document.getElementById(e):e)&&"object"===o(e)&&"getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");e=e.getContext("2d");try{return e.getImageData(t,n,r,i)}catch(e){throw new Error("unable to access image data: "+e)}}function u(e,t,n,r,i,o){var a;isNaN(o)||o<1||(o|=0,a=l(a=s(e,t,n,r,i),0,0,r,i,o),e.getContext("2d").putImageData(a,t,n))}function l(c,f,d,e,h,p){for(var g,t=c.data,v=2*p+1,y=e-1,m=h-1,n=p+1,b=n*(n+1)/2,w=new Ee,r=w,_=1;_<v;_++)r=r.next=new Ee,_===n&&(g=r);r.next=w;for(var i=null,o=null,E=0,a=0,S=we[p],k=_e[p],T=0;T<h;T++){for(var r=w,x=t[a],O=t[a+1],P=t[a+2],A=t[a+3],C=0;C<n;C++)r.r=x,r.g=O,r.b=P,r.a=A,r=r.next;for(var R=0,L=0,D=0,I=0,M=n*x,F=n*O,j=n*P,N=n*A,U=b*x,B=b*O,z=b*P,V=b*A,G=1;G<n;G++){var W=a+((y<G?y:G)<<2),H=t[W],K=t[W+1],q=t[W+2],W=t[W+3],$=n-G;U+=(r.r=H)*$,B+=(r.g=K)*$,z+=(r.b=q)*$,V+=(r.a=W)*$,R+=H,L+=K,D+=q,I+=W,r=r.next}i=w;for(var o=g,Y=0;Y<e;Y++){var s=V*S>>k;0!=(t[a+3]=s)?(t[a]=(U*S>>k)*(s=255/s),t[a+1]=(B*S>>k)*s,t[a+2]=(z*S>>k)*s):t[a]=t[a+1]=t[a+2]=0,U-=M,B-=F,z-=j,V-=N,M-=i.r,F-=i.g,j-=i.b,N-=i.a;var s=E+((s=Y+p+1)<y?s:y)<<2,i=(U+=R+=i.r=t[s],B+=L+=i.g=t[s+1],z+=D+=i.b=t[s+2],V+=I+=i.a=t[s+3],i.next),s=o,X=s.r,Q=s.g,Z=s.b,s=s.a;M+=X,F+=Q,j+=Z,N+=s,R-=X,L-=Q,D-=Z,I-=s,o=o.next,a+=4}E+=e}for(var J=0;J<e;J++){var ee=t[a=J<<2],te=t[a+1],ne=t[a+2],u=t[a+3],re=n*ee,ie=n*te,oe=n*ne,ae=n*u,se=b*ee,ue=b*te,le=b*ne,ce=b*u;r=w;for(var fe=0;fe<n;fe++)r.r=ee,r.g=te,r.b=ne,r.a=u,r=r.next;for(var de=e,he=0,pe=0,ge=0,ve=0,ye=1;ye<=p;ye++){var a=de+J<<2,me=n-ye;se+=(r.r=ee=t[a])*me,ue+=(r.g=te=t[a+1])*me,le+=(r.b=ne=t[a+2])*me,ce+=(r.a=u=t[a+3])*me,ve+=ee,he+=te,pe+=ne,ge+=u,r=r.next,ye<m&&(de+=e)}a=J,i=w,o=g;for(var be=0;be<h;be++){var l=a<<2;t[l+3]=u=ce*S>>k,0<u?(t[l]=(se*S>>k)*(u=255/u),t[l+1]=(ue*S>>k)*u,t[l+2]=(le*S>>k)*u):t[l]=t[l+1]=t[l+2]=0,se-=re,ue-=ie,le-=oe,ce-=ae,re-=i.r,ie-=i.g,oe-=i.b,ae-=i.a,l=J+((l=be+n)<m?l:m)*e<<2,se+=ve+=i.r=t[l],ue+=he+=i.g=t[l+1],le+=pe+=i.b=t[l+2],ce+=ge+=i.a=t[l+3],i=i.next,re+=ee=o.r,ie+=te=o.g,oe+=ne=o.b,ae+=u=o.a,ve-=ee,he-=te,pe-=ne,ge-=u,o=o.next,a+=e}}return c}function c(e,t,n,r,i,o){var a;isNaN(o)||o<1||(o|=0,a=f(a=s(e,t,n,r,i),0,0,r,i,o),e.getContext("2d").putImageData(a,t,n))}function f(c,f,d,e,h,p){for(var g,t=c.data,v=2*p+1,y=e-1,m=h-1,n=p+1,b=n*(n+1)/2,w=new Ee,r=w,_=1;_<v;_++)r=r.next=new Ee,_===n&&(g=r);r.next=w;for(var i,E,o=null,a=null,S=we[p],k=_e[p],T=0,s=0,x=0;x<h;x++){for(var u=t[s],l=t[s+1],O=t[s+2],P=n*u,A=n*l,C=n*O,R=b*u,L=b*l,D=b*O,r=w,I=0;I<n;I++)r.r=u,r.g=l,r.b=O,r=r.next;for(var M=0,F=0,j=0,N=1;N<n;N++)R+=(r.r=u=t[i=s+((y<N?y:N)<<2)])*(E=n-N),L+=(r.g=l=t[i+1])*E,D+=(r.b=O=t[i+2])*E,M+=u,F+=l,j+=O,r=r.next;for(var o=w,a=g,U=0;U<e;U++)t[s]=R*S>>k,t[s+1]=L*S>>k,t[s+2]=D*S>>k,R-=P,L-=A,D-=C,P-=o.r,A-=o.g,C-=o.b,i=T+((i=U+p+1)<y?i:y)<<2,R+=M+=o.r=t[i],L+=F+=o.g=t[i+1],D+=j+=o.b=t[i+2],o=o.next,P+=u=a.r,A+=l=a.g,C+=O=a.b,M-=u,F-=l,j-=O,a=a.next,s+=4;T+=e}for(var B=0;B<e;B++){var z=t[s=B<<2],V=t[s+1],G=t[s+2],W=n*z,H=n*V,K=n*G,q=b*z,$=b*V,Y=b*G;r=w;for(var X=0;X<n;X++)r.r=z,r.g=V,r.b=G,r=r.next;for(var Q=0,Z=0,J=0,ee=1,te=e;ee<=p;ee++)q+=(r.r=z=t[s=te+B<<2])*(E=n-ee),$+=(r.g=V=t[s+1])*E,Y+=(r.b=G=t[s+2])*E,Q+=z,Z+=V,J+=G,r=r.next,ee<m&&(te+=e);s=B,o=w,a=g;for(var ne=0;ne<h;ne++)t[i=s<<2]=q*S>>k,t[i+1]=$*S>>k,t[i+2]=Y*S>>k,q-=W,$-=H,Y-=K,W-=o.r,H-=o.g,K-=o.b,i=B+((i=ne+n)<m?i:m)*e<<2,q+=Q+=o.r=t[i],$+=Z+=o.g=t[i+1],Y+=J+=o.b=t[i+2],o=o.next,W+=z=a.r,H+=V=a.g,K+=G=a.b,Q-=z,Z-=V,J-=G,a=a.next,s+=e}return c}var Ee=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},e),r=r||o.createElement("defs",null,o.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"tail-spin_svg__a"},o.createElement("stop",{stopColor:"#fff",stopOpacity:0,offset:"0%"}),o.createElement("stop",{stopColor:"#fff",stopOpacity:.631,offset:"63.146%"}),o.createElement("stop",{stopColor:"#fff",offset:"100%"}))),i=i||o.createElement("g",{fill:"none",transform:"translate(1 1)"},o.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#tail-spin_svg__a)",strokeWidth:2}),o.createElement("circle",{fill:"#fff",cx:36,cy:18,r:1})))}},function(c,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),a=t(30),s=t(250),u=t(254),l=t(256),f=t(16);e.default=function(e){var n=e.linkClicked,e=o.useContext(a.videoContext),t=e.currentChapter,r=e.hasStartedAtLeastOnce,e=o.useContext(f.globalContext).stories,i=t||e[0].chapters[0],t=i.stickers.map(function(e,t){return o.default.createElement("div",{key:"sticker-"+i.order+"-"+t},"LINK"===e.type&&o.default.createElement(s.LinkSticker,{linkClicked:n,clickable:r,sticker:e}),"TEXT"===e.type&&o.default.createElement(u.TextSticker,{sticker:e}),"DUMB"===e.type&&o.default.createElement(l.ImageSticker,{sticker:e}))});return o.default.createElement("div",null,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(251);Object.defineProperty(t,"LinkSticker",{enumerable:!0,get:function(){return r.LinkSticker}})},function(c,e,t){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(e,"__esModule",{value:!0}),e.LinkSticker=void 0,o(t(0))),o=a(t(3)),u=a(t(252)),l=a(t(253)),f=o.default.div(n(["\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 100%;\n  height: 100%;\n  will-change: transform;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  pointer-events: none;\n  isolation: isolate;\n\n  transform: ",";\n\n  z-index: ",";\n\n  > div {\n    position: relative;\n    width: 100%;\n    height: 56.25%;\n  }\n"],["\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 100%;\n  height: 100%;\n  will-change: transform;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  pointer-events: none;\n  isolation: isolate;\n\n  transform: ",";\n\n  z-index: ",";\n\n  > div {\n    position: relative;\n    width: 100%;\n    height: 56.25%;\n  }\n"]),function(e){return"translate("+100*e.sticker.x+"%, "+100*e.sticker.y+"%) scale("+e.sticker.scale+") rotate("+e.sticker.rotation+"deg)"},function(e){return""+(350+e.sticker.order)}),d=o.default.div(n(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  box-shadow: 0 7px 12px -5px rgb(0 0 0 / 60%);\n  shape-rendering: geometricPrecision;\n\n  svg {\n    color: black;\n    width: 50%;\n    height: 50%;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  box-shadow: 0 7px 12px -5px rgb(0 0 0 / 60%);\n  shape-rendering: geometricPrecision;\n\n  svg {\n    color: black;\n    width: 50%;\n    height: 50%;\n  }\n"])),h=o.default.a(n(["\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.733);\n\n  pointer-events: ",";\n  cursor: pointer;\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    object-fit: cover;\n  }\n\n  ","\n"],["\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.733);\n\n  pointer-events: ",";\n  cursor: pointer;\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n    object-fit: cover;\n  }\n\n  ","\n"]),function(e){return e.clickable?"all":"none"},function(e){return e.loaded&&"\n    img {\n    opacity: 1;\n    box-shadow: 0 7px 12px -5px rgba(0, 0, 0, 0.3);\n  }\n  "}),p=o.default.div(n(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  right: 0;\n  bottom: 0;\n  width: 25%;\n  height: 25%;\n  border-radius: 50%;\n  background-color: #2ba6fc;\n"],["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  right: 0;\n  bottom: 0;\n  width: 25%;\n  height: 25%;\n  border-radius: 50%;\n  background-color: #2ba6fc;\n"]));e.LinkSticker=function(e){var t=e.sticker,n=e.linkClicked,e=e.clickable,r=s.useState(!1),i=r[0],o=r[1];return s.default.createElement(f,{sticker:t},s.default.createElement("div",null,s.default.createElement(h,{rel:"noopener noreferrer",target:"_blank",clickable:e,onClick:function(e){e.stopPropagation(),n(t.linkUrl)},loaded:i},t.imageUrl&&s.default.createElement("img",{onLoad:function(){o(!0)},src:t.imageUrl,alt:"Represents the target website of the link URL"}),!t.imageUrl&&s.default.createElement(d,null,s.default.createElement(l.default,null)),s.default.createElement(p,null,s.default.createElement(u.default,{width:"100%",height:"100%"})))))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),i(n(0)));t.default=function(e){return o.default.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",viewBox:"0 0 16 16"},e),o.default.createElement("path",{fill:"#fff",d:"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"}))}},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"LinkIcon_svg__bi LinkIcon_svg__bi-link-45deg",viewBox:"0 0 16 16"},e),r=r||o.createElement("path",{shapeRendering:"geometricPrecision",d:"M4.715 6.542L3.343 7.914a3 3 0 104.243 4.243l1.828-1.829A3 3 0 008.586 5.5L8 6.086a1.002 1.002 0 00-.154.199 2 2 0 01.861 3.337L6.88 11.45a2 2 0 11-2.83-2.83l.793-.792a4.018 4.018 0 01-.128-1.287z"}),i=i||o.createElement("path",{shapeRendering:"geometricPrecision",d:"M6.586 4.672A3 3 0 007.414 9.5l.775-.776a2 2 0 01-.896-3.346L9.12 3.55a2 2 0 112.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 10-4.243-4.243L6.586 4.672z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(255);Object.defineProperty(t,"TextSticker",{enumerable:!0,get:function(){return r.TextSticker}})},function(c,e,t){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(e,"__esModule",{value:!0}),e.TextSticker=void 0,o(t(0))),o=a(t(3)),u=t(108),f=t(46),d=t(11),h=o.default.span(n(["\n  position: absolute;\n  top: ",";\n  left: 1.5%;\n  right: 1.5%;\n  display: inline;\n  padding: 0.6em;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  font-family: 'Open Sans', sans-serif;\n  text-align: left;\n  border-radius: ",";\n  font-size: ",";\n  overflow: hidden;\n  white-space: pre-wrap;\n  word-break: break-all;\n"],["\n  position: absolute;\n  top: ",";\n  left: 1.5%;\n  right: 1.5%;\n  display: inline;\n  padding: 0.6em;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  font-family: 'Open Sans', sans-serif;\n  text-align: left;\n  border-radius: ",";\n  font-size: ",";\n  overflow: hidden;\n  white-space: pre-wrap;\n  word-break: break-all;\n"]),function(e){return 100*e.y+"%"},function(e){return 10*e.scale+"px"},function(e){return 22*e.scale+"px"}),p=o.default.div(n(["\n  position: absolute;\n  top: ",";\n  left: 1.5%;\n  right: 1.5%;\n  isolation: isolate;\n  color: ",";\n  font-family: '","', sans-serif;\n  font-size: ","px;\n  line-height: ","px;\n  font-weight: ",";\n  text-decoration: ",";\n  font-style: ",";\n  text-align: left;\n  text-align: ",";\n  padding: ","px;\n  z-index: ",";\n"],["\n  position: absolute;\n  top: ",";\n  left: 1.5%;\n  right: 1.5%;\n  isolation: isolate;\n  color: ",";\n  font-family: '","', sans-serif;\n  font-size: ","px;\n  line-height: ","px;\n  font-weight: ",";\n  text-decoration: ",";\n  font-style: ",";\n  text-align: left;\n  text-align: ",";\n  padding: ","px;\n  z-index: ",";\n"]),function(e){return 100*e.y+"%"},function(e){return e.color},function(e){return e.fontFamily},function(e){return""+e.fontSize*e.scale},function(e){return""+1.25*e.fontSize*e.scale},function(e){return e.bold?"bold":"normal"},function(e){return e.underline?"underline":"none"},function(e){return e.italic?"italic":"normal"},function(e){return e.align},function(e){return""+12.5*e.scale},function(e){return""+(100+e.order)}),l=o.default.span(n(["\n  display: inline;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-box-decoration-break: clone;\n  box-decoration-break: clone;\n  padding: 0 ","px;\n"],["\n  display: inline;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-box-decoration-break: clone;\n  box-decoration-break: clone;\n  padding: 0 ","px;\n"]),function(e){return""+e.inlinePadding}),g=o.default.div(n(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  background-color: ",";\n  border-radius: ","px;\n  opacity: 0.7;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  background-color: ",";\n  border-radius: ","px;\n  opacity: 0.7;\n"]),function(e){return e.color},function(e){return""+10*e.scale}),v=o.default.div(n(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  padding: ","px;\n  opacity: ",";\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  padding: ","px;\n  opacity: ",";\n"]),function(e){return""+12.5*e.scale},function(e){return e.opaque?"1":"0.7"}),y=o.default.span(n(["\n  display: inline;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-box-decoration-break: clone;\n  box-decoration-break: clone;\n  padding: 0 ","px;\n  color: ",";\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: ","px;\n"],["\n  display: inline;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-box-decoration-break: clone;\n  box-decoration-break: clone;\n  padding: 0 ","px;\n  color: ",";\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: ","px;\n"]),function(e){return""+e.fontSize/8*e.scale},function(e){return e.color},function(e){return e.color},function(e){return"-1px 0 0 0 "+e.color+",\n    1px 0 0 "+5*e.scale+"px "+e.color+",\n    0 0 0 "+10*e.scale+"px "+e.color},function(e){return""+e.fontSize/15*e.scale}),m=o.default.div(n(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  padding: ","px;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  padding: ","px;\n"]),function(e){return""+12.5*e.scale}),b=o.default.span(n(["\n  display: inline;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-box-decoration-break: clone;\n  box-decoration-break: clone;\n  padding: 0 ","px;\n  color: ",";\n  filter: url(",");\n"],["\n  display: inline;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-box-decoration-break: clone;\n  box-decoration-break: clone;\n  padding: 0 ","px;\n  color: ",";\n  filter: url(",");\n"]),function(e){return""+e.fontSize/8*e.scale},function(e){return e.color},function(e){return e.filterUrl});e.TextSticker=function(e){var e=e.sticker,t=s.useContext(u.sizeContext),n=1;if(t&&(n=t.width/612),d.isIE())return s.default.createElement(h,{scale:n,y:e.y},s.default.createElement(l,{inlinePadding:0},e.text));var r=f.fontFamilyNames[e.textFontFamily],i=-1!==["border","fill"].indexOf(e.textContrastMode)?e.textSecondaryColor:e.textPrimaryColor,o="background"===e.textContrastMode?0:e.textFontSize/8*n;return s.default.createElement(p,{fontFamily:r,fontSize:e.textFontSize,color:i,bold:e.textBold,italic:e.textItalic,underline:e.textUnderline,align:e.textAlign,order:e.order,y:e.y,scale:n},t&&s.default.createElement(l,{inlinePadding:o},e.text),"background"===e.textContrastMode&&s.default.createElement(g,{color:e.textSecondaryColor,scale:n}),"fill"===e.textContrastMode&&s.default.createElement(v,{scale:n,opaque:e.textFillOpaque},s.default.createElement(y,{color:e.textPrimaryColor,scale:n,fontSize:e.textFontSize},e.text)),"border"===e.textContrastMode&&s.default.createElement(m,{scale:n},s.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},s.default.createElement("filter",{id:"gobi-text-border-filter-"+n},s.default.createElement("feMorphology",{operator:"dilate",radius:""+5*n}))),s.default.createElement(b,{color:e.textPrimaryColor,scale:n,fontSize:e.textFontSize,filterUrl:"#gobi-text-border-filter-"+n},e.text)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(257);Object.defineProperty(t,"ImageSticker",{enumerable:!0,get:function(){return r.ImageSticker}})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.ImageSticker=void 0,i(n(0))),a=i(n(3)).default.div(r(["\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 100%;\n  height: 100%;\n  will-change: transform;\n\n  transform: ",";\n\n  z-index: ",";\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"],["\n  position: absolute;\n  top: -50%;\n  left: -50%;\n  width: 100%;\n  height: 100%;\n  will-change: transform;\n\n  transform: ",";\n\n  z-index: ",";\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]),function(e){return"translate("+100*e.sticker.x+"%, "+100*e.sticker.y+"%) scale("+e.sticker.scale+") rotate("+e.sticker.rotation+"deg)"},function(e){return""+(100+e.sticker.order)});t.ImageSticker=function(e){e=e.sticker;return o.default.createElement(a,{sticker:e},o.default.createElement("img",{src:e.imageUrl,alt:""}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(259)));t.default=r.default},function(e,t,n){"use strict";var r,i,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),a(n(260))),a=a(n(111));function u(){var e=null!==i&&i.apply(this,arguments)||this;return e.isIphoneIIV=!1,e}i=a.default,o(u,i),u.prototype.componentDidMount=function(){var e=this;setTimeout(function(){s.default(e.player,{iPad:!0}),e.player.classList.contains("IIV")&&(e.isIphoneIIV=!0)},0),i.prototype.componentDidMount.call(this)},u.prototype.play=function(){var n=this,r=this.player.currentTime,e=this.isIphoneIIV?new Promise(function(e,t){try{0===r&&(n.player.play(),n.player.pause()),setTimeout(function(){n.player.play(),0===r&&(n.player.currentTime=.1),e()},100)}catch(e){t(e)}}):this.player.play();e&&e.catch(this.props.onError)},u.canPlay=function(){return!0},t.default=u},function(t,e,n){"use strict";n.r(e);var h=n(75);
/*! npm.im/iphone-inline-video 2.2.2 */function i(t,n,r){function e(e){r&&!r(t,n)||e.stopImmediatePropagation()}return t.addEventListener(n,e),1}function o(e,t,n,r){function i(e){n[t]=e}r&&i(e[t]),Object.defineProperty(e,t,{get:function(){return n[t]},set:i})}function a(e,t,n){n.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function s(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}var p="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,u="bfred-it:iphone-inline-video",l="bfred-it:iphone-inline-video:event",c="bfred-it:iphone-inline-video:nativeplay",g="bfred-it:iphone-inline-video:nativepause";var r,v=[],y=0;function f(e,t,n){(r||0)+200<Date.now()&&(e[l]=!0,r=Date.now()),n||(e.currentTime=t),v[++y%3]=100*t|0}function d(e){return e.driver.currentTime>=e.video.duration}function m(){var e=this,t=e[u];e.webkitDisplayingFullscreen?e[c]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(f(e,0,!0),t.driver.src=e.src),e.paused&&(t.paused=!1,0===e.buffered.length&&e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(s(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&s(e,"playing"))))}function b(e){var t=this[u];t.driver.pause(),t.updater.stop(),this.webkitDisplayingFullscreen&&this[g](),t.paused&&!e||(t.paused=!0,t.hasAudio||s(this,"pause"),this.ended&&!this.webkitDisplayingFullscreen&&(this[l]=!0,s(this,"ended")))}function w(t,n){var e,r,i={};(t[u]=i).paused=!0,i.hasAudio=n,i.video=t,i.updater=Object(h.frameIntervalometer)(function(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&d(t)&&(t.driver.currentTime=0)),f(t.video,t.driver.currentTime)):t.video.networkState===t.video.NETWORK_IDLE&&0===t.video.buffered.length&&t.video.load(),t.video.ended&&(delete t.video[l],t.video.pause(!0))}.bind(i)),n?i.driver=(e=t,r=new Audio,a(e,"play",r),a(e,"playing",r),a(e,"pause",r),r.crossOrigin=e.crossOrigin,r.src=e.src||e.currentSrc||"data:",r):(t.addEventListener("canplay",function(){t.paused||s(t,"playing")}),i.driver={src:t.src||t.currentSrc||"data:",muted:!0,paused:!0,pause:function(){i.driver.paused=!0},play:function(){i.driver.paused=!1,d(i)&&f(t,0)},get ended(){return d(i)}}),t.addEventListener("emptied",function(){var e=!i.driver.src||"data:"===i.driver.src;i.driver.src&&i.driver.src!==t.src&&(f(t,0,!0),i.driver.src=t.src,e||!n&&t.autoplay?i.driver.play():i.updater.stop())},!1),t.addEventListener("webkitbeginfullscreen",function(){t.paused?n&&0===i.driver.buffered.length&&i.driver.load():(t.pause(),t[c]())}),n&&(t.addEventListener("webkitendfullscreen",function(){i.driver.currentTime=t.currentTime}),t.addEventListener("seeking",function(){v.indexOf(100*t.currentTime|0)<0&&(i.driver.currentTime=t.currentTime)}))}function _(e){var t=e[l];return delete e[l],!e.webkitDisplayingFullscreen&&!t}e.default=function(t,e){if(void 0===e&&(e={}),!t[u]){if(!e.everywhere){if(!p)return;if(!(e.iPad||e.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}t.pause();var n,r,e=t.autoplay;t.autoplay=!1,w(t,!t.muted),r=(n=t)[u],n[c]=n.play,n[g]=n.pause,n.play=m,n.pause=b,o(n,"paused",r.driver),o(n,"muted",r.driver,!0),o(n,"playbackRate",r.driver,!0),o(n,"ended",r.driver),o(n,"loop",r.driver,!0),i(n,"seeking",function(e){return!e.webkitDisplayingFullscreen}),i(n,"seeked",function(e){return!e.webkitDisplayingFullscreen}),i(n,"timeupdate",_),i(n,"ended",_),t.classList.add("IIV"),t.muted&&e&&(t.play(),t.addEventListener("playing",function e(){t.autoplay=!0,t.removeEventListener("playing",e)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}},function(e,t,n){"use strict";n.r(t);n(12);var r,i,o=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"},e),r=r||o.createElement("circle",{fill:"#fff",cx:30,cy:30,r:30}),i=i||o.createElement("path",{d:"M23.4 23.1l13.7 13.7m0-13.7L23.4 36.8",stroke:"#333",strokeLinecap:"round",strokeWidth:3}))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.CloseButton=t.Container=t.PopupBackground=t.Content=t.Popup=void 0,i(n(3)));t.Popup=i.default.div(r(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: ","; /* The popup could be behind customer site's ads etc.*/\n  height: 100%;\n  width: 100%;\n  \n  overflow: hidden;\n  text-align: center;\n  box-sizing: border-box;\n\n  ","\n  ","\n\n  background-color: ",";\n    \n  @keyframes popupOpen {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n@keyframes popupClose {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: ","; /* The popup could be behind customer site's ads etc.*/\n  height: 100%;\n  width: 100%;\n  \n  overflow: hidden;\n  text-align: center;\n  box-sizing: border-box;\n\n  ","\n  ","\n\n  background-color: ",";\n    \n  @keyframes popupOpen {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n@keyframes popupClose {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n"]),function(e){return e.zIndex},function(e){return e.isOpen&&"animation: popupOpen 0.6s;"},function(e){return e.isClose&&"animation: popupClose 0.6s;"},function(e){return e.noShade?"none":"rgba(52, 59, 70, 0.7)"}),t.Content=i.default.div(r(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  box-sizing: border-box;\n\n  ","\n  ","\n\n  @keyframes contentOpen {\n    0% {\n      transform: scale(0.3);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes contentClose {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0.3);\n    }\n  }\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  box-sizing: border-box;\n\n  ","\n  ","\n\n  @keyframes contentOpen {\n    0% {\n      transform: scale(0.3);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes contentClose {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0.3);\n    }\n  }\n"]),function(e){return e.isOpen&&"animation: contentOpen 0.3s;"},function(e){return e.isClose&&"animation: contentClose 0.3s;"}),t.PopupBackground=i.default.div(r(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  cursor: pointer;\n"],["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  cursor: pointer;\n"])),t.Container=i.default.div(r(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])),t.CloseButton=i.default.button(r(["\n  bottom: 2%;\n  transform: translateX(-50%);\n  left: 50%;\n  position: absolute;\n  width: 11%;\n  max-width: 55px;\n  max-height: 55px;\n  padding: 0;\n  border: 0;\n  border-radius: 50%;\n  opacity: 0.6;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: ",";\n\n  &:before {\n    content: '';\n    padding-top: 100%;\n    float: left;\n  }\n\n  &:focus-visible {\n    outline: solid;\n    opacity: 1;\n  }\n\n  svg {\n    height: 100%;\n    width: 100%;\n    left: 0;\n    right: 0;\n    position: absolute;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"],["\n  bottom: 2%;\n  transform: translateX(-50%);\n  left: 50%;\n  position: absolute;\n  width: 11%;\n  max-width: 55px;\n  max-height: 55px;\n  padding: 0;\n  border: 0;\n  border-radius: 50%;\n  opacity: 0.6;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: ",";\n\n  &:before {\n    content: '';\n    padding-top: 100%;\n    float: left;\n  }\n\n  &:focus-visible {\n    outline: solid;\n    opacity: 1;\n  }\n\n  svg {\n    height: 100%;\n    width: 100%;\n    left: 0;\n    right: 0;\n    position: absolute;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"]),function(e){return e.theme.zIndex.controls})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(264)));t.default=r.default},function(c,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),s=t(29),u=o(t(68)),f=t(7),l=t(119),d=t(11);e.default=function(){var e=a.useContext(f.optionsContext),t=e.playerOptions;return e.disableShadowDom||!d.shadowDomSupported()?s.createPortal(a.default.createElement(l.StandalonePlayer,null),document.querySelector(t.container)):s.createPortal(a.default.createElement(u.default.div,null,a.default.createElement(l.StandalonePlayer,null)),document.querySelector(t.container))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.Stories=t.StoriesBlock=t.Wrapper=void 0,i(n(3)));t.Wrapper=i.default.div(r(["\n  overflow-x: auto;\n  font-size: 0;\n  letter-spacing: 0;\n  text-align: ",";\n  font-family: 'Open Sans', sans-serif;\n"],["\n  overflow-x: auto;\n  font-size: 0;\n  letter-spacing: 0;\n  text-align: ",";\n  font-family: 'Open Sans', sans-serif;\n"]),function(e){return e.textAlign}),t.StoriesBlock=i.default.div(r(["\n  display: inline-block;\n  box-sizing: border-box;\n"],["\n  display: inline-block;\n  box-sizing: border-box;\n"])),t.Stories=i.default.div(r(["\n  transition: opacity 0.3s;\n\n  ","\n\n  ","\n"],["\n  transition: opacity 0.3s;\n\n  ","\n\n  ","\n"]),function(e){return e.noWrap&&"\n    white-space: nowrap;\n  "},function(e){return e.fade&&"\n    opacity: 0.15;\n  "})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(267)));t.default=r.default},function(a,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},C=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),R=t(71),I=o(t(268)),M=o(t(276)),F=t(7),L=t(16),j=o(t(124)),N=o(t(284)),U=o(t(285)),D=t(74),B=o(t(125));e.default=function(e){function t(){S.open&&!1===S.open(P[c].viewKey)||(A(c),O&&v(!0))}var n=e.story,c=e.index,e=C.useState(!1),f=e[0],d=e[1],e=C.useState(!1),h=e[0],p=e[1],e=C.useRef(null),r=C.useContext(L.globalContext),g=r.popupOpen,v=r.setPopupOpen,r=C.useContext(F.optionsContext),y=r.animatedBubble,m=r.bubbleSize,b=r.showPlayIcon,i=r.playIconUrl,w=r.wrap,_=r.color,o=r.playerOptions,E=r.hideTitle,S=r.on,k=r.titleFontSize,T=r.titleFontColor,x=r.titleFontFamily,r=r.titleFontWeight,O=!o.container,a=C.useContext(L.globalContext),P=a.stories,s=a.currentStoryIndex,A=a.setStoryIndex,a=P[s],s=U.default("gobi_"+n.viewKey,!1),u=s[0],s=(s[1],s[2]),a=!O&&a.viewKey===n.viewKey,l=u.watchedChapterHashes&&u.watchedChapterHashes.length-1,u=(void 0===l&&(l=u.lastChunkIndex),!u||l<n.chapters.length-1||!o.savePosition),l=(C.useEffect(s,[g,s]),parseInt(m,10)),o=1.2*l+"px",g=k||I.default(M.default(l/10),12,36)+"px";return C.default.createElement(D.StoryContainer,{onKeyUp:function(e){"Enter"===e.key&&t()},tabIndex:0,role:"button"},C.default.createElement(D.Container,{ref:e,role:"button",onClick:t,tabIndex:-1,noWrap:w,size:l,opacity:u||a?1:.7},C.default.createElement(B.default,{animatedBubble:y,story:n}),u&&C.default.createElement(R.InView,{as:"div",threshold:1,rootMargin:"10px",onChange:function(e){e&&!h&&d(e)}},C.default.createElement(D.Gloria,{active:f,stroke:_,onAnimationEnd:function(){d(!1),p(!0)},strokeDashoffset:358*(e.current?e.current.offsetWidth:0)/120,strokeDasharray:358*(e.current?e.current.offsetWidth:0)/120},C.default.createElement(j.default,null))),i&&b&&C.default.createElement(D.SvgPlayWrapper,null,C.default.createElement("img",{src:i,alt:"Play story"})),b&&!i&&C.default.createElement(D.SvgPlayWrapper,null,C.default.createElement(N.default,null))),!E&&C.default.createElement(D.Title,{textWidth:o,fontSize:g,fontColor:T,fontFamily:x,fontWeight:r,className:"_12pPY"},n.title))}},function(e,t,n){var r=n(269),i=n(72);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=t<=e?e:t)),e}},function(e,t,n){var r=n(271),i=/^\s+/;e.exports=function(e){return e&&e.slice(0,r(e)+1).replace(i,"")}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(t,e,n){!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}.call(this,n(19))},function(e,t,n){var n=n(73),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{var r=!(e[s]=void 0)}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){n=n(277)("round");e.exports=n},function(e,t,n){var r=n(122),o=n(278),a=n(72),s=n(280),u=r.isFinite,l=Math.min;e.exports=function(e){var i=Math[e];return function(e,t){var n,r;return e=a(e),(t=null==t?0:l(o(t),292))&&u(e)?(r=(s(e)+"e").split("e"),n=i(r[0]+"e"+(+r[1]+t)),+((r=(s(n)+"e").split("e"))[0]+"e"+(+r[1]-t))):i(e)}}},function(e,t,n){var r=n(279);e.exports=function(e){var t=(e=r(e))%1;return e==e?t?e-t:e:0}},function(e,t,n){var r=n(72);e.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},function(e,t,n){var r=n(281);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(73),i=n(282),o=n(283),a=n(120),n=r?r.prototype:void 0,s=n?n.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.r(t);n(12);var r,i=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return i.createElement("svg",o({viewBox:"0 0 27 27",xmlns:"http://www.w3.org/2000/svg"},e),r=r||i.createElement("path",{d:"M13.5 0C6.044 0 0 6.044 0 13.5S6.044 27 13.5 27 27 20.956 27 13.5 20.956 0 13.5 0zm5.452 15.058l-7.594 4.413c-1.103.649-2.531-.13-2.531-1.428V9.216c0-1.298 1.428-2.077 2.531-1.428l7.594 4.413c1.103.65 1.103 2.273 0 2.857z",fill:"#FFF"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.default=function(n,t){function e(){try{var e=window.localStorage.getItem(n);return null!=e?JSON.parse(e):t}catch(e){return t}}var r=a.useState(e),i=r[0],o=r[1];return[i,function(e){try{var t=e instanceof Function?e(i):e;o(t),n&&window.localStorage.setItem(n,JSON.stringify(t))}catch(e){}},function(){o(e())}]}},function(a,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},p=(Object.defineProperty(e,"__esModule",{value:!0}),n(t(0))),g=t(71),v=t(107),m=t(7),b=o(t(124)),w=o(t(125)),y=t(74);e.default=function(e){var e=e.story,t=p.useState(!0),n=t[0],r=t[1],t=p.useRef(null),i=p.useContext(m.optionsContext),o=i.bubbleSize,a=i.wrap,s=i.hideTitle,u=i.titleFontSize,l=i.animatedBubble,c=i.titleFontColor,f=i.titleFontFamily,d=i.titleFontWeight,i=i.color,o=parseInt(o,10),h=1.2*o+"px",u=u||v.clamp(v.round(o/10),12,36)+"px";return p.default.createElement(y.StoryContainer,null,p.default.createElement(y.Container,{ref:t,size:o,noWrap:a,opacity:1},p.default.createElement(w.default,{animatedBubble:l}),p.default.createElement(g.InView,{as:"div",threshold:1,rootMargin:"10px",onAnimationEnd:function(){r(!1)}},p.default.createElement(y.Gloria,{active:n,stroke:i,strokeDashoffset:358*(t.current?t.current.offsetWidth:0)/120,strokeDasharray:358*(t.current?t.current.offsetWidth:0)/120},p.default.createElement(b.default,null)))),!s&&p.default.createElement(y.Title,{textWidth:h,fontSize:u,fontColor:c,fontFamily:f,fontWeight:d,className:"_12pPY"},e.viewKey))}},function(r,e,t){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(e,"__esModule",{value:!0}),e.discoverBubbles=void 0,n(t(288))),h=t(11);function l(e,t){var n,r="gobi"+(t.charAt(0).toUpperCase()+t.slice(1));return e.dataset[r]||(r=e.classList,n=t,r.toString().split(" ").map(function(e){e=e.match(new RegExp("^gobi-"+n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()+"-(.*)$"));return e?e[1]:null}).filter(function(e){return!!e}).pop())}var p={color:"string",verticalOrientation:"boolean",animatedBubble:"boolean",bubbleSize:"string",showPlayIcon:"boolean",playIconUrl:"string",hideTitle:"boolean",wrap:"boolean",isFullHeightMobile:"boolean",align:"string",autoSegue:"boolean",titleFontSize:"string",titleFontColor:"string",titleFontFamily:"string",titleFontWeight:"string",disableShadowDom:"boolean",zIndex:"number",noShade:"boolean"},g={autoStart:"boolean",autoStartWithSound:"boolean",savePosition:"boolean",loop:"boolean",width:"number",height:"number",roundedCorners:"boolean",shadow:"boolean",checkViewPort:"boolean",playButton:"boolean",useMediaProxy:"boolean"};function c(r,i){var o={};return Object.keys(i).forEach(function(e){var t,n=l(r,e);null!=n&&("string"!==i[e]?"boolean"!==i[e]?"number"===i[e]&&(t=parseInt(n,10),u.default(t)||(o[e]=t)):o[e]=!!n&&"false"!==n:o[e]=n)}),o}function f(e,t){var n,r,i,o;e._gobiBubblesMounted||(e._gobiBubblesMounted=!0,n=c(e,p),r=c(e,g),i=[],(o=l(e,"Story"))&&i.push(o),(o=l(e,"Stories"))&&(i=s(i,o.trim().replace(/\W/g,"-").split("-"))),t(a(a({container:e,stories:i.map(function(e){return{id:e}})},n),{playerOptions:r})))}var d=null;e.discoverBubbles=function(i,o,e){void 0===o&&(o=0);var t,n=[],e=((e=void 0===e?"":e)&&!h.isIE()&&n.push.apply(n,(e=e,e=document.querySelectorAll(e),t=[],e.forEach(function(e){e=null===(e=e.shadowRoot)||void 0===e?void 0:e.querySelectorAll(".gobi-stories");e&&e.forEach(function(e){t.push(e)})}),t)),document.querySelectorAll(".gobi-stories"));n.push.apply(n,Array.prototype.slice.call(e)),n.forEach(function(e){if(f(e,i),o){for(var t,n=e,r=0;r<o&&n.parentElement;r+=1)n=n.parentElement;t=i,(d=d||new MutationObserver(function(e){e.forEach(function(e){e.target instanceof Element&&"childList"===e.type&&e.addedNodes.length&&e.target.querySelectorAll(".gobi-stories").forEach(function(e){return f(e,t)})})})).observe(n,{childList:!0,subtree:1<o})}})}},function(e,t,n){var r=n(289);e.exports=function(e){return r(e)&&e!=+e}},function(e,t,n){var r=n(121),i=n(123);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},function(e){e.exports=JSON.parse('{"name":"@gobistories/gobi-web-integration","version":"6.13.6","description":"This library will let you put your Gobi stories on your site.","keywords":["front-end","frontend","story","stories","gobi","video","social-media","plugin","embed"],"main":"dist/index.js","files":["/dist","README.md","LICENSE"],"types":"dist/index.d.ts","author":"Gobitech AS","license":"Apache-2.0","repository":"bitbucket:gobiapp/gobi-web-integration","bugs":{"url":"https://github.com/Gobi-Technologies/Gobi-Web-Integration/issues","email":"andreas@gobistories.com"},"homepage":"https://gobistories.co/dev/","scripts":{"publish-patch":"echo \'npm publish steps have been moved to Dockerfile, so just run npm version patch and then push your code. it will automatically get published\'","analyze":"webpack --config ./webpack/webpack.prod.js --analyze","lint":"eslint src/","build":"npm run build:prod","build:dev":"NODE_ENV=development BUILD_HASH=development webpack --config ./webpack/webpack.dev.js --progress --display-error-details","build:prod":"webpack --config ./webpack/webpack.prod.js --display-error-details --bail","serve":"NODE_ENV=development BUILD_HASH=development webpack-dev-server --config ./webpack/webpack.dev.js --watch --hot --info-verbosity none","deploy":"cloud-build-local --config=cloudbuild.yaml --dryrun=false -substitutions COMMIT_SHA=$(git rev-parse HEAD) .","docker-build":"docker build --tag gobi-web-integration:latest .","docker-kill":"docker kill $(docker ps | head -n 2 | tail -n 1 | awk \'{print $1}\')","docker-nginx":"docker run --volume $(pwd)/nginx.conf:/etc/nginx/conf.d/default.conf:ro --volume $(pwd)/web-player:/app/web-player --name my-nginx --publish 8080:8080 gobi-web-integration:latest","docker-rm":"docker rm my-nginx"},"devDependencies":{"@babel/cli":"^7.10.5","@babel/core":"^7.10.5","@babel/plugin-transform-typescript":"^7.10.5","@babel/preset-env":"^7.10.4","@babel/preset-react":"^7.10.4","@svgr/core":"~5.3.0","@svgr/webpack":"~5.0.0","@types/classnames":"^2.2.10","@types/hls.js":"^0.13.0","@types/jest":"^26.0.7","@types/node":"^14.0.25","@types/react":"^16.9.43","@types/react-dom":"^16.9.4","@types/uuid":"^8.3.0","@types/webpack":"^4.41.21","@typescript-eslint/eslint-plugin":"^3.8.0","@typescript-eslint/parser":"^3.8.0","babel-loader":"^8.0.6","camelcase":"^5.0.0","copy-webpack-plugin":"^6.0.3","dotenv-webpack":"^1.7.0","eslint":"^7.6.0","eslint-config-airbnb":"^18.2.0","eslint-config-prettier":"^6.11.0","eslint-import-resolver-alias":"^1.1.2","eslint-plugin-import":"^2.21.2","eslint-plugin-jsx-a11y":"^6.3.0","eslint-plugin-prettier":"^3.1.4","eslint-plugin-react":"^7.20.0","eslint-plugin-react-hooks":"^4.0.0","file-loader":"^5.0.2","html-webpack-plugin":"^3.2.0","null-loader":"^3.0.0","prettier":"^1.19.1","source-map-loader":"^0.2.4","ts-loader":"^6.2.1","typescript":"^3.9.7","typescript-plugin-css-modules":"^2.4.0","uglifyjs-webpack-plugin":"^2.2.0","url-loader":"^4.0.0","webpack":"^4.41.5","webpack-bundle-analyzer":"^3.6.1","webpack-cli":"^3.3.10","webpack-dev-server":"^3.10.1","webpack-merge":"^4.2.2"},"dependencies":{"@babel/polyfill":"^7.10.4","@types/lodash":"^4.14.168","@types/styled-components":"^5.1.9","call-bind":"^1.0.2","classnames":"^2.2.6","core-js":"^3.6.4","deepmerge":"^4.2.2","focus-trap-react":"^8.9.1","hls.js":"^0.13.2","intersection-observer":"^0.7.0","intervalometer":"^1.0.5","iphone-inline-video":"^2.2.2","lodash":"^4.17.21","proxy-polyfill":"^0.3.2","react":"^17.0.1","react-dom":"^17.0.1","react-intersection-observer":"^8.32.0","react-player":"^2.9.0","react-shadow":"^19.0.2","stackblur-canvas":"^2.2.0","styled-components":"^5.2.3","use-debounce":"^3.4.3","visibilityjs":"^2.0.2","whatwg-fetch":"^3.4.0"}}')},function(i,e,t){"use strict";t.r(e),t.d(e,"v1",function(){return l}),t.d(e,"v3",function(){return T}),t.d(e,"v4",function(){return x}),t.d(e,"v5",function(){return P}),t.d(e,"NIL",function(){return A}),t.d(e,"version",function(){return C}),t.d(e,"validate",function(){return r}),t.d(e,"stringify",function(){return c}),t.d(e,"parse",function(){return _});var o,a=new Uint8Array(16);function v(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=function(e){return"string"==typeof e&&s.test(e)},n=[],u=0;u<256;++u)n.push((u+256).toString(16).substr(1));var y,m,c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase();if(!r(e))throw TypeError("Stringified UUID is invalid");return e},b=0,w=0;var l=function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||y,n=void 0!==e.clockseq?e.clockseq:m,a=(null!=o&&null!=n||(a=e.random||(e.rng||v)(),null==o&&(o=y=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==n&&(n=m=16383&(a[6]<<8|a[7]))),void 0!==e.msecs?e.msecs:Date.now()),s=void 0!==e.nsecs?e.nsecs:w+1,u=a-b+(s-w)/1e4;if(u<0&&void 0===e.clockseq&&(n=n+1&16383),1e4<=(s=(u<0||b<a)&&void 0===e.nsecs?0:s))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,m=n,u=(1e4*(268435455&(a+=122192928e5))+(w=s))%4294967296,i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=255&u,e=a/4294967296*1e4&268435455,i[r++]=e>>>8&255,i[r++]=255&e,i[r++]=e>>>24&15|16,i[r++]=e>>>16&255,i[r++]=n>>>8|128,i[r++]=255&n;for(var l=0;l<6;++l)i[r+l]=o[l];return t||c(i)};var _=function(e){if(!r(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function E(e,a,s){function t(e,t,n,r){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),16!==(t="string"==typeof t?_(t):t).length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(t),i.set(e,t.length),(i=s(i))[6]=15&i[6]|a,i[8]=63&i[8]|128,n){r=r||0;for(var o=0;o<16;++o)n[r+o]=i[o];return n}return c(i)}try{t.name=e}catch(e){}return t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t}function S(e){return 14+(e+64>>>9<<4)+1}function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function k(e,t,n,r,i,o){return f((t=f(f(t,e),f(r,o)))<<i|t>>>32-i,n)}function d(e,t,n,r,i,o,a){return k(t&n|~t&r,e,t,i,o,a)}function h(e,t,n,r,i,o,a){return k(t&r|n&~r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return k(t^n^r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return k(n^(t|~r),e,t,i,o,a)}var T=E("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}for(var r=function(e,t){e[t>>5]|=128<<t%32,e[S(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,u=r,l=i,c=o;n=d(n,r,i,o,e[a],7,-680876936),o=d(o,n,r,i,e[a+1],12,-389564586),i=d(i,o,n,r,e[a+2],17,606105819),r=d(r,i,o,n,e[a+3],22,-1044525330),n=d(n,r,i,o,e[a+4],7,-176418897),o=d(o,n,r,i,e[a+5],12,1200080426),i=d(i,o,n,r,e[a+6],17,-1473231341),r=d(r,i,o,n,e[a+7],22,-45705983),n=d(n,r,i,o,e[a+8],7,1770035416),o=d(o,n,r,i,e[a+9],12,-1958414417),i=d(i,o,n,r,e[a+10],17,-42063),r=d(r,i,o,n,e[a+11],22,-1990404162),n=d(n,r,i,o,e[a+12],7,1804603682),o=d(o,n,r,i,e[a+13],12,-40341101),i=d(i,o,n,r,e[a+14],17,-1502002290),r=d(r,i,o,n,e[a+15],22,1236535329),n=h(n,r,i,o,e[a+1],5,-165796510),o=h(o,n,r,i,e[a+6],9,-1069501632),i=h(i,o,n,r,e[a+11],14,643717713),r=h(r,i,o,n,e[a],20,-373897302),n=h(n,r,i,o,e[a+5],5,-701558691),o=h(o,n,r,i,e[a+10],9,38016083),i=h(i,o,n,r,e[a+15],14,-660478335),r=h(r,i,o,n,e[a+4],20,-405537848),n=h(n,r,i,o,e[a+9],5,568446438),o=h(o,n,r,i,e[a+14],9,-1019803690),i=h(i,o,n,r,e[a+3],14,-187363961),r=h(r,i,o,n,e[a+8],20,1163531501),n=h(n,r,i,o,e[a+13],5,-1444681467),o=h(o,n,r,i,e[a+2],9,-51403784),i=h(i,o,n,r,e[a+7],14,1735328473),r=h(r,i,o,n,e[a+12],20,-1926607734),n=p(n,r,i,o,e[a+5],4,-378558),o=p(o,n,r,i,e[a+8],11,-2022574463),i=p(i,o,n,r,e[a+11],16,1839030562),r=p(r,i,o,n,e[a+14],23,-35309556),n=p(n,r,i,o,e[a+1],4,-1530992060),o=p(o,n,r,i,e[a+4],11,1272893353),i=p(i,o,n,r,e[a+7],16,-155497632),r=p(r,i,o,n,e[a+10],23,-1094730640),n=p(n,r,i,o,e[a+13],4,681279174),o=p(o,n,r,i,e[a],11,-358537222),i=p(i,o,n,r,e[a+3],16,-722521979),r=p(r,i,o,n,e[a+6],23,76029189),n=p(n,r,i,o,e[a+9],4,-640364487),o=p(o,n,r,i,e[a+12],11,-421815835),i=p(i,o,n,r,e[a+15],16,530742520),r=p(r,i,o,n,e[a+2],23,-995338651),n=g(n,r,i,o,e[a],6,-198630844),o=g(o,n,r,i,e[a+7],10,1126891415),i=g(i,o,n,r,e[a+14],15,-1416354905),r=g(r,i,o,n,e[a+5],21,-57434055),n=g(n,r,i,o,e[a+12],6,1700485571),o=g(o,n,r,i,e[a+3],10,-1894986606),i=g(i,o,n,r,e[a+10],15,-1051523),r=g(r,i,o,n,e[a+1],21,-2054922799),n=g(n,r,i,o,e[a+8],6,1873313359),o=g(o,n,r,i,e[a+15],10,-30611744),i=g(i,o,n,r,e[a+6],15,-1560198380),r=g(r,i,o,n,e[a+13],21,1309151649),n=g(n,r,i,o,e[a+4],6,-145523070),o=g(o,n,r,i,e[a+11],10,-1120210379),i=g(i,o,n,r,e[a+2],15,718787259),r=g(r,i,o,n,e[a+9],21,-343485551),n=f(n,s),r=f(r,u),i=f(i,l),o=f(o,c)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(S(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length),i=[],o=32*r.length,a="0123456789abcdef",s=0;s<o;s+=8){var u=r[s>>5]>>>s%32&255,u=parseInt(a.charAt(u>>>4&15)+a.charAt(15&u),16);i.push(u)}return i});var x=function(e,t,n){var r=(e=e||{}).random||(e.rng||v)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return c(r)};function O(e,t){return e<<t|e>>>32-t}var P=E("v5",80,function(e){var c=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var f=unescape(encodeURIComponent(e));e=[];for(var d=0;d<f.length;++d)e.push(f.charCodeAt(d))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var h=e.length/4+2,n=Math.ceil(h/16),r=new Array(n),i=0;i<n;++i){for(var p=new Uint32Array(16),o=0;o<16;++o)p[o]=e[64*i+4*o]<<24|e[64*i+4*o+1]<<16|e[64*i+4*o+2]<<8|e[64*i+4*o+3];r[i]=p}r[n-1][14]=8*(e.length-1)/Math.pow(2,32),r[n-1][14]=Math.floor(r[n-1][14]),r[n-1][15]=8*(e.length-1)&4294967295;for(var g=0;g<n;++g){for(var a=new Uint32Array(80),s=0;s<16;++s)a[s]=r[g][s];for(var u=16;u<80;++u)a[u]=O(a[u-3]^a[u-8]^a[u-14]^a[u-16],1);for(var v=t[0],y=t[1],m=t[2],b=t[3],w=t[4],l=0;l<80;++l)var _=Math.floor(l/20),_=O(v,5)+function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}(_,y,m,b)+w+c[_]+a[l]>>>0,w=b,b=m,m=O(y,30)>>>0,y=v,v=_;t[0]=t[0]+v>>>0,t[1]=t[1]+y>>>0,t[2]=t[2]+m>>>0,t[3]=t[3]+b>>>0,t[4]=t[4]+w>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]}),A="00000000-0000-0000-0000-000000000000";var C=function(e){if(!r(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(t,r,e){"use strict";e.r(r),e.d(r,"createFocusTrap",function(){return f});function i(e){return"INPUT"===e.tagName}function s(e){if(!e.name)return 1;function t(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')}var n=e.form||e.ownerDocument;if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)r=t(window.CSS.escape(e.name));else try{r=t(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),0}var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(r,e.form);return!r||r===e}function u(e){return i(t=e)&&"radio"===t.type&&!s(e);var t}function w(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,o)&&P(t,e)}function _(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,l)&&E(t,e)}
/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],o=e.join(","),a="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,T=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(o));return t&&a.call(e,o)&&r.unshift(e),r=r.filter(n)},x=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?"true"!==e.contentEditable&&("AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex"))?e.tabIndex:0:t},O=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},E=function(e,t){return!(t.disabled||i(n=t)&&"hidden"===n.type||function(e,t){if("hidden"===getComputedStyle(e).visibility)return!0;var n=a.call(e,"details>summary:first-of-type")?e.parentElement:e;if(a.call(n,"details:not([open]) *"))return!0;if(t&&"full"!==t){if("non-zero-area"===t)return t=(n=e.getBoundingClientRect()).width,n=n.height,0===t&&0===n}else for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(t,e.displayCheck)||"DETAILS"===(n=t).tagName&&Array.prototype.slice.apply(n.children).some(function(e){return"SUMMARY"===e.tagName})||function(e){if(i(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName)for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!r.contains(e)}return!0}t=t.parentElement}return!1}(t));var n},P=function(e,t){return!(!E(e,t)||u(t)||x(t)<0)},l=e.concat("iframe").join(",");
/*!
* focus-trap 6.7.3
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function A(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function C(e){return setTimeout(e,0)}function R(e,n){var r=-1;return e.every(function(e,t){return!n(e)||(r=t,!1)}),r}function S(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e}function k(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target}n=[];var n,L={activateTrap:function(e){0<n.length&&((t=n[n.length-1])!==e&&t.pause());var t=n.indexOf(e);-1===t||n.splice(t,1),n.push(e)},deactivateTrap:function(e){e=n.indexOf(e);-1!==e&&n.splice(e,1),0<n.length&&n[n.length-1].unpause()}},f=function(e,t){function a(e,t,n){return e&&void 0!==e[t]?e[t]:c[n||t]}function s(e){var t=c[e];if("function"==typeof t){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=t.apply(void 0,r)}if(!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var o=t;if("string"==typeof t&&!(o=l.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return o}function u(){if(f.tabbableGroups=f.containers.map(function(e){r=[],i=[],T(e,(n=n||{}).includeContainer,P.bind(null,n)).forEach(function(e,t){var n=x(e);0===n?r.push(e):i.push({documentOrder:t,tabIndex:n,node:e})});var r,i,t,n=i.sort(O).map(function(e){return e.node}).concat(r),o=T(e,(t=t||{}).includeContainer,E.bind(null,t));if(0<n.length)return{container:e,firstTabbableNode:n[0],lastTabbableNode:n[n.length-1],nextTabbableNode:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=o.findIndex(function(e){return e===t});return e?o.slice(n+1).find(function(e){return w(e)}):o.slice(0,n).reverse().find(function(e){return w(e)})}}}).filter(function(e){return!!e}),f.tabbableGroups.length<=0&&!s("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")}function p(e){var t=s("setReturnFocus",e);return t||!1!==t&&e}function o(){return f.active&&(L.activateTrap(h),f.delayInitialFocusTimer=c.delayInitialFocus?C(function(){d(i())}):d(i()),l.addEventListener("focusin",v,!0),l.addEventListener("mousedown",n,{capture:!0,passive:!1}),l.addEventListener("touchstart",n,{capture:!0,passive:!1}),l.addEventListener("click",b,{capture:!0,passive:!1}),l.addEventListener("keydown",m,{capture:!0,passive:!1}),h)}function g(){return f.active&&(l.removeEventListener("focusin",v,!0),l.removeEventListener("mousedown",n,!0),l.removeEventListener("touchstart",n,!0),l.removeEventListener("click",b,!0),l.removeEventListener("keydown",m,!0),h)}var l=(null==t?void 0:t.document)||document,c=A({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),f={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},r=function(t){return!(!t||!f.containers.some(function(e){return e.contains(t)}))},i=function(){var e,t=s("initialFocus");if(!1===t)return!1;if(!(t=void 0===t?r(l.activeElement)?l.activeElement:(e=f.tabbableGroups[0])&&e.firstTabbableNode||s("fallbackFocus"):t))throw new Error("Your focus-trap needs to have at least one focusable element");return t},d=function e(t){var n;!1!==t&&t!==l.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!c.preventScroll}),f.mostRecentlyFocusedNode=t,(n=t).tagName&&"input"===n.tagName.toLowerCase()&&"function"==typeof n.select&&t.select()):e(i()))},n=function(e){var t=k(e);r(t)||(S(c.clickOutsideDeactivates,e)?h.deactivate({returnFocus:c.returnFocusOnDeactivate&&!_(t)}):S(c.allowOutsideClick,e)||e.preventDefault())},v=function(e){var t=k(e),n=r(t);n||t instanceof Document?n&&(f.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),d(f.mostRecentlyFocusedNode||i()))},y=function(e){var t,n,r,i=k(e),o=(u(),null);0<f.tabbableGroups.length?(r=0<=(t=R(f.tabbableGroups,function(e){return e.container.contains(i)}))?f.tabbableGroups[t]:void 0,t<0?o=e.shiftKey?f.tabbableGroups[f.tabbableGroups.length-1].lastTabbableNode:f.tabbableGroups[0].firstTabbableNode:e.shiftKey?0<=(n=(n=R(f.tabbableGroups,function(e){e=e.firstTabbableNode;return i===e}))<0&&(r.container===i||_(i)&&!w(i)&&!r.nextTabbableNode(i,!1))?t:n)&&(n=0===n?f.tabbableGroups.length-1:n-1,o=f.tabbableGroups[n].lastTabbableNode):0<=(n=(n=R(f.tabbableGroups,function(e){e=e.lastTabbableNode;return i===e}))<0&&(r.container===i||_(i)&&!w(i)&&!r.nextTabbableNode(i))?t:n)&&(r=n===f.tabbableGroups.length-1?0:n+1,o=f.tabbableGroups[r].firstTabbableNode)):o=s("fallbackFocus"),o&&(e.preventDefault(),d(o))},m=function(e){if(("Escape"===(t=e).key||"Esc"===t.key||27===t.keyCode)&&!1!==S(c.escapeDeactivates,e))return e.preventDefault(),void h.deactivate();var t;"Tab"!==(t=e).key&&9!==t.keyCode||y(e)},b=function(e){var t;S(c.clickOutsideDeactivates,e)||(t=k(e),r(t)||S(c.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation()))},h={activate:function(e){if(f.active)return this;function t(){i&&u(),o(),r&&r()}var n=a(e,"onActivate"),r=a(e,"onPostActivate"),i=a(e,"checkCanFocusTrap");i||u(),f.active=!0,f.paused=!1,f.nodeFocusedBeforeActivation=l.activeElement,n&&n();return i?i(f.containers.concat()).then(t,t):t(),this},deactivate:function(e){if(!f.active)return this;clearTimeout(f.delayInitialFocusTimer),f.delayInitialFocusTimer=void 0,g(),f.active=!1,f.paused=!1,L.deactivateTrap(h);function t(){C(function(){o&&d(p(f.nodeFocusedBeforeActivation)),r&&r()})}var n=a(e,"onDeactivate"),r=a(e,"onPostDeactivate"),i=a(e,"checkCanReturnFocus"),o=(n&&n(),a(e,"returnFocus","returnFocusOnDeactivate"));return o&&i?i(p(f.nodeFocusedBeforeActivation)).then(t,t):t(),this},pause:function(){return f.paused||!f.active||(f.paused=!0,g()),this},unpause:function(){return f.paused&&f.active&&(f.paused=!1,u(),o()),this},updateContainerElements:function(e){e=[].concat(e).filter(Boolean);return f.containers=e.map(function(e){return"string"==typeof e?l.querySelector(e):e}),f.active&&u(),this}};return h.updateContainerElements(e),h}}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=130);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r});